{"version":3,"file":"misago.js","mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;;;;;WCAA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UElDA;UACA;UACA;UACA,0DAA0D,+CAA+C;UACzG,0DAA0D,2DAA2D;UACrH,0DAA0D,gEAAgE;UAC1H,0DAA0D,2DAA2D;UACrH,0DAA0D,8DAA8D;UACxH,0DAA0D,kFAAkF;UAC5I,0DAA0D,8EAA8E;UACxI,0DAA0D,6EAA6E;UACvI,0DAA0D,4EAA4E;UACtI,0DAA0D,yEAAyE;UACnI,0DAA0D,yEAAyE;UACnI,0DAA0D,yFAAyF;UACnJ,0DAA0D,wFAAwF;UAClJ,0DAA0D,qFAAqF;UAC/I,0DAA0D,wEAAwE;UAClI,0DAA0D,0EAA0E;UACpI,0DAA0D,6EAA6E;UACvI,0DAA0D,wEAAwE;UAClI,0DAA0D,yEAAyE;UACnI,0DAA0D,2EAA2E;UACrI,0DAA0D,uEAAuE;UACjI,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,6EAA6E;UACvI,0DAA0D,4DAA4D;UACtH,0DAA0D,oEAAoE;UAC9H,0DAA0D,iEAAiE;UAC3H,0DAA0D,4DAA4D;UACtH,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,4EAA4E;UACtI,0DAA0D,oEAAoE;UAC9H,0DAA0D,qEAAqE;UAC/H,0DAA0D,+EAA+E;UACzI,0DAA0D,+EAA+E;UACzI,0DAA0D,uEAAuE;UACjI,0DAA0D,sEAAsE;UAChI,0DAA0D,yEAAyE;UACnI,0DAA0D,wEAAwE;UAClI,0DAA0D,sEAAsE;UAChI,0DAA0D,uEAAuE;UACjI,0DAA0D,oEAAoE;UAC9H,0DAA0D,gFAAgF;UAC1I,0DAA0D,qEAAqE;UAC/H,0DAA0D,+DAA+D;UACzH,0DAA0D,4DAA4D;UACtH,0DAA0D,iEAAiE;UAC3H,oFAAoF,6DAA6D;UACjJ","sources":["webpack://misago/./highlight/highlight.pack.js","webpack://misago/./src/components/Breadcrumbs/Breadcrumbs.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsCategory.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx","webpack://misago/./src/components/Breadcrumbs/index.js","webpack://misago/./src/components/FlexRow/FlexRow.jsx","webpack://misago/./src/components/FlexRow/FlexRowCol.jsx","webpack://misago/./src/components/FlexRow/FlexRowSection.jsx","webpack://misago/./src/components/FlexRow/index.js","webpack://misago/./src/components/PageContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeader.jsx","webpack://misago/./src/components/PageHeader/PageHeaderBanner.jsx","webpack://misago/./src/components/PageHeader/PageHeaderContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeaderDetails.jsx","webpack://misago/./src/components/PageHeader/PageHeaderHTMLMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderPlain.jsx","webpack://misago/./src/components/PageHeader/index.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadFlags.jsx","webpack://misago/./src/components/ThreadReplies.jsx","webpack://misago/./src/components/ThreadStarterCard.jsx","webpack://misago/./src/components/ThreadsList/ThreadsList.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListEmpty.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItem.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemActivity.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCategory.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCheckbox.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemIcon.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemLastPoster.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscription.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListLoader.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx","webpack://misago/./src/components/ThreadsList/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UIPreview/UIPreviewText.js","webpack://misago/./src/components/UIPreview/index.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/categories/blankslate.js","webpack://misago/./src/components/categories/categories-list.js","webpack://misago/./src/components/categories/category/index.js","webpack://misago/./src/components/categories/category/list-item/description.js","webpack://misago/./src/components/categories/category/list-item/icon.js","webpack://misago/./src/components/categories/category/list-item/index.js","webpack://misago/./src/components/categories/category/list-item/last-thread.js","webpack://misago/./src/components/categories/category/list-item/main.js","webpack://misago/./src/components/categories/category/list-item/stats.js","webpack://misago/./src/components/categories/category/list-item/subcategories/index.js","webpack://misago/./src/components/categories/category/list-item/subcategories/list-item.js","webpack://misago/./src/components/categories/index.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/editor/actions/action.js","webpack://misago/./src/components/editor/actions/code.js","webpack://misago/./src/components/editor/actions/emphasis.js","webpack://misago/./src/components/editor/actions/hr.js","webpack://misago/./src/components/editor/actions/image.js","webpack://misago/./src/components/editor/actions/link.js","webpack://misago/./src/components/editor/actions/quote.js","webpack://misago/./src/components/editor/actions/spoiler.js","webpack://misago/./src/components/editor/actions/strikethrough.js","webpack://misago/./src/components/editor/actions/strong.js","webpack://misago/./src/components/editor/attachments/attachment/complete.js","webpack://misago/./src/components/editor/attachments/attachment/error.js","webpack://misago/./src/components/editor/attachments/attachment/index.js","webpack://misago/./src/components/editor/attachments/attachment/upload.js","webpack://misago/./src/components/editor/attachments/index.js","webpack://misago/./src/components/editor/attachments/list.js","webpack://misago/./src/components/editor/attachments/upload-button.js","webpack://misago/./src/components/editor/attachments/uploader.js","webpack://misago/./src/components/editor/index.js","webpack://misago/./src/components/editor/markup-preview.js","webpack://misago/./src/components/editor/textutils.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/navbar-search/clean-results.js","webpack://misago/./src/components/navbar-search/dropdown/constants.js","webpack://misago/./src/components/navbar-search/dropdown/dropdown-menu.js","webpack://misago/./src/components/navbar-search/dropdown/empty.js","webpack://misago/./src/components/navbar-search/dropdown/flatten-results.js","webpack://misago/./src/components/navbar-search/dropdown/index.js","webpack://misago/./src/components/navbar-search/dropdown/input.js","webpack://misago/./src/components/navbar-search/dropdown/loader.js","webpack://misago/./src/components/navbar-search/dropdown/result/footer.js","webpack://misago/./src/components/navbar-search/dropdown/result/header.js","webpack://misago/./src/components/navbar-search/dropdown/result/index.js","webpack://misago/./src/components/navbar-search/dropdown/result/result.js","webpack://misago/./src/components/navbar-search/dropdown/result/thread.js","webpack://misago/./src/components/navbar-search/dropdown/result/user.js","webpack://misago/./src/components/navbar-search/index.js","webpack://misago/./src/components/options/change-username/form-loading.js","webpack://misago/./src/components/options/change-username/form-locked.js","webpack://misago/./src/components/options/change-username/form.js","webpack://misago/./src/components/options/change-username/root.js","webpack://misago/./src/components/options/delete-account.js","webpack://misago/./src/components/options/download-data.js","webpack://misago/./src/components/options/edit-details.js","webpack://misago/./src/components/options/forum-options.js","webpack://misago/./src/components/options/navs.js","webpack://misago/./src/components/options/root.js","webpack://misago/./src/components/options/sign-in-credentials/UnusablePasswordMessage.js","webpack://misago/./src/components/options/sign-in-credentials/change-email.js","webpack://misago/./src/components/options/sign-in-credentials/change-password.js","webpack://misago/./src/components/options/sign-in-credentials/root.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/container.js","webpack://misago/./src/components/posting/utils/loader.js","webpack://misago/./src/components/posting/utils/message.js","webpack://misago/./src/components/posting/utils/options.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ProfileDataList.jsx","webpack://misago/./src/components/profile/ProfileHeader.jsx","webpack://misago/./src/components/profile/ProfileNav.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register-button.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search/form.js","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/search/page.js","webpack://misago/./src/components/search/sidenav.js","webpack://misago/./src/components/search/threads/index.js","webpack://misago/./src/components/search/threads/results.js","webpack://misago/./src/components/search/users/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeader.jsx","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx","webpack://misago/./src/components/thread/ThreadHeader/index.js","webpack://misago/./src/components/thread/ThreadModeration.jsx","webpack://misago/./src/components/thread/ThreadPagination.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadPostsLeft.jsx","webpack://misago/./src/components/thread/ThreadPostsModeration.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadSubscriptionButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/threads/ThreadsCategoryPicker.jsx","webpack://misago/./src/components/threads/ThreadsListPicker.jsx","webpack://misago/./src/components/threads/ThreadsToolbar.jsx","webpack://misago/./src/components/threads/ThreadsToolbarModeration.jsx","webpack://misago/./src/components/threads/compare.js","webpack://misago/./src/components/threads/container.js","webpack://misago/./src/components/threads/moderation/controls.js","webpack://misago/./src/components/threads/moderation/errors-list.js","webpack://misago/./src/components/threads/moderation/merge.js","webpack://misago/./src/components/threads/moderation/move.js","webpack://misago/./src/components/threads/root.js","webpack://misago/./src/components/threads/route.js","webpack://misago/./src/components/threads/utils.js","webpack://misago/./src/components/user-menu/guest-nav.js","webpack://misago/./src/components/user-menu/root.js","webpack://misago/./src/components/user-menu/user-nav.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/UsersNav.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/rank/RankUsersLeft.jsx","webpack://misago/./src/components/users/rank/RankUsersList.js","webpack://misago/./src/components/users/rank/RankUsersListLoader.js","webpack://misago/./src/components/users/rank/RankUsersPagination.jsx","webpack://misago/./src/components/users/rank/RankUsersToolbar.jsx","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/categories.js","webpack://misago/./src/initializers/components/options.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/threads.js","webpack://misago/./src/initializers/components/user-menu.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/is-url.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less?9070","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/amd options","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["/*! highlight.js v9.9.0 | BSD3 License | git.io/hljslicense */\n!function(e){var n=\"object\"==typeof window&&window||\"object\"==typeof self&&self;\"undefined\"!=typeof undefined?e(exports):n&&(n.hljs=e({}),\"function\"==typeof define&&define.amd&&define([],function(){return n.hljs}))}(function(e){function n(e){return e.replace(/[&<>]/gm,function(e){return I[e]})}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0===t.index}function i(e){return k.test(e)}function a(e){var n,t,r,a,o=e.className+\" \";if(o+=e.parentNode?e.parentNode.className:\"\",t=B.exec(o))return R(t[1])?t[1]:\"no-highlight\";for(o=o.split(/\\s+/),n=0,r=o.length;r>n;n++)if(a=o[n],i(a)||R(a))return a}function o(e,n){var t,r={};for(t in e)r[t]=e[t];if(n)for(t in n)r[t]=n[t];return r}function u(e){var n=[];return function r(e,i){for(var a=e.firstChild;a;a=a.nextSibling)3===a.nodeType?i+=a.nodeValue.length:1===a.nodeType&&(n.push({event:\"start\",offset:i,node:a}),i=r(a,i),t(a).match(/br|hr|img|input/)||n.push({event:\"stop\",offset:i,node:a}));return i}(e,0),n}function c(e,r,i){function a(){return e.length&&r.length?e[0].offset!==r[0].offset?e[0].offset<r[0].offset?e:r:\"start\"===r[0].event?e:r:e.length?e:r}function o(e){function r(e){return\" \"+e.nodeName+'=\"'+n(e.value)+'\"'}l+=\"<\"+t(e)+w.map.call(e.attributes,r).join(\"\")+\">\"}function u(e){l+=\"</\"+t(e)+\">\"}function c(e){(\"start\"===e.event?o:u)(e.node)}for(var s=0,l=\"\",f=[];e.length||r.length;){var g=a();if(l+=n(i.substring(s,g[0].offset)),s=g[0].offset,g===e){f.reverse().forEach(u);do c(g.splice(0,1)[0]),g=a();while(g===e&&g.length&&g[0].offset===s);f.reverse().forEach(o)}else\"start\"===g[0].event?f.push(g[0].node):f.pop(),c(g.splice(0,1)[0])}return l+n(i.substr(s))}function s(e){function n(e){return e&&e.source||e}function t(t,r){return new RegExp(n(t),\"m\"+(e.cI?\"i\":\"\")+(r?\"g\":\"\"))}function r(i,a){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var u={},c=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(\" \").forEach(function(e){var t=e.split(\"|\");u[t[0]]=[n,t[1]?Number(t[1]):1]})};\"string\"==typeof i.k?c(\"keyword\",i.k):E(i.k).forEach(function(e){c(e,i.k[e])}),i.k=u}i.lR=t(i.l||/\\w+/,!0),a&&(i.bK&&(i.b=\"\\\\b(\"+i.bK.split(\" \").join(\"|\")+\")\\\\b\"),i.b||(i.b=/\\B|\\b/),i.bR=t(i.b),i.e||i.eW||(i.e=/\\B|\\b/),i.e&&(i.eR=t(i.e)),i.tE=n(i.e)||\"\",i.eW&&a.tE&&(i.tE+=(i.e?\"|\":\"\")+a.tE)),i.i&&(i.iR=t(i.i)),null==i.r&&(i.r=1),i.c||(i.c=[]);var s=[];i.c.forEach(function(e){e.v?e.v.forEach(function(n){s.push(o(e,n))}):s.push(\"self\"===e?i:e)}),i.c=s,i.c.forEach(function(e){r(e,i)}),i.starts&&r(i.starts,a);var l=i.c.map(function(e){return e.bK?\"\\\\.?(\"+e.b+\")\\\\.?\":e.b}).concat([i.tE,i.i]).map(n).filter(Boolean);i.t=l.length?t(l.join(\"|\"),!0):{exec:function(){return null}}}}r(e)}function l(e,t,i,a){function o(e,n){var t,i;for(t=0,i=n.c.length;i>t;t++)if(r(n.c[t].bR,e))return n.c[t]}function u(e,n){if(r(e.eR,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?u(e.parent,n):void 0}function c(e,n){return!i&&r(n.iR,e)}function g(e,n){var t=N.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function h(e,n,t,r){var i=r?\"\":y.classPrefix,a='<span class=\"'+i,o=t?\"\":C;return a+=e+'\">',a+n+o}function p(){var e,t,r,i;if(!E.k)return n(B);for(i=\"\",t=0,E.lR.lastIndex=0,r=E.lR.exec(B);r;)i+=n(B.substring(t,r.index)),e=g(E,r),e?(M+=e[1],i+=h(e[0],n(r[0]))):i+=n(r[0]),t=E.lR.lastIndex,r=E.lR.exec(B);return i+n(B.substr(t))}function d(){var e=\"string\"==typeof E.sL;if(e&&!x[E.sL])return n(B);var t=e?l(E.sL,B,!0,L[E.sL]):f(B,E.sL.length?E.sL:void 0);return E.r>0&&(M+=t.r),e&&(L[E.sL]=t.top),h(t.language,t.value,!1,!0)}function b(){k+=null!=E.sL?d():p(),B=\"\"}function v(e){k+=e.cN?h(e.cN,\"\",!0):\"\",E=Object.create(e,{parent:{value:E}})}function m(e,n){if(B+=e,null==n)return b(),0;var t=o(n,E);if(t)return t.skip?B+=n:(t.eB&&(B+=n),b(),t.rB||t.eB||(B=n)),v(t,n),t.rB?0:n.length;var r=u(E,n);if(r){var i=E;i.skip?B+=n:(i.rE||i.eE||(B+=n),b(),i.eE&&(B=n));do E.cN&&(k+=C),E.skip||(M+=E.r),E=E.parent;while(E!==r.parent);return r.starts&&v(r.starts,\"\"),i.rE?0:n.length}if(c(n,E))throw new Error('Illegal lexeme \"'+n+'\" for mode \"'+(E.cN||\"<unnamed>\")+'\"');return B+=n,n.length||1}var N=R(e);if(!N)throw new Error('Unknown language: \"'+e+'\"');s(N);var w,E=a||N,L={},k=\"\";for(w=E;w!==N;w=w.parent)w.cN&&(k=h(w.cN,\"\",!0)+k);var B=\"\",M=0;try{for(var I,j,O=0;;){if(E.t.lastIndex=O,I=E.t.exec(t),!I)break;j=m(t.substring(O,I.index),I[0]),O=I.index+j}for(m(t.substr(O)),w=E;w.parent;w=w.parent)w.cN&&(k+=C);return{r:M,value:k,language:e,top:E}}catch(T){if(T.message&&-1!==T.message.indexOf(\"Illegal\"))return{r:0,value:n(t)};throw T}}function f(e,t){t=t||y.languages||E(x);var r={r:0,value:n(e)},i=r;return t.filter(R).forEach(function(n){var t=l(n,e,!1);t.language=n,t.r>i.r&&(i=t),t.r>r.r&&(i=r,r=t)}),i.language&&(r.second_best=i),r}function g(e){return y.tabReplace||y.useBR?e.replace(M,function(e,n){return y.useBR&&\"\\n\"===e?\"<br>\":y.tabReplace?n.replace(/\\t/g,y.tabReplace):void 0}):e}function h(e,n,t){var r=n?L[n]:t,i=[e.trim()];return e.match(/\\bhljs\\b/)||i.push(\"hljs\"),-1===e.indexOf(r)&&i.push(r),i.join(\" \").trim()}function p(e){var n,t,r,o,s,p=a(e);i(p)||(y.useBR?(n=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),n.innerHTML=e.innerHTML.replace(/\\n/g,\"\").replace(/<br[ \\/]*>/g,\"\\n\")):n=e,s=n.textContent,r=p?l(p,s,!0):f(s),t=u(n),t.length&&(o=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),o.innerHTML=r.value,r.value=c(t,u(o),s)),r.value=g(r.value),e.innerHTML=r.value,e.className=h(e.className,p,r.language),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function d(e){y=o(y,e)}function b(){if(!b.called){b.called=!0;var e=document.querySelectorAll(\"pre code\");w.forEach.call(e,p)}}function v(){addEventListener(\"DOMContentLoaded\",b,!1),addEventListener(\"load\",b,!1)}function m(n,t){var r=x[n]=t(e);r.aliases&&r.aliases.forEach(function(e){L[e]=n})}function N(){return E(x)}function R(e){return e=(e||\"\").toLowerCase(),x[e]||x[L[e]]}var w=[],E=Object.keys,x={},L={},k=/^(no-?highlight|plain|text)$/i,B=/\\blang(?:uage)?-([\\w-]+)\\b/i,M=/((^(<[^>]+>|\\t|)+|(?:\\n)))/gm,C=\"</span>\",y={classPrefix:\"hljs-\",tabReplace:null,useBR:!1,languages:void 0},I={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\"};return e.highlight=l,e.highlightAuto=f,e.fixMarkup=g,e.highlightBlock=p,e.configure=d,e.initHighlighting=b,e.initHighlightingOnLoad=v,e.registerLanguage=m,e.listLanguages=N,e.getLanguage=R,e.inherit=o,e.IR=\"[a-zA-Z]\\\\w*\",e.UIR=\"[a-zA-Z_]\\\\w*\",e.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",e.CNR=\"(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)\",e.BNR=\"\\\\b(0b[01]+)\",e.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",e.BE={b:\"\\\\\\\\[\\\\s\\\\S]\",r:0},e.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[e.BE]},e.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[e.BE]},e.PWM={b:/\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\\b/},e.C=function(n,t,r){var i=e.inherit({cN:\"comment\",b:n,e:t,c:[]},r||{});return i.c.push(e.PWM),i.c.push({cN:\"doctag\",b:\"(?:TODO|FIXME|NOTE|BUG|XXX):\",r:0}),i},e.CLCM=e.C(\"//\",\"$\"),e.CBCM=e.C(\"/\\\\*\",\"\\\\*/\"),e.HCM=e.C(\"#\",\"$\"),e.NM={cN:\"number\",b:e.NR,r:0},e.CNM={cN:\"number\",b:e.CNR,r:0},e.BNM={cN:\"number\",b:e.BNR,r:0},e.CSSNM={cN:\"number\",b:e.NR+\"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\",r:0},e.RM={cN:\"regexp\",b:/\\//,e:/\\/[gimuy]*/,i:/\\n/,c:[e.BE,{b:/\\[/,e:/\\]/,r:0,c:[e.BE]}]},e.TM={cN:\"title\",b:e.IR,r:0},e.UTM={cN:\"title\",b:e.UIR,r:0},e.METHOD_GUARD={b:\"\\\\.\\\\s*\"+e.UIR,r:0},e});hljs.registerLanguage(\"xml\",function(s){var e=\"[A-Za-z0-9\\\\._:-]+\",t={eW:!0,i:/</,r:0,c:[{cN:\"attr\",b:e,r:0},{b:/=\\s*/,r:0,c:[{cN:\"string\",endsParent:!0,v:[{b:/\"/,e:/\"/},{b:/'/,e:/'/},{b:/[^\\s\"'=<>`]+/}]}]}]};return{aliases:[\"html\",\"xhtml\",\"rss\",\"atom\",\"xjb\",\"xsd\",\"xsl\",\"plist\"],cI:!0,c:[{cN:\"meta\",b:\"<!DOCTYPE\",e:\">\",r:10,c:[{b:\"\\\\[\",e:\"\\\\]\"}]},s.C(\"<!--\",\"-->\",{r:10}),{b:\"<\\\\!\\\\[CDATA\\\\[\",e:\"\\\\]\\\\]>\",r:10},{b:/<\\?(php)?/,e:/\\?>/,sL:\"php\",c:[{b:\"/\\\\*\",e:\"\\\\*/\",skip:!0}]},{cN:\"tag\",b:\"<style(?=\\\\s|>|$)\",e:\">\",k:{name:\"style\"},c:[t],starts:{e:\"</style>\",rE:!0,sL:[\"css\",\"xml\"]}},{cN:\"tag\",b:\"<script(?=\\\\s|>|$)\",e:\">\",k:{name:\"script\"},c:[t],starts:{e:\"</script>\",rE:!0,sL:[\"actionscript\",\"javascript\",\"handlebars\",\"xml\"]}},{cN:\"meta\",v:[{b:/<\\?xml/,e:/\\?>/,r:10},{b:/<\\?\\w+/,e:/\\?>/}]},{cN:\"tag\",b:\"</?\",e:\"/?>\",c:[{cN:\"name\",b:/[^\\/><\\s]+/,r:0},t]}]}});hljs.registerLanguage(\"markdown\",function(e){return{aliases:[\"md\",\"mkdown\",\"mkd\"],c:[{cN:\"section\",v:[{b:\"^#{1,6}\",e:\"$\"},{b:\"^.+?\\\\n[=-]{2,}$\"}]},{b:\"<\",e:\">\",sL:\"xml\",r:0},{cN:\"bullet\",b:\"^([*+-]|(\\\\d+\\\\.))\\\\s+\"},{cN:\"strong\",b:\"[*_]{2}.+?[*_]{2}\"},{cN:\"emphasis\",v:[{b:\"\\\\*.+?\\\\*\"},{b:\"_.+?_\",r:0}]},{cN:\"quote\",b:\"^>\\\\s+\",e:\"$\"},{cN:\"code\",v:[{b:\"^```w*s*$\",e:\"^```s*$\"},{b:\"`.+?`\"},{b:\"^( {4}|\t)\",e:\"$\",r:0}]},{b:\"^[-\\\\*]{3,}\",e:\"$\"},{b:\"\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]\",rB:!0,c:[{cN:\"string\",b:\"\\\\[\",e:\"\\\\]\",eB:!0,rE:!0,r:0},{cN:\"link\",b:\"\\\\]\\\\(\",e:\"\\\\)\",eB:!0,eE:!0},{cN:\"symbol\",b:\"\\\\]\\\\[\",e:\"\\\\]\",eB:!0,eE:!0}],r:10},{b:/^\\[[^\\n]+\\]:/,rB:!0,c:[{cN:\"symbol\",b:/\\[/,e:/\\]/,eB:!0,eE:!0},{cN:\"link\",b:/:\\s*/,e:/$/,eB:!0}]}]}});hljs.registerLanguage(\"ini\",function(e){var b={cN:\"string\",c:[e.BE],v:[{b:\"'''\",e:\"'''\",r:10},{b:'\"\"\"',e:'\"\"\"',r:10},{b:'\"',e:'\"'},{b:\"'\",e:\"'\"}]};return{aliases:[\"toml\"],cI:!0,i:/\\S/,c:[e.C(\";\",\"$\"),e.HCM,{cN:\"section\",b:/^\\s*\\[+/,e:/\\]+/},{b:/^[a-z0-9\\[\\]_-]+\\s*=\\s*/,e:\"$\",rB:!0,c:[{cN:\"attr\",b:/[a-z0-9\\[\\]_-]+/},{b:/=/,eW:!0,r:0,c:[{cN:\"literal\",b:/\\bon|off|true|false|yes|no\\b/},{cN:\"variable\",v:[{b:/\\$[\\w\\d\"][\\w\\d_]*/},{b:/\\$\\{(.*?)}/}]},b,{cN:\"number\",b:/([\\+\\-]+)?[\\d]+_[\\d_]+/},e.NM]}]}]}});hljs.registerLanguage(\"python\",function(e){var r={cN:\"meta\",b:/^(>>>|\\.\\.\\.) /},b={cN:\"string\",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[r],r:10},{b:/(u|b)?r?\"\"\"/,e:/\"\"\"/,c:[r],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)\"/,e:/\"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)\"/,e:/\"/},e.ASM,e.QSM]},a={cN:\"number\",r:0,v:[{b:e.BNR+\"[lLjJ]?\"},{b:\"\\\\b(0o[0-7]+)[lLjJ]?\"},{b:e.CNR+\"[lLjJ]?\"}]},l={cN:\"params\",b:/\\(/,e:/\\)/,c:[\"self\",r,a,b]};return{aliases:[\"py\",\"gyp\"],k:{keyword:\"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False\",built_in:\"Ellipsis NotImplemented\"},i:/(<\\/|->|\\?)|=>/,c:[r,a,b,e.HCM,{v:[{cN:\"function\",bK:\"def\"},{cN:\"class\",bK:\"class\"}],e:/:/,i:/[${=;\\n,]/,c:[e.UTM,l,{b:/->/,eW:!0,k:\"None\"}]},{cN:\"meta\",b:/^[\\t ]*@/,e:/$/},{b:/\\b(print|exec)\\(/}]}});hljs.registerLanguage(\"css\",function(e){var c=\"[a-zA-Z-][a-zA-Z0-9_-]*\",t={b:/[A-Z\\_\\.\\-]+\\s*:/,rB:!0,e:\";\",eW:!0,c:[{cN:\"attribute\",b:/\\S/,e:\":\",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\\w-]+\\(/,rB:!0,c:[{cN:\"built_in\",b:/[\\w-]+/},{b:/\\(/,e:/\\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:\"number\",b:\"#[0-9A-Fa-f]+\"},{cN:\"meta\",b:\"!important\"}]}}]};return{cI:!0,i:/[=\\/|'\\$]/,c:[e.CBCM,{cN:\"selector-id\",b:/#[A-Za-z0-9_-]+/},{cN:\"selector-class\",b:/\\.[A-Za-z0-9_-]+/},{cN:\"selector-attr\",b:/\\[/,e:/\\]/,i:\"$\"},{cN:\"selector-pseudo\",b:/:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"'.]+/},{b:\"@(font-face|page)\",l:\"[a-z-]+\",k:\"font-face page\"},{b:\"@\",e:\"[{;]\",i:/:/,c:[{cN:\"keyword\",b:/\\w+/},{b:/\\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:\"selector-tag\",b:c,r:0},{b:\"{\",e:\"}\",i:/\\S/,c:[e.CBCM,t]}]}});hljs.registerLanguage(\"less\",function(e){var r=\"[\\\\w-]+\",t=\"(\"+r+\"|@{\"+r+\"})\",a=[],c=[],s=function(e){return{cN:\"string\",b:\"~?\"+e+\".*?\"+e}},b=function(e,r,t){return{cN:e,b:r,r:t}},n={b:\"\\\\(\",e:\"\\\\)\",c:c,r:0};c.push(e.CLCM,e.CBCM,s(\"'\"),s('\"'),e.CSSNM,{b:\"(url|data-uri)\\\\(\",starts:{cN:\"string\",e:\"[\\\\)\\\\n]\",eE:!0}},b(\"number\",\"#[0-9A-Fa-f]+\\\\b\"),n,b(\"variable\",\"@@?\"+r,10),b(\"variable\",\"@{\"+r+\"}\"),b(\"built_in\",\"~?`[^`]*?`\"),{cN:\"attribute\",b:r+\"\\\\s*:\",e:\":\",rB:!0,eE:!0},{cN:\"meta\",b:\"!important\"});var i=c.concat({b:\"{\",e:\"}\",c:a}),o={bK:\"when\",eW:!0,c:[{bK:\"and not\"}].concat(c)},u={b:t+\"\\\\s*:\",rB:!0,e:\"[;}]\",r:0,c:[{cN:\"attribute\",b:t,e:\":\",eE:!0,starts:{eW:!0,i:\"[<=$]\",r:0,c:c}}]},l={cN:\"keyword\",b:\"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\\\b\",starts:{e:\"[;{}]\",rE:!0,c:c,r:0}},C={cN:\"variable\",v:[{b:\"@\"+r+\"\\\\s*:\",r:15},{b:\"@\"+r}],starts:{e:\"[;}]\",rE:!0,c:i}},p={v:[{b:\"[\\\\.#:&\\\\[>]\",e:\"[;{}]\"},{b:t,e:\"{\"}],rB:!0,rE:!0,i:\"[<='$\\\"]\",r:0,c:[e.CLCM,e.CBCM,o,b(\"keyword\",\"all\\\\b\"),b(\"variable\",\"@{\"+r+\"}\"),b(\"selector-tag\",t+\"%?\",0),b(\"selector-id\",\"#\"+t),b(\"selector-class\",\"\\\\.\"+t,0),b(\"selector-tag\",\"&\",0),{cN:\"selector-attr\",b:\"\\\\[\",e:\"\\\\]\"},{cN:\"selector-pseudo\",b:/:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"'.]+/},{b:\"\\\\(\",e:\"\\\\)\",c:i},{b:\"!important\"}]};return a.push(e.CLCM,e.CBCM,l,C,u,p),{cI:!0,i:\"[=>'/<($\\\"]\",c:a}});hljs.registerLanguage(\"scss\",function(e){var t=\"[a-zA-Z-][a-zA-Z0-9_-]*\",i={cN:\"variable\",b:\"(\\\\$\"+t+\")\\\\b\"},r={cN:\"number\",b:\"#[0-9A-Fa-f]+\"};({cN:\"attribute\",b:\"[A-Z\\\\_\\\\.\\\\-]+\",e:\":\",eE:!0,i:\"[^\\\\s]\",starts:{eW:!0,eE:!0,c:[r,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:\"meta\",b:\"!important\"}]}});return{cI:!0,i:\"[=/|']\",c:[e.CLCM,e.CBCM,{cN:\"selector-id\",b:\"\\\\#[A-Za-z0-9_-]+\",r:0},{cN:\"selector-class\",b:\"\\\\.[A-Za-z0-9_-]+\",r:0},{cN:\"selector-attr\",b:\"\\\\[\",e:\"\\\\]\",i:\"$\"},{cN:\"selector-tag\",b:\"\\\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\\\b\",r:0},{b:\":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)\"},{b:\"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)\"},i,{cN:\"attribute\",b:\"\\\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\\\b\",i:\"[^\\\\s]\"},{b:\"\\\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\\\b\"},{b:\":\",e:\";\",c:[i,r,e.CSSNM,e.QSM,e.ASM,{cN:\"meta\",b:\"!important\"}]},{b:\"@\",e:\"[{;]\",k:\"mixin include extend for if else each while charset import debug media page content font-face namespace warn\",c:[i,e.QSM,e.ASM,r,e.CSSNM,{b:\"\\\\s[A-Za-z0-9_.-]+\",r:0}]}]}});hljs.registerLanguage(\"json\",function(e){var i={literal:\"true false null\"},n=[e.QSM,e.CNM],r={e:\",\",eW:!0,eE:!0,c:n,k:i},t={b:\"{\",e:\"}\",c:[{cN:\"attr\",b:/\"/,e:/\"/,c:[e.BE],i:\"\\\\n\"},e.inherit(r,{b:/:/})],i:\"\\\\S\"},c={b:\"\\\\[\",e:\"\\\\]\",c:[e.inherit(r)],i:\"\\\\S\"};return n.splice(n.length,0,t,c),{c:n,k:i,i:\"\\\\S\"}});hljs.registerLanguage(\"javascript\",function(e){var r=\"[A-Za-z$_][0-9A-Za-z$_]*\",t={keyword:\"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as\",literal:\"true false null undefined NaN Infinity\",built_in:\"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise\"},a={cN:\"number\",v:[{b:\"\\\\b(0[bB][01]+)\"},{b:\"\\\\b(0[oO][0-7]+)\"},{b:e.CNR}],r:0},n={cN:\"subst\",b:\"\\\\$\\\\{\",e:\"\\\\}\",k:t,c:[]},c={cN:\"string\",b:\"`\",e:\"`\",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:[\"js\",\"jsx\"],k:t,c:[{cN:\"meta\",r:10,b:/^\\s*['\"]use (strict|asm)['\"]/},{cN:\"meta\",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\\s*/,r:0,c:[{b:r+\"\\\\s*:\",rB:!0,r:0,c:[{cN:\"attr\",b:r,r:0}]}]},{b:\"(\"+e.RSR+\"|\\\\b(case|return|throw)\\\\b)\\\\s*\",k:\"return throw case\",c:[e.CLCM,e.CBCM,e.RM,{cN:\"function\",b:\"(\\\\(.*?\\\\)|\"+r+\")\\\\s*=>\",rB:!0,e:\"\\\\s*=>\",c:[{cN:\"params\",v:[{b:r},{b:/\\(\\s*\\)/},{b:/\\(/,e:/\\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\\/\\w+|\\w+\\/)>/,sL:\"xml\",c:[{b:/<\\w+\\s*\\/>/,skip:!0},{b:/<\\w+/,e:/(\\/\\w+|\\w+\\/)>/,skip:!0,c:[{b:/<\\w+\\s*\\/>/,skip:!0},\"self\"]}]}],r:0},{cN:\"function\",bK:\"function\",e:/\\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:\"params\",b:/\\(/,e:/\\)/,eB:!0,eE:!0,c:s}],i:/\\[|%/},{b:/\\$[(.]/},e.METHOD_GUARD,{cN:\"class\",bK:\"class\",e:/[{;=]/,eE:!0,i:/[:\"\\[\\]]/,c:[{bK:\"extends\"},e.UTM]},{bK:\"constructor\",e:/\\{/,eE:!0}],i:/#(?!!)/}});hljs.registerLanguage(\"bash\",function(e){var t={cN:\"variable\",v:[{b:/\\$[\\w\\d#@][\\w\\d_]*/},{b:/\\$\\{(.*?)}/}]},s={cN:\"string\",b:/\"/,e:/\"/,c:[e.BE,t,{cN:\"variable\",b:/\\$\\(/,e:/\\)/,c:[e.BE]}]},a={cN:\"string\",b:/'/,e:/'/};return{aliases:[\"sh\",\"zsh\"],l:/-?[a-z\\._]+/,k:{keyword:\"if then else elif fi for while in do done case esac function\",literal:\"true false\",built_in:\"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp\",_:\"-ne -eq -lt -gt -f -d -e -s -l -a\"},c:[{cN:\"meta\",b:/^#![^\\n]+sh\\s*$/,r:10},{cN:\"function\",b:/\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,rB:!0,c:[e.inherit(e.TM,{b:/\\w[\\w\\d_]*/})],r:0},e.HCM,s,a,t]}});","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst Breadcrumbs = ({ children, className }) => (\r\n  <ul className={classnames(\"breadcrumbs\", className)}>{children}</ul>\r\n)\r\n\r\nexport default Breadcrumbs\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst BreadcrumbsCategory = ({ category, className }) => (\r\n  <li className={classnames(\"breadcrumbs-item\", className)}>\r\n    <a href={category.url.index}>\r\n      <span\r\n        className=\"material-icon\"\r\n        style={{ color: category.color || \"inherit\" }}\r\n      >\r\n        label\r\n      </span>\r\n      {!!category.short_name && (\r\n        <span\r\n          className=\"breadcrumbs-item-name hidden-sm hidden-md hidden-lg\"\r\n          title={category.name}\r\n        >\r\n          {category.short_name}\r\n        </span>\r\n      )}\r\n      {!!category.short_name && (\r\n        <span className=\"breadcrumbs-item-name hidden-xs\">{category.name}</span>\r\n      )}\r\n      {!category.short_name && (\r\n        <span className=\"breadcrumbs-item-name\">{category.name}</span>\r\n      )}\r\n    </a>\r\n  </li>\r\n)\r\n\r\nexport default BreadcrumbsCategory\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst BreadcrumbsRootCategory = ({ category, className }) => (\r\n  <li className={classnames(\"breadcrumbs-item\", className)}>\r\n    <a href={category.url.index}>\r\n      <span className=\"material-icon\">chevron_right</span>\r\n      <span className=\"breadcrumbs-item-name\">\r\n        {category.special_role === \"root_category\"\r\n          ? gettext(\"Threads\")\r\n          : gettext(\"Private threads\")}\r\n      </span>\r\n    </a>\r\n  </li>\r\n)\r\n\r\nexport default BreadcrumbsRootCategory\r\n","import Breadcrumbs from \"./Breadcrumbs\"\nimport BreadcrumbsCategory from \"./BreadcrumbsCategory\"\nimport BreadcrumbsRootCategory from \"./BreadcrumbsRootCategory\"\n\nexport { Breadcrumbs, BreadcrumbsCategory, BreadcrumbsRootCategory }\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst FlexRow = ({ children, className }) => (\r\n  <div className={classnames(\"flex-row\", className)}>{children}</div>\r\n)\r\n\r\nexport default FlexRow\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst FlexRowCol = ({ children, className, shrink }) => (\r\n  <div\r\n    className={classnames(\"flex-row-col\", className, {\r\n      \"flex-row-col-shrink\": shrink,\r\n    })}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nexport default FlexRowCol\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst FlexRowSection = ({ auto, children, className }) => (\r\n  <div\r\n    className={classnames(\r\n      \"flex-row-section\",\r\n      { \"flex-row-section-auto\": auto },\r\n      className\r\n    )}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nexport default FlexRowSection\r\n","import FlexRow from \"./FlexRow\"\nimport FlexRowCol from \"./FlexRowCol\"\nimport FlexRowSection from \"./FlexRowSection\"\n\nexport { FlexRow, FlexRowCol, FlexRowSection }\n","import React from \"react\"\r\n\r\nconst PageContainer = ({ children }) => (\r\n  <div className=\"container page-container\">{children}</div>\r\n)\r\n\r\nexport default PageContainer\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst PageHeader = ({ children, className, styleName }) => (\r\n  <div\r\n    className={classnames(\r\n      \"page-header\",\r\n      className,\r\n      styleName && \"page-header-\" + styleName\r\n    )}\r\n  >\r\n    <div className=\"page-header-bg-image\">\r\n      <div className=\"page-header-bg-overlay\">\r\n        <div className=\"page-header-image\" />\r\n        {children}\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default PageHeader\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst PageHeaderBanner = ({ children, className, styleName }) => (\r\n  <div\r\n    className={classnames(\r\n      \"page-header-banner\",\r\n      className,\r\n      styleName && \"page-header-banner-\" + styleName\r\n    )}\r\n  >\r\n    <div className=\"page-header-banner-bg-image\">\r\n      <div className=\"page-header-banner-bg-overlay\">{children}</div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default PageHeaderBanner\r\n","import React from \"react\"\r\n\r\nconst PageHeaderContainer = ({ children }) => (\r\n  <div className=\"container page-header-container\">{children}</div>\r\n)\r\n\r\nexport default PageHeaderContainer\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst PageHeaderDetails = ({ children, className }) => (\r\n  <div className={classnames(\"page-header-details\", className)}>{children}</div>\r\n)\r\n\r\nexport default PageHeaderDetails\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst PageHeaderHTMLMessage = ({ className, message }) => (\r\n  <div\r\n    className={classnames(\"page-header-message\", className)}\r\n    dangerouslySetInnerHTML={{ __html: message }}\r\n  />\r\n)\r\n\r\nexport default PageHeaderHTMLMessage\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst PageHeaderMessage = ({ children, className }) => (\r\n  <div className={classnames(\"page-header-message\", className)}>{children}</div>\r\n)\r\n\r\nexport default PageHeaderMessage\r\n","import React from \"react\"\r\nimport PageHeader from \"./PageHeader\"\r\nimport PageHeaderBanner from \"./PageHeaderBanner\"\r\nimport PageHeaderContainer from \"./PageHeaderContainer\"\r\nimport PageHeaderDetails from \"./PageHeaderDetails\"\r\n\r\nconst PageHeaderPlain = ({ styleName, header, message }) => (\r\n  <PageHeaderContainer>\r\n    <PageHeader styleName={styleName}>\r\n      <PageHeaderBanner styleName={styleName}>\r\n        <h1>{header}</h1>\r\n      </PageHeaderBanner>\r\n      {message && (\r\n        <PageHeaderDetails styleName={styleName}>{message}</PageHeaderDetails>\r\n      )}\r\n    </PageHeader>\r\n  </PageHeaderContainer>\r\n)\r\n\r\nexport default PageHeaderPlain\r\n","import PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\nimport PageHeaderHTMLMessage from \"./PageHeaderHTMLMessage\"\nimport PageHeaderMessage from \"./PageHeaderMessage\"\nimport PageHeaderPlain from \"./PageHeaderPlain\"\n\nexport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = (props) => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange,\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={gettext(\"the terms of service\")}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={gettext(\"the privacy policy\")}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = (props) => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    gettext(\"I have read and accept %(agreement)s.\"),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = (props) => {\n  const { buttonClassName, buttonLabel, formLabel, header, labelClassName } =\n    props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ id, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + id\n          const style = button_color ? { color: button_color } : null\n          const finalButtonLabel =\n            button_text || interpolate(buttonLabel, { site: name }, true)\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={id}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\r\n\r\nconst ThreadFlags = ({ thread }) => (\r\n  <ul className=\"thread-flags\">\r\n    {thread.weight == 2 && (\r\n      <li\r\n        className=\"thread-flag-pinned-globally\"\r\n        title={gettext(\"Pinned globally\")}\r\n      >\r\n        <span className=\"material-icon\">bookmark</span>\r\n      </li>\r\n    )}\r\n    {thread.weight == 1 && (\r\n      <li\r\n        className=\"thread-flag-pinned-locally\"\r\n        title={gettext(\"Pinned in category\")}\r\n      >\r\n        <span className=\"material-icon\">bookmark_outline</span>\r\n      </li>\r\n    )}\r\n    {thread.best_answer && (\r\n      <li className=\"thread-flag-answered\" title={gettext(\"Answered\")}>\r\n        <span className=\"material-icon\">check_circle</span>\r\n      </li>\r\n    )}\r\n    {thread.has_poll && (\r\n      <li className=\"thread-flag-poll\" title={gettext(\"Poll\")}>\r\n        <span className=\"material-icon\">poll</span>\r\n      </li>\r\n    )}\r\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\r\n      <li\r\n        className=\"thread-flag-unapproved\"\r\n        title={\r\n          thread.is_unapproved\r\n            ? gettext(\"Awaiting approval\")\r\n            : gettext(\"Has unapproved posts\")\r\n        }\r\n      >\r\n        <span className=\"material-icon\">visibility</span>\r\n      </li>\r\n    )}\r\n    {thread.is_closed && (\r\n      <li className=\"thread-flag-closed\" title={gettext(\"Closed\")}>\r\n        <span className=\"material-icon\">lock</span>\r\n      </li>\r\n    )}\r\n    {thread.is_hidden && (\r\n      <li className=\"thread-flag-hidden\" title={gettext(\"Hidden\")}>\r\n        <span className=\"material-icon\">visibility_off</span>\r\n      </li>\r\n    )}\r\n  </ul>\r\n)\r\n\r\nexport default ThreadFlags\r\n","import React from \"react\"\r\n\r\nconst ThreadReplies = ({ thread }) => (\r\n  <span\r\n    className=\"threads-replies\"\r\n    title={interpolate(\r\n      ngettext(\"%(replies)s reply\", \"%(replies)s replies\", thread.replies),\r\n      { replies: thread.replies },\r\n      true\r\n    )}\r\n  >\r\n    <span className=\"material-icon\">chat_bubble_outline</span>\r\n    {thread.replies > 980\r\n      ? Math.round(thread.replies / 1000) + \"K\"\r\n      : thread.replies}\r\n  </span>\r\n)\r\n\r\nexport default ThreadReplies\r\n","import React from \"react\"\r\nimport Avatar from \"./avatar\"\r\n\r\nconst ThreadStarterCard = ({ thread }) => (\r\n  <div className=\"thread-user-card\">\r\n    <div className=\"thread-user-card-media\">\r\n      {thread.starter ? (\r\n        <a href={thread.url.starter}>\r\n          <Avatar size={40} user={thread.starter} />\r\n        </a>\r\n      ) : (\r\n        <Avatar size={40} />\r\n      )}\r\n    </div>\r\n    <div className=\"thread-user-card-body\">\r\n      <div className=\"thread-user-card-header\">\r\n        {thread.starter ? (\r\n          <a\r\n            className=\"item-title\"\r\n            href={thread.url.starter}\r\n            title={gettext(\"Thread author\")}\r\n          >\r\n            {thread.starter.username}\r\n          </a>\r\n        ) : (\r\n          <span className=\"item-title\" title={gettext(\"Thread author\")}>\r\n            {thread.starter_name}\r\n          </span>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <span\r\n          className=\"text-muted\"\r\n          title={interpolate(\r\n            gettext(\"Started on: %(timestamp)s\"),\r\n            {\r\n              timestamp: thread.started_on.format(\"LLL\"),\r\n            },\r\n            true\r\n          )}\r\n        >\r\n          {thread.started_on.fromNow()}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default ThreadStarterCard\r\n","import React from \"react\"\r\nimport ThreadsListEmpty from \"./ThreadsListEmpty\"\r\nimport ThreadsListItem from \"./ThreadsListItem\"\r\nimport ThreadsListLoader from \"./ThreadsListLoader\"\r\nimport ThreadsListUpdatePrompt from \"./ThreadsListUpdatePrompt\"\r\n\r\nconst ThreadsList = ({\r\n  list,\r\n  categories,\r\n  category,\r\n  threads,\r\n  busyThreads,\r\n  selection,\r\n  isLoaded,\r\n  showOptions,\r\n  updatedThreads,\r\n  applyUpdate,\r\n  emptyMessage,\r\n}) => {\r\n  if (!isLoaded) {\r\n    return <ThreadsListLoader showOptions={showOptions} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"threads-list\">\r\n      {threads.length > 0 ? (\r\n        <ul className=\"list-group\">\r\n          {updatedThreads > 0 && (\r\n            <ThreadsListUpdatePrompt\r\n              threads={updatedThreads}\r\n              onClick={applyUpdate}\r\n            />\r\n          )}\r\n          {threads.map((thread) => (\r\n            <ThreadsListItem\r\n              key={thread.id}\r\n              activeCategory={category}\r\n              categories={categories}\r\n              thread={thread}\r\n              showOptions={showOptions}\r\n              showSubscription={showOptions && list.type === \"subscribed\"}\r\n              isBusy={busyThreads.indexOf(thread.id) >= 0}\r\n              isSelected={selection.indexOf(thread.id) >= 0}\r\n            />\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <ul className=\"list-group\">\r\n          {updatedThreads > 0 && (\r\n            <ThreadsListUpdatePrompt\r\n              threads={updatedThreads}\r\n              onClick={applyUpdate}\r\n            />\r\n          )}\r\n          <ThreadsListEmpty\r\n            category={category}\r\n            list={list}\r\n            message={emptyMessage}\r\n          />\r\n        </ul>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ThreadsList\r\n","import React from \"react\"\r\n\r\nconst ThreadsListEmpty = ({ category, list, message }) => {\r\n  if (list.type === \"all\") {\r\n    if (message) {\r\n      return (\r\n        <li className=\"list-group-item empty-message\">\r\n          <p className=\"lead\">{message}</p>\r\n          <p>{gettext(\"Why not start one yourself?\")}</p>\r\n        </li>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <li className=\"list-group-item empty-message\">\r\n        <p className=\"lead\">\r\n          {category.special_role\r\n            ? gettext(\"There are no threads on this forum... yet!\")\r\n            : gettext(\"There are no threads in this category.\")}\r\n        </p>\r\n        <p>{gettext(\"Why not start one yourself?\")}</p>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <li className=\"list-group-item empty-message\">\r\n      <p className=\"lead\">\r\n        {gettext(\"No threads matching specified criteria were found.\")}\r\n      </p>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ThreadsListEmpty\r\n","import React from \"react\"\r\nimport ThreadFlags from \"../ThreadFlags\"\r\nimport ThreadReplies from \"../ThreadReplies\"\r\nimport ThreadsListItemActivity from \"./ThreadsListItemActivity\"\r\nimport ThreadsListItemCategory from \"./ThreadsListItemCategory\"\r\nimport ThreadsListItemCheckbox from \"./ThreadsListItemCheckbox\"\r\nimport ThreadsListItemIcon from \"./ThreadsListItemIcon\"\r\nimport ThreadsListItemLastPoster from \"./ThreadsListItemLastPoster\"\r\nimport ThreadsListItemSubscription from \"./ThreadsListItemSubscription\"\r\n\r\nconst ThreadsListItem = ({\r\n  activeCategory,\r\n  categories,\r\n  showOptions,\r\n  showSubscription,\r\n  thread,\r\n  isBusy,\r\n  isSelected,\r\n}) => {\r\n  let parent = null\r\n  let category = null\r\n\r\n  if (activeCategory.id !== thread.category) {\r\n    category = categories[thread.category]\r\n\r\n    if (\r\n      category.parent &&\r\n      category.parent !== activeCategory.id &&\r\n      categories[category.parent] &&\r\n      !categories[category.parent].special_role\r\n    ) {\r\n      parent = categories[category.parent]\r\n    }\r\n  }\r\n\r\n  const hasFlags =\r\n    thread.is_closed ||\r\n    thread.is_hidden ||\r\n    thread.is_unapproved ||\r\n    thread.weight > 0 ||\r\n    thread.best_answer ||\r\n    thread.has_poll ||\r\n    thread.has_unapproved_posts\r\n\r\n  const isNew = showOptions ? thread.is_new : true\r\n\r\n  return (\r\n    <li\r\n      className={\r\n        \"list-group-item threads-list-item\" +\r\n        (isBusy ? \" threads-list-item-is-busy\" : \"\")\r\n      }\r\n    >\r\n      <div className=\"threads-list-item-top-row\">\r\n        {showOptions && (\r\n          <div className=\"threads-list-item-col-icon\">\r\n            <ThreadsListItemIcon thread={thread} />\r\n          </div>\r\n        )}\r\n        <div className=\"threads-list-item-col-title\">\r\n          <a href={thread.url.index} className=\"threads-list-item-title\">\r\n            {thread.title}\r\n          </a>\r\n          <a\r\n            href={isNew ? thread.url.new_post : thread.url.index}\r\n            className={\r\n              \"threads-list-item-title-sm\" +\r\n              (isNew ? \" threads-list-item-title-new\" : \"\")\r\n            }\r\n          >\r\n            {thread.title}\r\n          </a>\r\n        </div>\r\n        {showOptions && thread.moderation.length > 0 && (\r\n          <div className=\"threads-list-item-col-checkbox-sm\">\r\n            <ThreadsListItemCheckbox\r\n              checked={isSelected}\r\n              disabled={isBusy}\r\n              thread={thread}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"threads-list-item-bottom-row\">\r\n        {hasFlags && (\r\n          <div className=\"threads-list-item-col-flags\">\r\n            <ThreadFlags thread={thread} />\r\n          </div>\r\n        )}\r\n        {!!category && (\r\n          <div className=\"threads-list-item-col-category\">\r\n            <ThreadsListItemCategory parent={parent} category={category} />\r\n          </div>\r\n        )}\r\n        <div className=\"threads-list-item-col-spacer-xs\" />\r\n        <div className=\"threads-list-item-col-replies\">\r\n          <ThreadReplies thread={thread} />\r\n        </div>\r\n        <div className=\"threads-list-item-col-last-poster\">\r\n          <ThreadsListItemLastPoster thread={thread} />\r\n        </div>\r\n        <div className=\"threads-list-item-col-last-activity\">\r\n          <ThreadsListItemActivity thread={thread} />\r\n        </div>\r\n        {showOptions && showSubscription && (\r\n          <div className=\"threads-list-item-col-subscription\">\r\n            <ThreadsListItemSubscription disabled={isBusy} thread={thread} />\r\n          </div>\r\n        )}\r\n        {showOptions && thread.moderation.length > 0 && (\r\n          <div className=\"threads-list-item-col-checkbox\">\r\n            <ThreadsListItemCheckbox\r\n              checked={isSelected}\r\n              disabled={isBusy}\r\n              thread={thread}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ThreadsListItem\r\n","import React from \"react\"\r\n\r\nconst ThreadsListItemActivity = ({ thread }) => (\r\n  <a\r\n    href={thread.url.last_post}\r\n    className=\"threads-list-item-last-activity\"\r\n    title={interpolate(\r\n      gettext(\"Last activity: %(timestamp)s\"),\r\n      {\r\n        timestamp: thread.last_post_on.format(\"LLL\"),\r\n      },\r\n      true\r\n    )}\r\n  >\r\n    {thread.last_post_on.fromNow(true)}\r\n  </a>\r\n)\r\n\r\nexport default ThreadsListItemActivity\r\n","import React from \"react\"\r\n\r\nconst ThreadsListItemCategory = ({ parent, category }) => (\r\n  <span>\r\n    {parent && (\r\n      <a\r\n        href={parent.url.index}\r\n        className={getClassName(parent) + \" threads-list-item-parent-category\"}\r\n        style={parent.color ? { \"--label-color\": parent.color } : null}\r\n        title={!!parent.short_name ? parent.name : null}\r\n      >\r\n        {parent.short_name || parent.name}\r\n      </a>\r\n    )}\r\n    <a\r\n      href={category.url.index}\r\n      className={getClassName(category)}\r\n      style={category.color ? { \"--label-color\": category.color } : null}\r\n      title={!!category.short_name ? category.name : null}\r\n    >\r\n      {category.short_name || category.name}\r\n    </a>\r\n  </span>\r\n)\r\n\r\nconst getClassName = (category) => {\r\n  let className = \"threads-list-item-category threads-list-category-label\"\r\n\r\n  if (category.color) {\r\n    className += \" threads-list-category-label-color\"\r\n  }\r\n\r\n  return className\r\n}\r\n\r\nexport default ThreadsListItemCategory\r\n","import React from \"react\"\r\nimport * as select from \"../../reducers/selection\"\r\nimport store from \"../../services/store\"\r\n\r\nconst ThreadsListItemCheckbox = ({ checked, disabled, thread }) => (\r\n  <button\r\n    className=\"btn btn-default btn-icon\"\r\n    type=\"button\"\r\n    disabled={disabled}\r\n    onClick={() => store.dispatch(select.item(thread.id))}\r\n  >\r\n    <span className=\"material-icon\">\r\n      {checked ? \"check_box\" : \"check_box_outline_blank\"}\r\n    </span>\r\n  </button>\r\n)\r\n\r\nexport default ThreadsListItemCheckbox\r\n","import React from \"react\"\r\n\r\nconst ThreadsListItemIcon = ({ thread }) => {\r\n  let className = \"threads-list-icon\"\r\n  if (!thread.is_read) className += \" threads-list-icon-new\"\r\n\r\n  return (\r\n    <a\r\n      title={thread.is_read ? gettext(\"No new posts\") : gettext(\"New posts\")}\r\n      href={thread.is_read ? thread.url.last_post : thread.url.new_post}\r\n      className={className}\r\n    >\r\n      <span className=\"material-icon\">\r\n        {thread.is_read ? \"chat_bubble_outline\" : \"chat_bubble\"}\r\n      </span>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default ThreadsListItemIcon\r\n","import React from \"react\"\r\nimport Avatar from \"../avatar\"\r\n\r\nconst ThreadsListItemLastPoster = ({ thread }) =>\r\n  !!thread.last_poster ? (\r\n    <a\r\n      href={thread.url.last_poster}\r\n      className=\"threads-list-item-last-poster\"\r\n      title={interpolate(\r\n        gettext(\"Last post by: %(poster)s\"),\r\n        { poster: thread.last_poster.username },\r\n        true\r\n      )}\r\n    >\r\n      <Avatar size={32} user={thread.last_poster} />\r\n    </a>\r\n  ) : (\r\n    <span\r\n      className=\"threads-list-item-last-poster\"\r\n      title={interpolate(\r\n        gettext(\"Last post by: %(poster)s\"),\r\n        { poster: thread.last_poster_name },\r\n        true\r\n      )}\r\n    >\r\n      <Avatar size={32} />\r\n    </span>\r\n  )\r\n\r\nexport default ThreadsListItemLastPoster\r\n","import React from \"react\"\r\nimport ThreadsListItemSubscriptionOptions from \"./ThreadsListItemSubscriptionOptions\"\r\n\r\nconst ThreadsListItemSubscription = ({ disabled, thread }) => (\r\n  <div className=\"dropdown\">\r\n    <button\r\n      className=\"btn btn-default btn-icon\"\r\n      type=\"button\"\r\n      title={getSubscriptionTitle(thread.subscription)}\r\n      disabled={disabled}\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n    >\r\n      <span className=\"material-icon\">\r\n        {getSubscriptionIcon(thread.subscription)}\r\n      </span>\r\n    </button>\r\n    <ThreadsListItemSubscriptionOptions disabled={disabled} thread={thread} />\r\n  </div>\r\n)\r\n\r\nconst getSubscriptionTitle = (subscription) => {\r\n  if (subscription === true) return gettext(\"Subscribed to e-mails\")\r\n  if (subscription === false) return gettext(\"Subscribed to alerts\")\r\n  return gettext(\"Not subscribed\")\r\n}\r\n\r\nconst getSubscriptionIcon = (subscription) => {\r\n  if (subscription === true) return \"star\"\r\n  if (subscription === false) return \"star_half\"\r\n  return \"star_border\"\r\n}\r\n\r\nexport default ThreadsListItemSubscription\r\n","import React from \"react\"\r\nimport { patch } from \"../../reducers/threads\"\r\nimport ajax from \"../../services/ajax\"\r\nimport snackbar from \"../../services/snackbar\"\r\nimport store from \"../../services/store\"\r\n\r\nconst SUBSCRIPTION = {\r\n  unsubscribe: null,\r\n  notify: false,\r\n  email: true,\r\n}\r\n\r\nclass ThreadsListItemSubscriptionOptions extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      loading: false,\r\n    }\r\n  }\r\n\r\n  update = (value) => {\r\n    const { thread } = this.props\r\n\r\n    this.setState({ loading: true })\r\n    store.dispatch(patch(thread, { subscription: SUBSCRIPTION[value] }))\r\n\r\n    ajax\r\n      .patch(thread.api.index, [{ op: \"replace\", path: \"subscription\", value }])\r\n      .then(\r\n        () => {},\r\n        (rejection) => {\r\n          store.dispatch(\r\n            patch(thread, {\r\n              subscription: SUBSCRIPTION[thread.subscription],\r\n            })\r\n          )\r\n          snackbar.apiError(rejection)\r\n        }\r\n      )\r\n      .then(() => this.setState({ loading: false }))\r\n  }\r\n\r\n  render = () => {\r\n    const { loading } = this.state\r\n    const { disabled, thread } = this.props\r\n\r\n    return (\r\n      <ul className=\"dropdown-menu dropdown-menu-right\">\r\n        <li>\r\n          <button\r\n            className=\"btn-link\"\r\n            disabled={disabled || loading || thread.subscription === null}\r\n            onClick={() => this.update(\"unsubscribe\")}\r\n          >\r\n            <span className=\"material-icon\">star_border</span>\r\n            {gettext(\"Unsubscribe\")}\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button\r\n            className=\"btn-link\"\r\n            disabled={disabled || loading || thread.subscription === false}\r\n            onClick={() => this.update(\"notify\")}\r\n          >\r\n            <span className=\"material-icon\">star_half</span>\r\n            {gettext(\"Subscribe with alert\")}\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button\r\n            className=\"btn-link\"\r\n            disabled={disabled || loading || thread.subscription === true}\r\n            onClick={() => this.update(\"email\")}\r\n          >\r\n            <span className=\"material-icon\">star</span>\r\n            {gettext(\"Subscribe with e-mail\")}\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ThreadsListItemSubscriptionOptions\r\n","import React from \"react\"\r\nimport Avatar from \"../avatar\"\r\nimport { UIPreviewText } from \"../UIPreview\"\r\n\r\nconst ThreadsListLoader = ({ showOptions }) => (\r\n  <div className=\"threads-list threads-list-loader\">\r\n    <ul className=\"list-group\">\r\n      <li className=\"list-group-item threads-list-item\">\r\n        <div className=\"threads-list-item-top-row\">\r\n          {showOptions && (\r\n            <div className=\"threads-list-item-col-icon\">\r\n              <span className=\"threads-list-icon ui-preview-img\"></span>\r\n            </div>\r\n          )}\r\n          <div className=\"threads-list-item-col-title\">\r\n            <span className=\"threads-list-item-title\">\r\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\r\n              <UIPreviewText width=\"120\" />\r\n            </span>\r\n            <span className=\"threads-list-item-title-sm\">\r\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\r\n              <UIPreviewText width=\"120\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"threads-list-item-bottom-row\">\r\n          <div className=\"threads-list-item-col-category\">\r\n            <UIPreviewText width=\"70\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-replies\">\r\n            <UIPreviewText width=\"50\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-poster\">\r\n            <span className=\"threads-list-item-last-poster\">\r\n              <Avatar size={32} />\r\n            </span>\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-activity\">\r\n            <span className=\"threads-list-item-last-activity\">\r\n              <UIPreviewText width=\"50\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <li className=\"list-group-item threads-list-item\">\r\n        <div className=\"threads-list-item-top-row\">\r\n          {showOptions && (\r\n            <div className=\"threads-list-item-col-icon\">\r\n              <span className=\"threads-list-icon ui-preview-img\"></span>\r\n            </div>\r\n          )}\r\n          <div className=\"threads-list-item-col-title\">\r\n            <span className=\"threads-list-item-title\">\r\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\r\n              <UIPreviewText width=\"60\" />\r\n            </span>\r\n            <span className=\"threads-list-item-title-sm\">\r\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\r\n              <UIPreviewText width=\"60\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"threads-list-item-bottom-row\">\r\n          <div className=\"threads-list-item-col-category\">\r\n            <UIPreviewText width=\"55\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-replies\">\r\n            <UIPreviewText width=\"60\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-poster\">\r\n            <span className=\"threads-list-item-last-poster\">\r\n              <Avatar size={32} />\r\n            </span>\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-activity\">\r\n            <span className=\"threads-list-item-last-activity\">\r\n              <UIPreviewText width=\"70\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <li className=\"list-group-item threads-list-item\">\r\n        <div className=\"threads-list-item-top-row\">\r\n          {showOptions && (\r\n            <div className=\"threads-list-item-col-icon\">\r\n              <span className=\"threads-list-icon ui-preview-img\"></span>\r\n            </div>\r\n          )}\r\n          <div className=\"threads-list-item-col-title\">\r\n            <span className=\"threads-list-item-title\">\r\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\r\n              <UIPreviewText width=\"80\" />\r\n            </span>\r\n            <span className=\"threads-list-item-title-sm\">\r\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\r\n              <UIPreviewText width=\"80\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"threads-list-item-bottom-row\">\r\n          <div className=\"threads-list-item-col-category\">\r\n            <UIPreviewText width=\"75\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-replies\">\r\n            <UIPreviewText width=\"40\" />\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-poster\">\r\n            <span className=\"threads-list-item-last-poster\">\r\n              <Avatar size={32} />\r\n            </span>\r\n          </div>\r\n          <div className=\"threads-list-item-col-last-activity\">\r\n            <span className=\"threads-list-item-last-activity\">\r\n              <UIPreviewText width=\"60\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nexport default ThreadsListLoader\r\n","import React from \"react\"\r\n\r\nconst ThreadsListUpdatePrompt = ({ threads, onClick }) => (\r\n  <li className=\"list-group-item threads-list-update-prompt\">\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-block threads-list-update-prompt-btn\"\r\n      onClick={onClick}\r\n    >\r\n      <span className=\"material-icon\">cached</span>\r\n      <span className=\"threads-list-update-prompt-message\">\r\n        {interpolate(\r\n          ngettext(\r\n            \"There is %(threads)s new or updated thread. Click here to show it.\",\r\n            \"There are %(threads)s new or updated threads. Click here to show them.\",\r\n            threads\r\n          ),\r\n          { threads },\r\n          true\r\n        )}\r\n      </span>\r\n    </button>\r\n  </li>\r\n)\r\n\r\nexport default ThreadsListUpdatePrompt\r\n","import ThreadsList from \"./ThreadsList\"\n\nexport default ThreadsList\n","import React from \"react\"\r\n\r\nconst Toolbar = ({ children }) => <nav className=\"toolbar\">{children}</nav>\r\n\r\nexport default Toolbar\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst ToolbarItem = ({ children, className, shrink }) => (\r\n  <div\r\n    className={classnames(\"toolbar-item\", className, {\r\n      \"toolbar-item-shrink\": shrink,\r\n    })}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nexport default ToolbarItem\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst ToolbarSection = ({ auto, children, className }) => (\r\n  <div\r\n    className={classnames(\r\n      \"toolbar-section\",\r\n      { \"toolbar-section-auto\": auto },\r\n      className\r\n    )}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nexport default ToolbarSection\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst ToolbarSpacer = ({ className }) => (\r\n  <div className={classnames(\"toolbar-spacer\", className)} />\r\n)\r\n\r\nexport default ToolbarSpacer\r\n","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer }\n","import React from \"react\"\n\nconst UIPreviewText = ({ width }) => (\n  <span className=\"ui-preview-text\" style={{ width: width + \"px\" }}>\n    &nbsp;\n  </span>\n)\n\nexport default UIPreviewText\n","import UIPreviewText from \"./UIPreviewText\"\n\nexport { UIPreviewText }\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {gettext(\"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {gettext(\"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n    }\n  }\n\n  onUsernameChange = (event) => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(gettext(\"You have to enter user name.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(gettext(\"New participant has been added to thread.\"))\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_username\" label={gettext(\"User to add\")}>\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Add participant\")}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Add participant\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        gettext(\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        gettext(\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {gettext(\"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + gettext(\"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut,\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={size}\n      height={size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach((av) => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html,\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return gettext(\"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null,\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"categories-list\">\n      <ul className=\"list-group\">\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">\n            {gettext(\n              \"No categories exist or you don't have permission to see them.\"\n            )}\n          </p>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Category from \"./category\"\n\nexport default function ({ categories }) {\n  return (\n    <div className=\"categories-list\">\n      {categories.map((category) => {\n        return <Category category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category }) {\n  let className = \"list-group list-group-category\"\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-category-\" + category.css_class\n  }\n\n  return (\n    <ul className={className}>\n      <ListItem category={category} isFirst={true} />\n      {category.subcategories.map((category) => {\n        return (\n          <ListItem category={category} isFirst={false} key={category.id} />\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  if (!category.description) return null\n\n  return (\n    <div\n      className=\"category-description\"\n      dangerouslySetInnerHTML={{\n        __html: category.description.html,\n      }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  return (\n    <div className={getClassName(category)} title={getTitle(category)}>\n      <span className=\"material-icon\">{getIcon(category)}</span>\n    </div>\n  )\n}\n\nexport function getClassName(category) {\n  if (category.is_read) {\n    return \"read-status item-read\"\n  }\n\n  return \"read-status item-new\"\n}\n\nexport function getTitle(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return gettext(\"This category has no new posts. (closed)\")\n    }\n\n    return gettext(\"This category has new posts. (closed)\")\n  }\n\n  if (category.is_read) {\n    return gettext(\"This category has no new posts.\")\n  }\n\n  return gettext(\"This category has new posts.\")\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import React from \"react\"\nimport Main from \"./main\"\nimport LastThread from \"./last-thread\"\nimport Stats from \"./stats\"\nimport Subcategories from \"./subcategories\"\n\nexport default function ({ category, isFirst }) {\n  let className = \"list-group-item\"\n\n  if (category.description) {\n    className += \" list-group-category-has-description\"\n  } else {\n    className += \" list-group-category-no-description\"\n  }\n\n  if (isFirst) {\n    className += \" list-group-item-first\"\n  }\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-item-category-\" + category.css_class\n  }\n\n  return (\n    <li className={className}>\n      <div className=\"row\">\n        <Main category={category} />\n        <Stats category={category} />\n        <LastThread category={category} />\n      </div>\n      <Subcategories category={category} isFirst={isFirst} />\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-4 category-last-thread\">\n      <LastThread category={category} />\n      <Empty category={category} />\n      <Private category={category} />\n      <Protected category={category} />\n    </div>\n  )\n}\n\nexport function LastThread({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (!category.last_thread_title) return null\n\n  return (\n    <div className=\"media\">\n      <div className=\"media-left hidden-xs\">\n        <LastPosterAvatar category={category} />\n      </div>\n      <div className=\"media-body\">\n        <div className=\"media-heading\">\n          <a\n            className=\"item-title thread-title\"\n            href={category.url.last_thread_new}\n            title={category.last_thread_title}\n          >\n            {category.last_thread_title}\n          </a>\n        </div>\n        <ul className=\"list-inline\">\n          <li className=\"category-last-thread-poster\">\n            <LastPosterName category={category} />\n          </li>\n          <li className=\"divider\">&#8212;</li>\n          <li className=\"category-last-thread-date\">\n            <a href={category.url.last_post}>\n              {category.last_post_on.fromNow()}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function LastPosterAvatar({ category }) {\n  if (category.last_poster) {\n    return (\n      <a\n        className=\"last-poster-avatar\"\n        href={category.last_poster.url}\n        title={category.last_poster_name}\n      >\n        <Avatar\n          className=\"media-object\"\n          size={40}\n          user={category.last_poster}\n        />\n      </a>\n    )\n  }\n\n  return (\n    <span className=\"last-poster-avatar\" title={category.last_poster_name}>\n      <Avatar className=\"media-object\" size={40} />\n    </span>\n  )\n}\n\nexport function LastPosterName({ category }) {\n  if (category.last_poster) {\n    return (\n      <a className=\"item-title\" href={category.last_poster.url}>\n        {category.last_poster_name}\n      </a>\n    )\n  }\n\n  return <span className=\"item-title\">{category.last_poster_name}</span>\n}\n\nexport function Empty({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (category.last_thread_title) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is empty. No threads were posted within it so far.\"\n      )}\n    />\n  )\n}\n\nexport function Private({ category }) {\n  if (!category.acl.can_browse) return null\n  if (category.acl.can_see_all_threads) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is private. You can see only your own threads within it.\"\n      )}\n    />\n  )\n}\n\nexport function Protected({ category }) {\n  if (category.acl.can_browse) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is protected. You can't browse its contents.\"\n      )}\n    />\n  )\n}\n\nexport function Message({ message }) {\n  return (\n    <div className=\"media category-thread-message\">\n      <div className=\"media-left\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"media-body\">\n        <p>{message}</p>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Description from \"./description\"\nimport Icon from \"./icon\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 category-main\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <Icon category={category} />\n        </div>\n        <div className=\"media-body\">\n          <h4 className=\"media-heading\">\n            <a href={category.url.index}>{category.name}</a>\n          </h4>\n          <Description category={category} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-md-2 hidden-xs hidden-sm\">\n      <ul className=\"list-unstyled category-stats\">\n        <Threads threads={category.threads} />\n        <Posts posts={category.posts} />\n      </ul>\n    </div>\n  )\n}\n\nexport function Threads({ threads }) {\n  const message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", threads)\n\n  return (\n    <li className=\"category-stat-threads\">\n      {interpolate(\n        message,\n        {\n          threads: threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Posts({ posts }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", posts)\n\n  return (\n    <li className=\"category-stat-posts\">\n      {interpolate(\n        message,\n        {\n          posts: posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category, isFirst }) {\n  if (isFirst) return null\n  if (category.subcategories.length === 0) return null\n\n  return (\n    <div className=\"row subcategories-list\">\n      {category.subcategories.map((category) => {\n        return <ListItem category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  let className = \"btn btn-default btn-block btn-sm btn-subcategory\"\n  if (!category.is_read) {\n    className += \" btn-subcategory-new\"\n  }\n\n  return (\n    <div className=\"col-xs-12 col-sm-4 col-md-3\">\n      <a className={className} href={category.url.index}>\n        <span className=\"material-icon\">{getIcon(category)}</span>\n        <span className=\"icon-text\">{category.name}</span>\n      </a>\n    </div>\n  )\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport CategoriesList from \"./categories-list\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\n\nconst hydrate = function (category) {\n  return Object.assign({}, category, {\n    last_post_on: category.last_post_on ? moment(category.last_post_on) : null,\n    subcategories: category.subcategories.map(hydrate),\n  })\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      categories: misago.get(\"CATEGORIES\").map(hydrate),\n    }\n\n    this.startPolling(misago.get(\"CATEGORIES_API\"))\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"categories\",\n      url: api,\n      frequency: 180 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    this.setState({\n      categories: data.map(hydrate),\n    })\n  }\n\n  render() {\n    const { categories } = this.state\n\n    if (categories.length === 0) {\n      return <Blankslate />\n    }\n\n    return <CategoriesList categories={categories} />\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map((item) => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1,\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath(),\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0,\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY,\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0,\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y,\n            })\n          }\n        }\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio,\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio,\n        },\n      })\n      .then(\n        (data) => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? gettext(\"Set avatar\")\n                : gettext(\"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false,\n    }\n  }\n\n  select = (image) => {\n    this.setState({\n      selection: image,\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? gettext(\"Save choice\")\n                  : gettext(\"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {gettext(\"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {gettext(\"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {gettext(\"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {gettext(\"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {gettext(\"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars,\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {gettext(\"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      (options) => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null,\n        })\n      },\n      (rejection) => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = (error) => {\n    this.setState({\n      error,\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex,\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload,\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop,\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery,\n    })\n  }\n\n  completeFlow = (options) => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options,\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change your avatar\")}</h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null,\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        gettext(\"Selected file is too big. (%(filesize)s)\"),\n        {\n          filesize: fileSize(image.size),\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = gettext(\"Selected file type is not supported.\")\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function (extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0,\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, (progress) => {\n        this.setState({\n          progress,\n        })\n      })\n      .then(\n        (data) => {\n          this.setState({\n            options: data,\n            uploaded: data.detail,\n          })\n\n          snackbar.info(\n            gettext(\"Your image has been uploaded and you may now crop it.\")\n          )\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function (extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      gettext(\"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit),\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {gettext(\"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      gettext(\"%(progress)s % complete\"),\n      {\n        progress: this.state.progress,\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={gettext(\"No profile details are editable at this time.\")}\n      message={gettext(\"This option is currently unavailable.\")}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = (ev) => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function ({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map((field) => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {},\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {gettext(\"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      (groups) => {\n        this.setState({\n          loading: false,\n\n          groups,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Edit details\")}</h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.replaceSelection(this.props.execAction)\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={this.props.title}\n        type=\"button\"\n      >\n        {this.props.children}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertCode} title={gettext(\"Insert code\")} {...props}>\n      <span className=\"material-icon\">functions</span>\n    </Action>\n  )\n}\n\nexport function insertCode(selection, replace) {\n  const syntax = $.trim(\n    prompt(gettext(\"Enter name of syntax of your code (optional)\") + \":\")\n  )\n  replace(\"\\n\\n```\" + syntax + \"\\n\" + selection + \"\\n```\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeEmphasis}\n      title={gettext(\"Emphase selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_italic</span>\n    </Action>\n  )\n}\n\nexport function makeEmphasis(selection, replace) {\n  if (selection.length) {\n    replace(\"*\" + selection + \"*\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={insertHr}\n      title={gettext(\"Insert horizontal ruler\")}\n      {...props}\n    >\n      <span className=\"material-icon\">remove</span>\n    </Action>\n  )\n}\n\nexport function insertHr(selection, replace) {\n  replace(\"\\n\\n- - - - -\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertImage} title={gettext(\"Insert image\")} {...props}>\n      <span className=\"material-icon\">insert_photo</span>\n    </Action>\n  )\n}\n\nexport function insertImage(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link to image\") + \":\", url))\n\n  if (url.length) {\n    label = $.trim(prompt(gettext(\"Enter image label (optional)\") + \":\", label))\n    if (label.length > 0) {\n      replace(\"![\" + label + \"](\" + url + \")\")\n    } else {\n      replace(\"!(\" + url + \")\")\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertLink} title={gettext(\"Insert link\")} {...props}>\n      <span className=\"material-icon\">insert_link</span>\n    </Action>\n  )\n}\n\nexport function insertLink(selection, replace) {\n  let url = \"\"\n  let label = \"\"\n\n  if (selection.length) {\n    if (isUrl(selection)) {\n      url = selection\n    } else {\n      label = selection\n    }\n  }\n\n  url = $.trim(prompt(gettext(\"Enter link address\") + \":\", url) || \"\")\n  if (url.length === 0) return false\n  label = $.trim(prompt(gettext(\"Enter link label (optional)\") + \":\", label))\n\n  if (url.length) {\n    if (label.length > 0) {\n      replace(\"[\" + label + \"](\" + url + \")\")\n    } else {\n      replace(url)\n    }\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action execAction={insertQuote} title={gettext(\"Insert quote\")} {...props}>\n      <span className=\"material-icon\">format_quote</span>\n    </Action>\n  )\n}\n\nexport function insertQuote(selection, replace) {\n  let title = $.trim(\n    prompt(gettext(\"Enter quote autor, prefix usernames with @\") + \":\", title)\n  )\n\n  if (title) {\n    replace('\\n\\n[quote=\"' + title + '\"]\\n' + selection + \"\\n[/quote]\\n\\n\")\n  } else {\n    replace(\"\\n\\n[quote]\\n\" + selection + \"\\n[/quote]\\n\\n\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\nimport isUrl from \"misago/utils/is-url\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={insertSpoiler}\n      title={gettext(\"Insert spoiler\")}\n      {...props}\n    >\n      <span className=\"material-icon\">not_interested</span>\n    </Action>\n  )\n}\n\nexport function insertSpoiler(selection, replace) {\n  replace(\"\\n\\n[spoiler]\\n\" + selection + \"\\n[/spoiler]\\n\\n\")\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeStrikethrough}\n      title={gettext(\"Strikethrough selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_strikethrough</span>\n    </Action>\n  )\n}\n\nexport function makeStrikethrough(selection, replace) {\n  if (selection.length) {\n    replace(\"~~\" + selection + \"~~\")\n  }\n}\n","import React from \"react\"\nimport Action from \"./action\"\n\nexport default function (props) {\n  return (\n    <Action\n      execAction={makeStrong}\n      title={gettext(\"Bolder selection\")}\n      {...props}\n    >\n      <span className=\"material-icon\">format_bold</span>\n    </Action>\n  )\n}\n\nexport function makeStrong(selection, replace) {\n  if (selection.length) {\n    replace(\"**\" + selection + \"**\")\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  onInsert = () => {\n    this.props.replaceSelection(this.insertAttachment)\n  }\n\n  insertAttachment = (selection, replace) => {\n    const item = this.props.item\n\n    if (item.is_image) {\n      if (item.url.thumb) {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.thumb +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      } else {\n        replace(\n          \"[![\" +\n            item.filename +\n            \"](\" +\n            item.url.index +\n            \")](\" +\n            item.url.index +\n            \")\"\n        )\n      }\n    } else {\n      replace(\"[\" + item.filename + \"](\" + item.url.index + \")\")\n    }\n  }\n\n  onRemove = () => {\n    this.updateItem({\n      isRemoved: true,\n    })\n  }\n\n  onUndo = () => {\n    this.updateItem({\n      isRemoved: false,\n    })\n  }\n\n  updateItem = (newState) => {\n    const updatedAttachments = this.props.attachments.map((item) => {\n      if (item.id === this.props.item.id) {\n        return Object.assign({}, item, newState)\n      } else {\n        return item\n      }\n    })\n    this.props.onAttachmentsChange(updatedAttachments)\n  }\n\n  render() {\n    return (\n      <li className=\"editor-attachment-complete\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            <Preview {...this.props} />\n            <div className=\"editor-attachment-details\">\n              <Filename {...this.props} />\n              <Details {...this.props} />\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top-half\">\n            <Actions\n              onInsert={this.onInsert}\n              onRemove={this.onRemove}\n              onUndo={this.onUndo}\n              {...this.props}\n            />\n          </div>\n        </div>\n      </li>\n    )\n  }\n}\n\nexport function Preview(props) {\n  if (props.item.is_image) {\n    return <Image {...props} />\n  } else {\n    return <Icon {...props} />\n  }\n}\n\nexport function Image(props) {\n  const thumbnailUrl = props.item.url.thumb || props.item.url.index\n\n  return (\n    <div className=\"editor-attachment-image\">\n      <a\n        href={props.item.url.index + \"?shva=1\"}\n        style={{ backgroundImage: \"url('\" + thumbnailUrl + \"?shva=1')\" }}\n        target=\"_blank\"\n      />\n    </div>\n  )\n}\n\nexport function Icon(props) {\n  return (\n    <div className=\"editor-attachment-icon\">\n      <span className=\"material-icon\">insert_drive_file</span>\n    </div>\n  )\n}\n\nexport function Filename(props) {\n  return (\n    <h4>\n      <a\n        className=\"item-title\"\n        href={props.item.url.index + \"?shva=1\"}\n        target=\"_blank\"\n      >\n        {props.item.filename}\n      </a>\n    </h4>\n  )\n}\n\nexport function Details(props) {\n  let user = null\n  if (props.item.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.item.url.uploader),\n        user: escapeHtml(props.item.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.item.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.item.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.item.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.item.filetype,\n      size: formatFilesize(props.item.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n\nexport function Actions(props) {\n  return (\n    <div className=\"editor-attachment-actions\">\n      <div className=\"row\">\n        <Insert {...props} />\n        <Remove {...props} />\n        <Undo {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function Insert(props) {\n  if (!!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onInsert}\n        type=\"button\"\n      >\n        {gettext(\"Insert\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Remove(props) {\n  if (!!props.item.isRemoved && props.item.acl.can_delete) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-6\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onRemove}\n        type=\"button\"\n      >\n        {gettext(\"Remove\")}\n      </button>\n    </div>\n  )\n}\n\nexport function Undo(props) {\n  if (!props.item.isRemoved) {\n    return null\n  }\n\n  return (\n    <div className=\"col-xs-12\">\n      <button\n        className=\"btn btn-default btn-sm btn-block\"\n        onClick={props.onUndo}\n        type=\"button\"\n      >\n        {gettext(\"Undo removal\")}\n      </button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    const filteredAttachments = this.props.attachments.filter((item) => {\n      return item.key !== this.props.item.key\n    })\n    this.props.onAttachmentsChange(filteredAttachments)\n  }\n\n  render() {\n    const filename = interpolate(\n      STRONG,\n      {\n        name: escapeHtml(this.props.item.filename),\n      },\n      true\n    )\n\n    const title = interpolate(\n      gettext(\"Error uploading %(filename)s\"),\n      {\n        filename,\n        progress: this.props.item.progress + \"%\",\n      },\n      true\n    )\n\n    return (\n      <li className=\"editor-attachment-error\">\n        <div className=\"editor-attachment-error-icon\">\n          <span className=\"material-icon\">warning</span>\n        </div>\n        <div className=\"editor-attachment-error-message\">\n          <h4 dangerouslySetInnerHTML={{ __html: title + \":\" }} />\n          <p>{this.props.item.error}</p>\n          <button\n            className=\"btn btn-default btn-sm\"\n            onClick={this.onClick}\n            type=\"button\"\n          >\n            {gettext(\"Dismiss\")}\n          </button>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AttachmentComplete from \"./complete\"\nimport AttachmentError from \"./error\"\nimport AttachmentUpload from \"./upload\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nexport default function (props) {\n  if (props.item.id) {\n    return <AttachmentComplete {...props} />\n  }\n\n  if (props.item.error) {\n    return <AttachmentError {...props} />\n  }\n\n  return <AttachmentUpload {...props} />\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst STRONG = \"<strong>%(name)s</strong>\"\n\nexport default function (props) {\n  const filename = interpolate(\n    STRONG,\n    {\n      name: escapeHtml(props.item.filename),\n    },\n    true\n  )\n\n  const message = interpolate(\n    gettext(\"Uploading %(filename)s... %(progress)s\"),\n    {\n      filename,\n      progress: props.item.progress + \"%\",\n    },\n    true\n  )\n\n  return (\n    <li className=\"editor-attachment-upload\">\n      <div className=\"editor-attachment-progress-bar\">\n        <div\n          className=\"editor-attachment-progress\"\n          style={{ width: props.item.progress + \"%\" }}\n        />\n      </div>\n      <p\n        className=\"editor-attachment-upload-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    </li>\n  )\n}\n","import React from \"react\"\nimport List from \"./list\"\nimport Uploader from \"./uploader\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  if (!misago.get(\"user\").acl.max_attachment_size) {\n    return null\n  }\n\n  return (\n    <div className=\"editor-attachments\">\n      <List {...props} />\n      <Uploader {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled editor-attachments-list\">\n      {props.attachments.map((item) => {\n        return <Attachment item={item} key={item.id || item.key} {...props} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    document.getElementById(\"editor-upload-field\").click()\n  }\n\n  render() {\n    if (!misago.get(\"user\").acl.max_attachment_size) {\n      return null\n    }\n\n    return (\n      <button\n        className={\"btn btn-icon \" + this.props.className}\n        disabled={this.props.disabled}\n        onClick={this.onClick}\n        title={gettext(\"Upload file\")}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">file_upload</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  onChange = (event) => {\n    const file = event.target.files[0]\n    if (!file) {\n      return\n    }\n\n    let upload = {\n      id: null,\n      key: getRandomKey(),\n      progress: 0,\n      error: null,\n      filename: file.name,\n    }\n\n    this.props.onAttachmentsChange([upload].concat(this.props.attachments))\n\n    const data = new FormData()\n    data.append(\"upload\", file)\n\n    ajax\n      .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n        upload.progress = progress\n        this.props.onAttachmentsChange(this.props.attachments.concat())\n      })\n      .then(\n        (data) => {\n          data.uploaded_on = moment(data.uploaded_on)\n          Object.assign(upload, data)\n          this.props.onAttachmentsChange(this.props.attachments.concat())\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            upload.error = rejection.detail\n            this.props.onAttachmentsChange(this.props.attachments.concat())\n          } else {\n            snackbar.apiError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <input id=\"editor-upload-field\" onChange={this.onChange} type=\"file\" />\n    )\n  }\n}\n\nexport function getRandomKey() {\n  return \"upld-\" + Math.round(new Date().getTime())\n}\n","import React from \"react\"\nimport Code from \"./actions/code\"\nimport Emphasis from \"./actions/emphasis\"\nimport Hr from \"./actions/hr\"\nimport Image from \"./actions/image\"\nimport Link from \"./actions/link\"\nimport Spoiler from \"./actions/spoiler\"\nimport Strikethrough from \"./actions/strikethrough\"\nimport Strong from \"./actions/strong\"\nimport Quote from \"./actions/quote\"\nimport AttachmentsEditor from \"./attachments\"\nimport Upload from \"./attachments/upload-button\"\nimport MarkupPreview from \"./markup-preview\"\nimport * as textUtils from \"./textutils\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isPreviewLoading: false,\n    }\n  }\n\n  componentDidMount() {\n    $(\"#editor-textarea\").atwho({\n      at: \"@\",\n      displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n      insertTpl: \"@${username}\",\n      searchKey: \"username\",\n      callbacks: {\n        remoteFilter: function (query, callback) {\n          $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n        },\n      },\n    })\n\n    $(\"#editor-textarea\").on(\"inserted.atwho\", (event, flag, query) => {\n      this.props.onChange(event)\n    })\n  }\n\n  onPreviewClick = () => {\n    if (this.state.isPreviewLoading) {\n      return\n    }\n\n    this.setState({\n      isPreviewLoading: true,\n    })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        modal.show(<MarkupPreview markup={data.parsed} />)\n\n        this.setState({\n          isPreviewLoading: false,\n        })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({\n          isPreviewLoading: false,\n        })\n      }\n    )\n  }\n\n  replaceSelection = (operation) => {\n    operation(textUtils.getSelectionText(), this._replaceSelection)\n  }\n\n  _replaceSelection = (newValue) => {\n    this.props.onChange({\n      target: {\n        value: textUtils.replace(newValue),\n      },\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"editor-border\">\n        <textarea\n          className=\"form-control\"\n          value={this.props.value}\n          disabled={this.props.loading}\n          id=\"editor-textarea\"\n          onChange={this.props.onChange}\n          rows=\"9\"\n        />\n        <div className=\"editor-footer\">\n          <div className=\"buttons-list pull-left\">\n            <Strong\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Emphasis\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Strikethrough\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Hr\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Link\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Image\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Quote\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Spoiler\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Code\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n              replaceSelection={this.replaceSelection}\n            />\n            <Upload\n              className=\"btn-default btn-sm pull-left\"\n              disabled={this.props.loading || this.state.isPreviewLoading}\n            />\n          </div>\n          <Button\n            className=\"btn-default btn-sm pull-left\"\n            disabled={this.props.loading || this.state.isPreviewLoading}\n            onClick={this.onPreviewClick}\n            type=\"button\"\n          >\n            {gettext(\"Preview\")}\n          </Button>\n          <Button\n            className=\"btn-primary btn-sm pull-right\"\n            loading={this.props.loading}\n          >\n            {this.props.submitLabel || gettext(\"Post\")}\n          </Button>\n          <button\n            className=\"btn btn-default btn-sm pull-right\"\n            disabled={this.props.loading}\n            onClick={this.props.onCancel}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <div className=\"clearfix visible-xs-block\" />\n          <Protect\n            canProtect={this.props.canProtect}\n            disabled={this.props.loading}\n            onProtect={this.props.onProtect}\n            onUnprotect={this.props.onUnprotect}\n            protect={this.props.protect}\n          />\n        </div>\n        <AttachmentsEditor\n          attachments={this.props.attachments}\n          onAttachmentsChange={this.props.onAttachmentsChange}\n          placeholder={this.props.placeholder}\n          replaceSelection={this.replaceSelection}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Protect(props) {\n  if (!props.canProtect) return null\n\n  const label = props.protect ? gettext(\"Protected\") : gettext(\"Protect\")\n\n  return (\n    <button\n      className=\"btn btn-icon btn-default btn-protect btn-sm pull-right\"\n      disabled={props.disabled}\n      onClick={props.protect ? props.onUnprotect : props.onProtect}\n      title={label}\n      type=\"button\"\n    >\n      <span className=\"material-icon\">\n        {props.protect ? \"lock\" : \"lock_outline\"}\n      </span>\n      <span className=\"btn-text hidden-md hidden-lg\">{label}</span>\n    </button>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Preview message\")}</h4>\n        </div>\n        <div className=\"modal-body markup-preview\">\n          <MisagoMarkup markup={props.markup} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","export const textareaId = \"editor-textarea\"\n\nexport function getTextarea() {\n  return document.getElementById(textareaId)\n}\n\nexport function getValue() {\n  return document.getElementById(textareaId).value\n}\n\nexport function getSelectionRange(start, end) {\n  return {\n    start,\n    end,\n  }\n}\n\nexport function getSelection() {\n  const ctrl = getTextarea()\n  if (document.selection) {\n    ctrl.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -ctrl.value.length)\n    return getSelectionRange(range.text.length - length, range.text.length)\n  } else if (ctrl.selectionStart || ctrl.selectionStart == \"0\") {\n    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd)\n  }\n}\n\nexport function getSelectionText() {\n  const range = getSelection()\n  return $.trim(getValue().substring(range.start, range.end))\n}\n\nexport function setSelection(selectionRange) {\n  const ctrl = getTextarea()\n  if (ctrl.setSelectionRange) {\n    ctrl.focus()\n    ctrl.setSelectionRange(selectionRange.start, selectionRange.end)\n  } else if (ctrl.createTextRange) {\n    const range = ctrl.createTextRange()\n    range.collapse(true)\n    range.moveStart(\"character\", selectionRange.start)\n    range.moveEnd(\"character\", selectionRange.end)\n    range.select()\n  }\n}\n\nexport function _replace(myRange, replacement) {\n  const ctrl = getTextarea()\n  const text = ctrl.value\n  const startText = text.substring(0, myRange.start)\n  ctrl.value =\n    text.substring(0, myRange.start) + replacement + text.substring(myRange.end)\n  setSelection(\n    getSelectionRange(\n      startText.length + replacement.length,\n      startText.length + replacement.length\n    )\n  )\n  return ctrl.value\n}\n\nexport function replace(replacement) {\n  return _replace(getSelection(), replacement)\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation ? gettext(\"(error)\") : gettext(\"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"misago/utils/validators\"\nimport snackbar from \"misago/services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {},\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name],\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = (name) => {\n    return (event) => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value,\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          (success) => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          (rejection) => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\",\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        gettext(\"Are you sure you want to delete all polls?\")\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = (success) => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = (event) => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = (event) => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Best answer\")}\n      helpText={gettext(\n        \"Please select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Poll\")}\n      helpText={gettext(\n        \"Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className=\"misago-markup\"\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        ref={(node) => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","const MAX_RESULTS = 5\n\nexport default function (data) {\n  const filtered = data.filter((section) => {\n    return section.results.count > 0\n  })\n\n  return filtered.map((section) => {\n    return Object.assign({}, section, {\n      count: section.results.count,\n      results: section.results.results.slice(0, MAX_RESULTS),\n    })\n  })\n}\n","export const HEADER = \"HEADER\"\nexport const RESULT = \"RESULT\"\nexport const FOOTER = \"FOOTER\"\n","import React from \"react\"\nimport Input from \"./input\"\n\nexport default function ({ children, onChange, query }) {\n  return (\n    <ul className=\"dropdown-menu dropdown-search-results\" role=\"menu\">\n      <li className=\"form-group\">\n        <Input value={query} onChange={onChange} />\n      </li>\n      {children}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function () {\n  return (\n    <li className=\"dropdown-search-message\">\n      {gettext(\"Search returned no results.\")}\n    </li>\n  )\n}\n","import { HEADER, RESULT, FOOTER } from \"./constants\"\n\nexport default function (results) {\n  const flatlist = []\n  flattenProviders(results, flatlist)\n  return flatlist\n}\n\nfunction flattenProviders(results, flatlist) {\n  const arrayLength = results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const provider = results[i]\n\n    flatlist.push({\n      provider,\n      type: HEADER,\n    })\n\n    flattenProvider(provider, flatlist)\n  }\n}\n\nfunction flattenProvider(provider, flatlist) {\n  const arrayLength = provider.results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const result = provider.results[i]\n    flatlist.push({\n      provider,\n      result,\n      type: RESULT,\n    })\n  }\n\n  flatlist.push({\n    provider,\n    type: FOOTER,\n  })\n}\n","import React from \"react\"\nimport { RESULT } from \"./constants\"\nimport DropdownMenu from \"./dropdown-menu\"\nimport Empty from \"./empty\"\nimport Loader from \"./loader\"\nimport Result from \"./result\"\nimport flattenResults from \"./flatten-results\"\n\nexport default function ({ isLoading, onChange, results, query }) {\n  if (!query.trim().length) {\n    return <DropdownMenu onChange={onChange} query={query} />\n  }\n\n  if (results.length) {\n    const flatResults = flattenResults(results)\n\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        {flatResults.map((props) => {\n          const { type, provider, result } = props\n\n          if (type === RESULT) {\n            return (\n              <Result\n                key={[provider.id, type, result.id].join(\"_\")}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <Result\n              key={[provider.id, type].join(\"_\")}\n              query={query}\n              {...props}\n            />\n          )\n        })}\n      </DropdownMenu>\n    )\n  } else if (isLoading) {\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        <Loader />\n      </DropdownMenu>\n    )\n  }\n\n  return (\n    <DropdownMenu onChange={onChange} query={query}>\n      <Empty />\n    </DropdownMenu>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ value, onChange }) {\n  return (\n    <input\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      aria-controls=\"dropdown-menu dropdown-search-results\"\n      autoComplete=\"off\"\n      className=\"form-control\"\n      value={value}\n      onChange={onChange}\n      placeholder={gettext(\"Search\")}\n      role=\"combobox\"\n      type=\"text\"\n    />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ message }) {\n  return (\n    <li className=\"dropdown-search-loader\">\n      <Loader />\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider, query }) {\n  const url = provider.url + \"?q=\" + encodeURI(query)\n  const label = ngettext(\n    'See full \"%(provider)s\" results page with %(count)s result.',\n    'See full \"%(provider)s\" results page with %(count)s results.',\n    provider.count\n  )\n\n  return (\n    <li className=\"dropdown-search-footer\">\n      <a href={url}>\n        {interpolate(\n          label,\n          {\n            count: provider.count,\n            provider: provider.name,\n          },\n          true\n        )}\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider }) {\n  return <li className=\"dropdown-search-header\">{provider.name}</li>\n}\n","import React from \"react\"\nimport { HEADER, FOOTER } from \"../constants\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport Result from \"./result\"\n\nexport default function ({ provider, result, type, query }) {\n  if (type === HEADER) {\n    return <Header provider={provider} />\n  } else if (type === FOOTER) {\n    return <Footer provider={provider} query={query} />\n  }\n\n  return <Result provider={provider} result={result} />\n}\n","import React from \"react\"\nimport Thread from \"./thread\"\nimport User from \"./user\"\n\nexport default function ({ provider, result }) {\n  if (provider.id === \"threads\") {\n    return <Thread result={result} />\n  }\n\n  return <User result={result} />\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default function ({ result }) {\n  const { poster, thread } = result\n  const footer = gettext(\n    \"Posted by %(poster)s on %(posted_on)s in %(category)s.\"\n  )\n\n  return (\n    <li>\n      <a href={result.url.index} className=\"dropdown-search-thread\">\n        <h5>{thread.title}</h5>\n        <small className=\"dropdown-search-post-content\">\n          {$(result.content).text()}\n        </small>\n        <small className=\"dropdown-search-post-footer\">\n          {interpolate(\n            footer,\n            {\n              category: result.category.name,\n              posted_on: moment(result.posted_on).format(\"LL\"),\n              poster: result.poster_name,\n            },\n            true\n          )}\n        </small>\n      </a>\n    </li>\n  )\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ result }) {\n  const { rank } = result\n\n  const detail = gettext(\"%(title)s, joined on %(joined_on)s\")\n  const title = result.title || rank.title || rank.name\n\n  return (\n    <li>\n      <a href={result.url} className=\"dropdown-search-user\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <Avatar size={38} user={result} />\n          </div>\n          <div className=\"media-body\">\n            <h5 className=\"media-heading\">{result.username}</h5>\n            <small>\n              {interpolate(\n                detail,\n                {\n                  title,\n                  joined_on: moment(result.joined_on).format(\"LL\"),\n                },\n                true\n              )}\n            </small>\n          </div>\n        </div>\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport misago from \"misago\"\nimport cleanResults from \"./clean-results\"\nimport Dropdown from \"./dropdown\"\n\nexport default class extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      isLoading: false,\n      isOpen: false,\n      query: \"\",\n      results: [],\n    }\n\n    this.intervalId = null\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.addEventListener(\"keydown\", this.onEscape)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.removeEventListener(\"keydown\", this.onEscape)\n  }\n\n  onToggle = (ev) => {\n    this.setState((prevState, props) => {\n      if (!prevState.isOpen) {\n        window.setTimeout(() => {\n          this.container.querySelector(\"input\").focus()\n        }, 100)\n      }\n\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  onDocumentMouseDown = (ev) => {\n    let closeResults = true\n    let node = ev.target\n\n    while (node !== null && node !== document) {\n      if (node === this.container) {\n        closeResults = false\n        return\n      }\n\n      node = node.parentNode\n    }\n\n    if (closeResults) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onEscape = (ev) => {\n    if (ev.key === \"Escape\") {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onChange = (ev) => {\n    const query = ev.target.value\n\n    this.setState({ query })\n    this.loadResults(query.trim())\n  }\n\n  loadResults(query) {\n    if (!query.length) return\n\n    const delay = 300 + Math.random() * 300\n\n    if (this.intervalId) {\n      window.clearTimeout(this.intervalId)\n    }\n\n    this.setState({ isLoading: true })\n\n    this.intervalId = window.setTimeout(() => {\n      ajax.get(misago.get(\"SEARCH_API\"), { q: query }).then(\n        (data) => {\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: cleanResults(data),\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: [],\n          })\n        }\n      )\n    }, delay)\n  }\n\n  render() {\n    let className = \"navbar-search dropdown\"\n    if (this.state.isOpen) className += \" open\"\n\n    return (\n      <div\n        className={className}\n        ref={(container) => (this.container = container)}\n      >\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"navbar-icon\"\n          data-toggle=\"dropdown\"\n          href={misago.get(\"SEARCH_URL\")}\n          onClick={this.onToggle}\n        >\n          <i className=\"material-icon\">search</i>\n        </a>\n        <Dropdown\n          isLoading={this.state.isLoading}\n          onChange={this.onChange}\n          results={this.state.results}\n          query={this.state.query}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\n\nexport default function () {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n      </div>\n      <PanelLoader />\n    </div>\n  )\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.options.next_on) {\n      return interpolate(\n        gettext(\"You will be able to change your username %(next_change)s.\"),\n        { next_change: this.props.options.next_on.fromNow() },\n        true\n      )\n    } else {\n      return gettext(\"You have used up available name changes.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n        </div>\n        <PanelMessage\n          helpText={this.getHelpText()}\n          message={gettext(\"You can't change your username at the moment.\")}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: \"\",\n\n      validators: {\n        username: [\n          validators.usernameContent(),\n          validators.usernameMinLength(props.options.length_min),\n          validators.usernameMaxLength(props.options.length_max),\n        ],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  getHelpText() {\n    let phrases = []\n\n    if (this.props.options.changes_left > 0) {\n      let message = ngettext(\n        \"You can change your username %(changes_left)s more time.\",\n        \"You can change your username %(changes_left)s more times.\",\n        this.props.options.changes_left\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            changes_left: this.props.options.changes_left,\n          },\n          true\n        )\n      )\n    }\n\n    if (this.props.user.acl.name_changes_expire > 0) {\n      let message = ngettext(\n        \"Used changes become available again after %(name_changes_expire)s day.\",\n        \"Used changes become available again after %(name_changes_expire)s days.\",\n        this.props.user.acl.name_changes_expire\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            name_changes_expire: this.props.user.acl.name_changes_expire,\n          },\n          true\n        )\n      )\n    }\n\n    return phrases.length ? phrases.join(\" \") : null\n  }\n\n  clean() {\n    let errors = this.validate()\n    if (errors.username) {\n      snackbar.error(errors.username[0])\n      return false\n    }\n    if (this.state.username.trim() === this.props.user.username) {\n      snackbar.info(gettext(\"Your new username is same as current one.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({\n      username: \"\",\n    })\n\n    this.props.complete(success.username, success.slug, success.options)\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup\n              label={gettext(\"New username\")}\n              for=\"id_username\"\n              helpText={this.getHelpText()}\n            >\n              <input\n                type=\"text\"\n                id=\"id_username\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"username\")}\n                value={this.state.username}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change username\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport FormLoading from \"misago/components/options/change-username/form-loading\"\nimport FormLocked from \"misago/components/options/change-username/form-locked\"\nimport Form from \"misago/components/options/change-username/form\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      options: null,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change username\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    Promise.all([\n      ajax.get(this.props.user.api.username),\n      ajax.get(misago.get(\"USERNAME_CHANGES_API\"), {\n        user: this.props.user.id,\n      }),\n    ]).then((data) => {\n      store.dispatch(hydrate(data[1].results))\n\n      this.setState({\n        isLoaded: true,\n        options: {\n          changes_left: data[0].changes_left,\n          length_min: data[0].length_min,\n          length_max: data[0].length_max,\n          next_on: data[0].next_on ? moment(data[0].next_on) : null,\n        },\n      })\n    })\n  }\n\n  onComplete = (username, slug, options) => {\n    this.setState({\n      options,\n    })\n\n    store.dispatch(\n      addNameChange({ username, slug }, this.props.user, this.props.user)\n    )\n    store.dispatch(updateUsername(this.props.user, username, slug))\n\n    snackbar.success(gettext(\"Your username has been changed successfully.\"))\n  }\n\n  getChangeForm() {\n    if (!this.state.isLoaded) {\n      return <FormLoading />\n    }\n\n    if (this.state.options.changes_left === 0) {\n      return <FormLocked options={this.state.options} />\n    }\n\n    return (\n      <Form\n        complete={this.onComplete}\n        options={this.state.options}\n        user={this.props.user}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {this.getChangeForm()}\n        <UsernameHistory\n          changes={this.props[\"username-history\"]}\n          isLoaded={this.state.isLoaded}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      password: \"\",\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Delete account\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onPasswordChange = (event) => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    const { isLoading, password } = this.state\n    const { user } = this.props\n\n    if (password.length == 0) {\n      snackbar.error(\n        gettext(\"Enter your password to confirm account deletion.\")\n      )\n      return false\n    }\n\n    if (isLoading) return false\n    this.setState({ isLoading: true })\n\n    ajax.post(user.api.delete, { password }).then(\n      (success) => {\n        window.location.href = misago.get(\"MISAGO_PATH\")\n      },\n      (rejection) => {\n        this.setState({ isLoading: false })\n        if (rejection.password) {\n          snackbar.error(rejection.password[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-danger panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Delete account\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p className=\"lead\">\n              {gettext(\n                \"You are going to delete your account. This action is nonreversible, and will result in following data being deleted:\"\n              )}\n            </p>\n\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Stored IP addresses associated with content that you have posted will be deleted.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your username will become available for other user to rename to or for new user to register their account with.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your e-mail will become available for use in new account registration.\"\n              )}\n            </p>\n\n            <hr />\n\n            <p>\n              {gettext(\n                \"All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.\"\n              )}\n            </p>\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"input-group\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                name=\"password-confirmation\"\n                type=\"password\"\n                placeholder={gettext(\n                  \"Enter your password to confirm account deletion.\"\n                )}\n                value={this.state.password}\n                onChange={this.onPasswordChange}\n              />\n              <span className=\"input-group-btn\">\n                <Button className=\"btn-danger\" loading={this.state.isLoading}>\n                  {gettext(\"Delete my account\")}\n                </Button>\n              </span>\n            </div>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class DownloadData extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isSubmiting: false,\n      downloads: [],\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Download your data\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    this.handleLoadDownloads()\n  }\n\n  handleLoadDownloads = () => {\n    ajax.get(this.props.user.api.data_downloads).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n          downloads: data,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  handleRequestDataDownload = () => {\n    this.setState({ isSubmiting: true })\n    ajax.post(this.props.user.api.request_data_download).then(\n      () => {\n        this.handleLoadDownloads()\n        snackbar.success(\n          gettext(\"Your request for data download has been registered.\")\n        )\n        this.setState({ isSubmiting: false })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        this.setState({ isSubmiting: false })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Download your data\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p>\n              {gettext(\n                'To download your data from the site, click the \"Request data download\" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.'\n              )}\n            </p>\n\n            <p>\n              {gettext(\n                \"The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired.\"\n              )}\n            </p>\n          </div>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>{gettext(\"Requested on\")}</th>\n                <th className=\"col-md-4\">{gettext(\"Download\")}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.downloads.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td style={rowStyle}>\n                      {moment(item.requested_on).fromNow()}\n                    </td>\n                    <td>\n                      <DownloadButton\n                        exportFile={item.file}\n                        status={item.status}\n                      />\n                    </td>\n                  </tr>\n                )\n              })}\n              {this.state.downloads.length == 0 ? (\n                <tr>\n                  <td colSpan=\"2\">{gettext(\"You have no data downloads.\")}</td>\n                </tr>\n              ) : null}\n            </tbody>\n          </table>\n          <div className=\"panel-footer text-right\">\n            <Button\n              className=\"btn-primary\"\n              loading={this.state.isSubmiting}\n              type=\"button\"\n              onClick={this.handleRequestDataDownload}\n            >\n              {gettext(\"Request data download\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rowStyle = {\n  verticalAlign: \"middle\",\n}\n\nconst STATUS_PENDING = 0\nconst STATUS_PROCESSING = 1\n\nconst DownloadButton = ({ exportFile, status }) => {\n  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {\n    return (\n      <Button\n        className=\"btn-info btn-sm btn-block\"\n        disabled={true}\n        type=\"button\"\n      >\n        {gettext(\"Download is being prepared\")}\n      </Button>\n    )\n  }\n\n  if (exportFile) {\n    return (\n      <a className=\"btn btn-success btn-sm btn-block\" href={exportFile}>\n        {gettext(\"Download your data\")}\n      </a>\n    )\n  }\n\n  return (\n    <Button\n      className=\"btn-default btn-sm btn-block\"\n      disabled={true}\n      type=\"button\"\n    >\n      {gettext(\"Download is expired\")}\n    </Button>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Edit details\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onSuccess = () => {\n    snackbar.info(gettext(\"Your details have been updated.\"))\n  }\n\n  render() {\n    return (\n      <Form api={this.props.user.api.edit_details} onSuccess={this.onSuccess} />\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Select from \"misago/components/select\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      is_hiding_presence: props.user.is_hiding_presence,\n      limits_private_thread_invites_to:\n        props.user.limits_private_thread_invites_to,\n      subscribe_to_started_threads: props.user.subscribe_to_started_threads,\n      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,\n\n      errors: {},\n    }\n\n    this.privateThreadInvitesChoices = [\n      {\n        value: 0,\n        icon: \"help_outline\",\n        label: gettext(\"Everybody\"),\n      },\n      {\n        value: 1,\n        icon: \"done_all\",\n        label: gettext(\"Users I follow\"),\n      },\n      {\n        value: 2,\n        icon: \"highlight_off\",\n        label: gettext(\"Nobody\"),\n      },\n    ]\n\n    this.subscribeToChoices = [\n      {\n        value: 0,\n        icon: \"star_border\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"star_half\",\n        label: gettext(\"Notify\"),\n      },\n      {\n        value: 2,\n        icon: \"star\",\n        label: gettext(\"Notify with e-mail\"),\n      },\n    ]\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.options, {\n      is_hiding_presence: this.state.is_hiding_presence,\n      limits_private_thread_invites_to:\n        this.state.limits_private_thread_invites_to,\n      subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n      subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n    })\n  }\n\n  handleSuccess() {\n    store.dispatch(\n      patch({\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to:\n          this.state.limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n      })\n    )\n    snackbar.success(gettext(\"Your forum options have been changed.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Please reload page and try again.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Forum options\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change forum options\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <fieldset>\n              <legend>{gettext(\"Privacy settings\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Hide my presence\")}\n                helpText={gettext(\n                  \"If you hide your presence, only members with permission to see hidden users will see when you are online.\"\n                )}\n                for=\"id_is_hiding_presence\"\n              >\n                <YesNoSwitch\n                  id=\"id_is_hiding_presence\"\n                  disabled={this.state.isLoading}\n                  iconOn=\"visibility_off\"\n                  iconOff=\"visibility\"\n                  labelOn={gettext(\"Hide my presence from other users\")}\n                  labelOff={gettext(\"Show my presence to other users\")}\n                  onChange={this.bindInput(\"is_hiding_presence\")}\n                  value={this.state.is_hiding_presence}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Private thread invitations\")}\n                for=\"id_limits_private_thread_invites_to\"\n              >\n                <Select\n                  id=\"id_limits_private_thread_invites_to\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"limits_private_thread_invites_to\")}\n                  value={this.state.limits_private_thread_invites_to}\n                  choices={this.privateThreadInvitesChoices}\n                />\n              </FormGroup>\n            </fieldset>\n\n            <fieldset>\n              <legend>{gettext(\"Automatic subscriptions\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Threads I start\")}\n                for=\"id_subscribe_to_started_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_started_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_started_threads\")}\n                  value={this.state.subscribe_to_started_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Threads I reply to\")}\n                for=\"id_subscribe_to_replied_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_replied_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_replied_threads\")}\n                  value={this.state.subscribe_to_replied_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n            </fieldset>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Save changes\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nexport function SideNav(props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.options.map((option) => {\n        return (\n          <Link\n            to={props.baseUrl + option.component + \"/\"}\n            className=\"list-group-item\"\n            activeClassName=\"active\"\n            key={option.component}\n          >\n            <span className=\"material-icon\">{option.icon}</span>\n            {option.name}\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function CompactNav(props) {\n  return (\n    <ul className={props.className || \"dropdown-menu\"} role=\"menu\">\n      {props.options.map((option) => {\n        return (\n          <Li\n            path={props.baseUrl + option.component + \"/\"}\n            key={option.component}\n          >\n            <Link\n              to={props.baseUrl + option.component + \"/\"}\n              onClick={props.hideNav}\n            >\n              <span className=\"material-icon hidden-sm\">{option.icon}</span>\n              {option.name}\n            </Link>\n          </Li>\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { SideNav, CompactNav } from \"misago/components/options/navs\"\nimport DeleteAccount from \"misago/components/options/delete-account\"\nimport EditDetails from \"misago/components/options/edit-details\"\nimport DownloadData from \"misago/components/options/download-data\"\nimport ChangeForumOptions from \"misago/components/options/forum-options\"\nimport ChangeUsername from \"misago/components/options/change-username/root\"\nimport ChangeSignInCredentials from \"misago/components/options/sign-in-credentials/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport PageContainer from \"../PageContainer\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    const page = misago.get(\"USER_OPTIONS\").filter((page) => {\n      const url = misago.get(\"USERCP_URL\") + page.component + \"/\"\n      return this.props.location.pathname.substr(0, url.length) === url\n    })[0]\n\n    return (\n      <div className=\"page page-options\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"options\">\n            <PageHeaderBanner styleName=\"options\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol auto>\n                    <h1>{gettext(\"Change your options\")}</h1>\n                  </FlexRowCol>\n                  <FlexRowCol className=\"hidden-xs hidden-md hidden-lg\" shrink>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n                        title={gettext(\"Menu\")}\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">menu</span>\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu dropdown-menu-right\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n                <FlexRowSection className=\"hidden-sm hidden-md hidden-lg\">\n                  <FlexRowCol>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-block dropdown-toggle\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">{page.icon}</span>\n                        {page.name}\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-3 hidden-xs hidden-sm\">\n              <SideNav\n                baseUrl={misago.get(\"USERCP_URL\")}\n                options={misago.get(\"USER_OPTIONS\")}\n              />\n            </div>\n            <div className=\"col-md-9\">{this.props.children}</div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nexport function paths() {\n  const paths = [\n    {\n      path: misago.get(\"USERCP_URL\") + \"forum-options/\",\n      component: connect(select)(ChangeForumOptions),\n    },\n    {\n      path: misago.get(\"USERCP_URL\") + \"edit-details/\",\n      component: connect(select)(EditDetails),\n    },\n  ]\n\n  const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n  if (!delegateAuth)  {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"change-username/\",\n      component: connect(select)(ChangeUsername),\n    })\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"sign-in-credentials/\",\n      component: connect(select)(ChangeSignInCredentials),\n    })\n  }\n\n  if (misago.get(\"ENABLE_DOWNLOAD_OWN_DATA\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"download-data/\",\n      component: connect(select)(DownloadData),\n    })\n  }\n\n  if (!delegateAuth && misago.get(\"ENABLE_DELETE_OWN_ACCOUNT\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"delete-account/\",\n      component: connect(select)(DeleteAccount),\n    })\n  }\n\n  return paths\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\n\nconst UnusablePasswordMessage = () => {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change email or password\")}</h3>\n      </div>\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You need to set a password for your account to be able to change your username or email.\"\n            )}\n          </p>\n          <p className=\"help-block\">\n            <a\n              className=\"btn btn-primary\"\n              href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n            >\n              {gettext(\"Set password\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnusablePasswordMessage\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_email: \"\",\n      password: \"\",\n\n      validators: {\n        new_email: [validators.email()],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_email.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_email) {\n      snackbar.error(errors.new_email[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_email, {\n      new_email: this.state.new_email,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_email: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_email) {\n        snackbar.error(rejection.new_email)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change e-mail address\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New e-mail\")} for=\"id_new_email\">\n              <input\n                type=\"text\"\n                id=\"id_new_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_email\")}\n                value={this.state.new_email}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_email\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change e-mail\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n\n      validators: {\n        new_password: [],\n        repeat_password: [],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_password.trim().length,\n      this.state.repeat_password.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_password) {\n      snackbar.error(errors.new_password[0])\n      return false\n    }\n\n    if (this.state.new_password !== this.state.repeat_password) {\n      snackbar.error(gettext(\"New passwords are different.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_password, {\n      new_password: this.state.new_password,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_password) {\n        snackbar.error(rejection.new_password)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change password\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New password\")} for=\"id_new_password\">\n              <input\n                type=\"password\"\n                id=\"id_new_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_password\")}\n                value={this.state.new_password}\n              />\n            </FormGroup>\n\n            <FormGroup\n              label={gettext(\"Repeat password\")}\n              for=\"id_repeat_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_repeat_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"repeat_password\")}\n                value={this.state.repeat_password}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change password\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangeEmail from \"misago/components/options/sign-in-credentials/change-email\"\nimport ChangePassword from \"misago/components/options/sign-in-credentials/change-password\"\nimport misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\nimport UnusablePasswordMessage from \"./UnusablePasswordMessage\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change email or password\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    if (!this.props.user.has_usable_password) {\n      return <UnusablePasswordMessage />\n    }\n\n    return (\n      <div>\n        <ChangeEmail user={this.props.user} />\n        <ChangePassword user={this.props.user} />\n\n        <p className=\"message-line\">\n          <span className=\"material-icon\">warning</span>\n          <a href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}>\n            {gettext(\"Change forgotten password\")}\n          </a>\n        </p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy,\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {gettext(\"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n    ])\n    .then(\n      () => {\n        snackbar.success(gettext(\"You have left this thread.\"))\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been removed from this thread.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been made new thread owner.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function (props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>{gettext(\"See profile\")}</a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">{gettext(\"Thread owner\")}</span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map((participant) => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to take over this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {gettext(\"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to leave this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser ? gettext(\"Leave thread\") : gettext(\"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function (props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = ngettext(\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count,\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\",\n]\n\nexport const LABELS = [\n  gettext(\"Entered password is very weak.\"),\n  gettext(\"Entered password is weak.\"),\n  gettext(\"Entered password is average.\"),\n  gettext(\"Entered password is strong.\"),\n  gettext(\"Entered password is very strong.\"),\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false,\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function (value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: generateRandomHash(),\n      label: \"\",\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map((choice) => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = (hash) => {\n    const choices = this.props.choices.filter((choice) => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map((choice) => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {gettext(\"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = (event) => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem = window.confirm(\n      gettext(\"Are you sure you want to delete this choice?\")\n    )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={gettext(\"Delete this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={gettext(\"choice label\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n\nexport function generateRandomHash() {\n  let randomHash = \"\"\n  while (randomHash.length != 12) {\n    randomHash = Math.random()\n      .toString(36)\n      .replace(/[^a-zA-Z0-9]+/g, \"\")\n      .substr(1, 12)\n  }\n  return randomHash\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll || {\n      question: \"\",\n      choices: [\n        {\n          hash: \"choice-10000\",\n          label: \"\",\n        },\n        {\n          hash: \"choice-20000\",\n          label: \"\",\n        },\n      ],\n      length: 0,\n      allowed_choices: 1,\n      allow_revotes: 0,\n      is_public: 0,\n    }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.question,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: [],\n      },\n\n      errors: {},\n    }\n  }\n\n  setChoices = (choices) => {\n    const errors = Object.assign({}, errors, { choices: null })\n\n    this.setState({\n      choices,\n      errors,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard poll?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public,\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    } else {\n      return ajax.post(this.props.thread.api.poll, data)\n    }\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(gettext(\"Poll has been edited.\"))\n    } else {\n      snackbar.success(gettext(\"Poll has been posted.\"))\n    }\n\n    posting.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection),\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <div className=\"container\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-body\">\n                <fieldset>\n                  <legend>{gettext(\"Question and choices\")}</legend>\n\n                  <FormGroup\n                    label={gettext(\"Poll question\")}\n                    for=\"id_questions\"\n                    validation={this.state.errors.question}\n                  >\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      id=\"id_questions\"\n                      onChange={this.bindInput(\"question\")}\n                      type=\"text\"\n                      maxLength=\"255\"\n                      value={this.state.question}\n                    />\n                  </FormGroup>\n\n                  <FormGroup\n                    label={gettext(\"Available choices\")}\n                    validation={this.state.errors.choices}\n                  >\n                    <ChoicesControl\n                      choices={this.state.choices}\n                      disabled={this.state.isLoading}\n                      setChoices={this.setChoices}\n                    />\n                  </FormGroup>\n                </fieldset>\n\n                <fieldset>\n                  <legend>{gettext(\"Voting\")}</legend>\n\n                  <div className=\"row\">\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Poll length\")}\n                        helpText={gettext(\n                          \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                        )}\n                        for=\"id_length\"\n                        validation={this.state.errors.length}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_length\"\n                          onChange={this.bindInput(\"length\")}\n                          type=\"text\"\n                          value={this.state.length}\n                        />\n                      </FormGroup>\n                    </div>\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allowed choices\")}\n                        for=\"id_allowed_choices\"\n                        validation={this.state.errors.allowed_choices}\n                      >\n                        <input\n                          className=\"form-control\"\n                          disabled={this.state.isLoading}\n                          id=\"id_allowed_choices\"\n                          onChange={this.bindInput(\"allowed_choices\")}\n                          type=\"text\"\n                          maxLength=\"255\"\n                          value={this.state.allowed_choices}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n\n                  <div className=\"row\">\n                    <PollPublicSwitch\n                      bindInput={this.bindInput}\n                      disabled={this.state.isLoading}\n                      isEdit={this.state.isEdit}\n                      value={this.state.is_public}\n                    />\n                    <div className=\"col-xs-12 col-sm-6\">\n                      <FormGroup\n                        label={gettext(\"Allow vote changes\")}\n                        for=\"id_allow_revotes\"\n                      >\n                        <YesNoSwitch\n                          id=\"id_allow_revotes\"\n                          disabled={this.state.isLoading}\n                          iconOn=\"check\"\n                          iconOff=\"close\"\n                          labelOn={gettext(\n                            \"Allow participants to change their vote\"\n                          )}\n                          labelOff={gettext(\n                            \"Don't allow participants to change their vote\"\n                          )}\n                          onChange={this.bindInput(\"allow_revotes\")}\n                          value={this.state.allow_revotes}\n                        />\n                      </FormGroup>\n                    </div>\n                  </div>\n                </fieldset>\n              </div>\n              <div className=\"panel-footer text-right\">\n                <button\n                  className=\"btn btn-default\"\n                  disabled={this.state.isLoading}\n                  onClick={this.onCancel}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>{\" \"}\n                <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                  {this.state.isEdit\n                    ? gettext(\"Save changes\")\n                    : gettext(\"Post poll\")}\n                </Button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={gettext(\"Make voting public\")}\n        helpText={gettext(\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={gettext(\"Votes are public\")}\n          labelOff={gettext(\"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll }\nexport { PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(gettext(\"Posted by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name),\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name),\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = ngettext(\"%(votes)s vote.\", \"%(votes)s votes.\", props.votes)\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return <li className=\"poll-info-public\">{gettext(\"Votes are public.\")}</li>\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults,\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true,\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false,\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map((choice) => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = ngettext(\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc,\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {gettext(\"Your choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function (props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      (data) => {\n        const hydratedData = data.map((choice) => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map((voter) => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on),\n              })\n            }),\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Poll votes\")}</h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map((choice) => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = ngettext(\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map((user) => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit controls={controls} poll={poll} thread={thread} />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {gettext(\"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      submit: this.props.poll.api.index,\n\n      thread: this.props.thread,\n      poll: this.props.poll,\n\n      mode: \"POLL\",\n    })\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_edit) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 2)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Edit\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      gettext(\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = (newThreadAcl) => {\n    snackbar.success(\"Poll has been deleted\")\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = (rejection) => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {gettext(\"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {gettext(\"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = ngettext(\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft,\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {gettext(\"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return <li className=\"poll-help-no-revotes\">{gettext(\"Votes are final.\")}</li>\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices),\n    }\n  }\n\n  toggleChoice = (hash) => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices),\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected,\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected,\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(gettext(\"You need to select at least one choice\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(gettext(\"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {gettext(\"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {gettext(\"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map((choice) => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={gettext(\"Revert post to state from before this edit.\")}\n        >\n          {gettext(\"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null,\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true,\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  revertEdit = (edit) => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true,\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      (data) => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(gettext(\"Post has been reverted to previous state.\"))\n        modal.hide()\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Post edits history\")}</h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={gettext(\"Revert post to state from before this edit.\")}\n      >\n        {gettext(\"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(edited_by)s %(edited_on)s.\")),\n    {\n      edited_by: user,\n      edited_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on),\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function ({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map((post) => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function ({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"panel-content\">\n            <PostSide post={post} poster={user} />\n            <Header post={post} />\n            <Body post={post} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function ({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">{gettext(\"See post\")}</span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function ({ post, poster }) {\n  if (poster && poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function () {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"panel-content\">\n              <div className=\"post-side post-side-anonymous\">\n                <div className=\"media\">\n                  <div className=\"media-left\">\n                    <span>\n                      <Avatar className=\"poster-avatar\" size={50} />\n                    </span>\n                  </div>\n                  <div className=\"media-body\">\n                    <div className=\"media-heading\">\n                      <span className=\"item-title\">\n                        <span\n                          className=\"ui-preview-text\"\n                          style={{ width: random.int(30, 200) + \"px\" }}\n                        >\n                          &nbsp;\n                        </span>\n                      </span>\n                    </div>\n                    <span className=\"user-title user-title-anonymous\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"post-heading\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(30, 200) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"post-body\">\n                <article className=\"misago-markup\">\n                  <p>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </p>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={gettext(\"No users have liked this post.\")} />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on),\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = gettext(\"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = ngettext(\"%(likes)s like\", \"%(likes)s likes\", likesCount)\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map((like) => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars,\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard changes?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true,\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Reply has been edited.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <Container className=\"posting-form\">\n          <form onSubmit={this.handleSubmit} method=\"POST\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <Editor\n                  attachments={this.state.attachments}\n                  canProtect={this.state.canProtect}\n                  loading={this.state.isLoading}\n                  onAttachmentsChange={this.onAttachmentsChange}\n                  onCancel={this.onCancel}\n                  onChange={this.onPostChange}\n                  onProtect={this.onProtect}\n                  onUnprotect={this.onUnprotect}\n                  protect={this.state.protect}\n                  submitLabel={gettext(\"Edit reply\")}\n                  value={this.state.post}\n                />\n              </div>\n            </div>\n          </form>\n        </Container>\n      )\n    } else if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    } else {\n      return <Loader />\n    }\n  }\n}\n","import React from \"react\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function (props) {\n  if (props.mode === \"START\") {\n    return <Start {...props} />\n  } else if (props.mode === \"START_PRIVATE\") {\n    return <StartPrivate {...props} />\n  } else if (props.mode === \"REPLY\") {\n    return <Reply {...props} />\n  } else if (props.mode === \"EDIT\") {\n    return <Edit {...props} />\n  } else {\n    return null\n  }\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : \"\",\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your reply has been posted.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <Container className=\"posting-form\">\n          <form onSubmit={this.handleSubmit} method=\"POST\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <Editor\n                  attachments={this.state.attachments}\n                  loading={this.state.isLoading}\n                  onAttachmentsChange={this.onAttachmentsChange}\n                  onCancel={this.onCancel}\n                  onChange={this.onPostChange}\n                  submitLabel={gettext(\"Post reply\")}\n                  value={this.state.post}\n                />\n              </div>\n            </div>\n          </form>\n        </Container>\n      )\n    } else if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    } else {\n      return <Loader />\n    }\n  }\n}\n","import React from \"react\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Message from \"./utils/message\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map((user) => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard private thread?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onToChange = (event) => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(gettext(\"You have to enter at least one recipient.\"))\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onToChange}\n                placeholder={gettext(\n                  \"Comma separated list of user names, eg.: Danny, Lisa\"\n                )}\n                type=\"text\"\n                value={this.state.to}\n              />\n            </div>\n          </div>\n          <div className=\"row first-row\">\n            <div className=\"col-xs-12\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <Editor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import React from \"react\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Editor from \"misago/components/editor\"\nimport Form from \"misago/components/form\"\nimport Container from \"./utils/container\"\nimport Loader from \"./utils/loader\"\nimport Message from \"./utils/message\"\nimport Options from \"./utils/options\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isErrored: false,\n\n      showOptions: false,\n      categoryOptions: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    let category = null\n    let showOptions = false\n    let categoryOptions = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map((item) => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        categoryOptions = item.post\n      }\n\n      if (item.post && (item.post.close || item.post.hide || item.post.pin)) {\n        showOptions = true\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id,\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      showOptions,\n\n      categories,\n      category,\n      categoryOptions,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      isErrored: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard thread?\")\n    )\n    if (cancel) {\n      posting.close()\n    }\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = (event) => {\n    const category = this.state.categories.find((item) => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState({\n      attachments,\n    })\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    if (this.state.isErrored) {\n      return <Message message={this.state.isErrored} />\n    }\n\n    if (!this.state.isReady) {\n      return <Loader />\n    }\n\n    let columns = 0\n    if (this.state.categoryOptions.close) columns += 1\n    if (this.state.categoryOptions.hide) columns += 1\n    if (this.state.categoryOptions.pin) columns += 1\n\n    let titleStyle = null\n\n    if (columns === 1) {\n      titleStyle = \"col-sm-6\"\n    } else {\n      titleStyle = \"col-sm-8\"\n    }\n\n    if (columns === 3) {\n      titleStyle += \" col-md-6\"\n    } else if (columns) {\n      titleStyle += \" col-md-7\"\n    } else {\n      titleStyle += \" col-md-9\"\n    }\n\n    return (\n      <Container className=\"posting-form\" withFirstRow={true}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"row first-row\">\n            <div className={titleStyle}>\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.onTitleChange}\n                placeholder={gettext(\"Thread title\")}\n                type=\"text\"\n                value={this.state.title}\n              />\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-3 xs-margin-top\">\n              <CategorySelect\n                choices={this.state.categories}\n                disabled={this.state.isLoading}\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n              />\n            </div>\n            <Options\n              close={this.state.close}\n              columns={columns}\n              disabled={this.state.isLoading}\n              hide={this.state.hide}\n              onClose={this.onClose}\n              onHide={this.onHide}\n              onOpen={this.onOpen}\n              onPinGlobally={this.onPinGlobally}\n              onPinLocally={this.onPinLocally}\n              onUnhide={this.onUnhide}\n              onUnpin={this.onUnpin}\n              options={this.state.categoryOptions}\n              pin={this.state.pin}\n              showOptions={this.state.showOptions}\n            />\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <Editor\n                attachments={this.state.attachments}\n                loading={this.state.isLoading}\n                onAttachmentsChange={this.onAttachmentsChange}\n                onCancel={this.onCancel}\n                onChange={this.onPostChange}\n                submitLabel={gettext(\"Post thread\")}\n                value={this.state.post}\n              />\n            </div>\n          </div>\n        </form>\n      </Container>\n    )\n  }\n}\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  const completedAttachments = attachments.filter((attachment) => {\n    return attachment.id && !attachment.isRemoved\n  })\n\n  return completedAttachments.map((a) => {\n    return a.id\n  })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map((attachment) => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on),\n    })\n  })\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className}>\n      <div className=\"container\">{props.children}</div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport Loader from \"misago/components/loader\"\n\nexport default function (props) {\n  return (\n    <Container className=\"posting-loader\">\n      <Loader />\n    </Container>\n  )\n}\n","import React from \"react\"\nimport Container from \"./container\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  return (\n    <Container className=\"posting-message\">\n      <div className=\"message-body\">\n        <p>\n          <span className=\"material-icon\">error_outline</span>\n          {props.message}\n        </p>\n        <button\n          type=\"button\"\n          className=\"btn btn-default\"\n          onClick={posting.close}\n        >\n          {gettext(\"Dismiss\")}\n        </button>\n      </div>\n    </Container>\n  )\n}\n","import React from \"react\"\n\nexport default function (props) {\n  if (!props.showOptions) return null\n\n  const { columns } = props\n\n  let className = \"col-xs-12 xs-margin-top\"\n\n  if (columns === 1) {\n    className += \" col-sm-2\"\n  } else {\n    className += \" sm-margin-top\"\n  }\n\n  if (columns === 3) {\n    className += \" col-md-3\"\n  } else {\n    className += \" col-md-2\"\n  }\n  className += \" posting-options\"\n\n  const columnClassName = \"col-xs-\" + 12 / columns\n\n  let textClassName = \"btn-text\"\n  if (columns === 3) {\n    textClassName += \" visible-sm-inline-block\"\n  } else if (columns === 2) {\n    textClassName += \" hidden-md hidden-lg\"\n  } else {\n    textClassName += \" hidden-sm\"\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"row\">\n        <PinOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          onPinGlobally={props.onPinGlobally}\n          onPinLocally={props.onPinLocally}\n          onUnpin={props.onUnpin}\n          pin={props.pin}\n          show={props.options.pin}\n          textClassName={textClassName}\n        />\n        <HideOptions\n          className={columnClassName}\n          disabled={props.disabled}\n          hide={props.hide}\n          onHide={props.onHide}\n          onUnhide={props.onUnhide}\n          show={props.options.hide}\n          textClassName={textClassName}\n        />\n        <CloseOptions\n          className={columnClassName}\n          close={props.close}\n          disabled={props.disabled}\n          onClose={props.onClose}\n          onOpen={props.onOpen}\n          show={props.options.close}\n          textClassName={textClassName}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport function CloseOptions(props) {\n  if (!props.show) return null\n\n  const label = props.close ? gettext(\"Closed\") : gettext(\"Open\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.close ? props.onOpen : props.onClose}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.close ? \"lock\" : \"lock_outline\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function HideOptions(props) {\n  if (!props.show) return null\n\n  const label = props.hide ? gettext(\"Hidden\") : gettext(\"Not hidden\")\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={props.hide ? props.onUnhide : props.onHide}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">\n          {props.hide ? \"visibility_off\" : \"visibility\"}\n        </span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n\nexport function PinOptions(props) {\n  if (!props.show) return null\n\n  let icon = null\n  let onClick = null\n  let label = null\n\n  switch (props.pin) {\n    case 0:\n      icon = \"radio_button_unchecked\"\n      onClick = props.onPinLocally\n      label = gettext(\"Unpinned\")\n      break\n\n    case 1:\n      icon = \"bookmark_outline\"\n      onClick = props.onPinGlobally\n      label = gettext(\"Pinned locally\")\n\n      if (props.show == 2) {\n        onClick = props.onPinGlobally\n      } else {\n        onClick = props.onUnpin\n      }\n\n      break\n\n    case 2:\n      icon = \"bookmark\"\n      onClick = props.onUnpin\n      label = gettext(\"Pinned globally\")\n      break\n  }\n\n  return (\n    <div className={props.className}>\n      <button\n        className=\"btn btn-default btn-block\"\n        disabled={props.disabled}\n        onClick={onClick}\n        title={label}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">{icon}</span>\n        <span className={props.textClassName}>{label}</span>\n      </button>\n    </div>\n  )\n}\n","export default function (usernames) {\n  const normalisedNames = usernames\n    .split(\",\")\n    .map((i) => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter((i) => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url,\n        }),\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false,\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      gettext(\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(gettext(\"Event has been deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {gettext(\"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\",\n}\n\nconst EventIcon = (props) => (\n  <span className=\"event-icon-bg\">\n    <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n  </span>\n)\n\nexport default EventIcon\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function (props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"event-body\">\n        <div className=\"event-icon\">\n          <Icon {...props} />\n        </div>\n        <Waypoint className=\"event-content\" post={props.post}>\n          <Message {...props} />\n          <Info {...props} />\n        </Waypoint>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow()),\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(gettext(\"Hidden by %(event_by)s %(event_on)s.\")),\n      {\n        event_by: user,\n        event_on: date,\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date,\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: gettext(\"Thread has been pinned globally.\"),\n  pinned_locally: gettext(\"Thread has been pinned locally.\"),\n  unpinned: gettext(\"Thread has been unpinned.\"),\n\n  approved: gettext(\"Thread has been approved.\"),\n\n  opened: gettext(\"Thread has been opened.\"),\n  closed: gettext(\"Thread has been closed.\"),\n\n  unhid: gettext(\"Thread has been revealed.\"),\n  hid: gettext(\"Thread has been made hidden.\"),\n\n  tookover: gettext(\"Took thread over.\"),\n\n  owner_left: gettext(\"Owner has left thread. This thread is now closed.\"),\n  participant_left: gettext(\"Participant has left thread.\"),\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread title has been changed from %(old_title)s.\")\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title),\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    gettext(\"The %(merged_thread)s thread has been merged into this thread.\")\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(gettext(\"Changed thread owner to %(user)s.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Added %(user)s to thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Removed %(user)s from thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"event-label\">\n      <span className=\"label label-unread\">{gettext(\"New event\")}</span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function (props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map((post) => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map((row) => {\n        const key = row\n          .map((a) => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map((attachment) => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <Waypoint className=\"post-body\" post={props.post}>\n      <MisagoMarkup markup={props.post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Hidden by %(hidden_by)s %(hidden_on)s.\")),\n    {\n      hidden_by: user,\n      hidden_on: date,\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post is hidden. You cannot see its contents.\")}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url,\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter((user) => {\n        return !user.id || user.id !== props.user.id\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    (newState) => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true,\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(gettext(\"Post has been deleted.\"))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false,\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug,\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null,\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    (newState) => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(gettext(\"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {gettext(\"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {gettext(\"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {gettext(\"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function (props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move post to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move post\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move this post at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      gettext(\"Marked as best answer by you %(marked_on)s.\"),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      gettext(\"Marked as best answer by %(marked_by)s %(marked_on)s.\"),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {gettext(\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {gettext(\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>{gettext(\"This post is protected. Only moderators may change it.\")}</p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {gettext(\"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked ? gettext(\"Liked\") : gettext(\"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map((u) => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      gettext(\"%(user)s likes this.\"),\n      {\n        user: usernames[0],\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    gettext(\"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser,\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      gettext(\"%(users)s like this.\"),\n      {\n        users: usernamesList,\n      },\n      true\n    )\n  }\n\n  const message = ngettext(\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes,\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id,\n      },\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-primary btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription,\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport modal from \"misago/services/modal\"\n\nexport default function (props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">{gettext(\"New post\")}</span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {gettext(\"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: props.post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on hidden-xs\"\n      title={tooltip}\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    const label = ngettext(\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = ngettext(\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={gettext(\"This post is protected and may not be edited.\")}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {gettext(\"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected,\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function (props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide {...props} />\n          <div className=\"panel-content\">\n            <Header {...props} />\n            <FlagBestAnswer {...props} />\n            <FlagUnapproved {...props} />\n            <FlagProtected {...props} />\n            <FlagHidden {...props} />\n            <Body {...props} />\n            <Attachments {...props} />\n            <Footer {...props} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\n\nexport default function ({ post, thread }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function (props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", poster.posts)\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts,\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nconst PostPreview = () => (\n  <li className=\"post\">\n    <div className=\"panel panel-default panel-post\">\n      <div className=\"panel-body\">\n        <div className=\"post-side post-side-registered\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <span>\n                <Avatar className=\"poster-avatar\" size=\"100\" />\n              </span>\n            </div>\n            <div className=\"media-body\">\n              <span className=\"media-heading item-title\">\n                <span className=\"ui-preview-text\" style={{ width: \"80px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n              <span className=\"user-title user-title-anonymous\">\n                <span className=\"ui-preview-text\" style={{ width: \"60px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"panel-content\">\n          <div className=\"post-body\">\n            <article className=\"misago-markup\">\n              <p className=\"ui-preview-text\" style={{ width: \"100%\" }}>\n                &nbsp;\n              </p>\n              <p className=\"ui-preview-text\" style={{ width: \"70%\" }}>\n                &nbsp;\n              </p>\n              <p\n                className=\"ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: \"85%\" }}\n              >\n                &nbsp;\n              </p>\n            </article>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n)\n\nexport default PostPreview\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  /*\n  Super naive and de-facto placeholder implementation for reading posts on scroll\n  */\n  componentDidMount() {\n    if (this.props.post.is_read) return // don't register read tracker\n\n    $(this.element).waypoint({\n      handler: (direction) => {\n        if (direction !== \"down\" || this.props.post.is_read) return\n\n        // after 1500ms run flag post as read logic\n        window.setTimeout(() => {\n          // check if post's bottom edge is still in viewport\n          const boundingClientRect = this.element.getBoundingClientRect()\n          const offsetBottom =\n            boundingClientRect.height + boundingClientRect.top\n          const clientHeight = document.documentElement.clientHeight\n\n          if (offsetBottom < 5) return // scrolled past the post\n          if (offsetBottom > clientHeight) return // scrolled back up\n\n          // mark post as read\n          store.dispatch(\n            post.patch(this.props.post, {\n              is_read: true,\n            })\n          )\n\n          // call API to let it know we have unread post\n          ajax.post(this.props.post.api.read).then(\n            (data) => {\n              store.dispatch(\n                thread.update(this.props.thread, {\n                  is_read: data.thread_is_read,\n                })\n              )\n            },\n            (rejection) => {\n              snackbar.apiError(rejection)\n            }\n          )\n        }, 1000)\n      },\n      offset: \"bottom-in-view\",\n    })\n  }\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={(node) => {\n          if (node) this.element = node\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\r\nimport Status, { StatusIcon, StatusLabel } from \"../user-status\"\r\n\r\nconst ProfileDataList = ({ profile }) => (\r\n  <ul className=\"profile-data-list\">\r\n    {profile.is_active === false && (\r\n      <li className=\"user-account-disabled\">\r\n        <abbr\r\n          title={gettext(\r\n            \"This user's account has been disabled by administrator.\"\r\n          )}\r\n        >\r\n          {gettext(\"Account disabled\")}\r\n        </abbr>\r\n      </li>\r\n    )}\r\n    <li className=\"user-status-display\">\r\n      <Status user={profile} status={profile.status}>\r\n        <StatusIcon user={profile} status={profile.status} />\r\n        <StatusLabel\r\n          user={profile}\r\n          status={profile.status}\r\n          className=\"status-label\"\r\n        />\r\n      </Status>\r\n    </li>\r\n    {profile.rank.is_tab ? (\r\n      <li className=\"user-rank\">\r\n        <a href={profile.rank.url} className=\"item-title\">\r\n          {profile.rank.name}\r\n        </a>\r\n      </li>\r\n    ) : (\r\n      <li className=\"user-rank\">\r\n        <span className=\"item-title\">{profile.rank.name}</span>\r\n      </li>\r\n    )}\r\n    {(profile.title || profile.rank.title) && (\r\n      <li className=\"user-title\">{profile.title || profile.rank.title}</li>\r\n    )}\r\n    <li className=\"user-joined-on\">\r\n      <abbr\r\n        title={interpolate(\r\n          gettext(\"Joined on %(joined_on)s\"),\r\n          {\r\n            joined_on: profile.joined_on.format(\"LL, LT\"),\r\n          },\r\n          true\r\n        )}\r\n      >\r\n        {interpolate(\r\n          gettext(\"Joined %(joined_on)s\"),\r\n          {\r\n            joined_on: profile.joined_on.fromNow(),\r\n          },\r\n          true\r\n        )}\r\n      </abbr>\r\n    </li>\r\n    {profile.email && (\r\n      <li className=\"user-email\">\r\n        <a href={\"mailto:\" + profile.email} className=\"item-title\">\r\n          {profile.email}\r\n        </a>\r\n      </li>\r\n    )}\r\n  </ul>\r\n)\r\n\r\nexport default ProfileDataList\r\n","import React from \"react\"\r\nimport Avatar from \"../avatar\"\r\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\r\nimport {\r\n  PageHeader,\r\n  PageHeaderBanner,\r\n  PageHeaderContainer,\r\n  PageHeaderDetails,\r\n} from \"../PageHeader\"\r\nimport FollowButton from \"./follow-button\"\r\nimport MessageButton from \"./message-button\"\r\nimport ModerationOptions from \"./moderation/nav\"\r\nimport ProfileDataList from \"./ProfileDataList\"\r\n\r\nconst ProfileHeader = ({ profile, user, moderation, message, follow }) => (\r\n  <PageHeaderContainer>\r\n    <PageHeader\r\n      styleName={\r\n        profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\r\n      }\r\n    >\r\n      <PageHeaderBanner\r\n        styleName={\r\n          profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\r\n        }\r\n      >\r\n        <div className=\"profile-page-header\">\r\n          <div className=\"profile-page-header-avatar\">\r\n            <Avatar\r\n              className=\"user-avatar hidden-sm hidden-md hidden-lg\"\r\n              user={profile}\r\n              size={200}\r\n              size2x={400}\r\n            />\r\n            <Avatar\r\n              className=\"user-avatar hidden-xs hidden-md hidden-lg\"\r\n              user={profile}\r\n              size={64}\r\n              size2x={128}\r\n            />\r\n            <Avatar\r\n              className=\"user-avatar hidden-xs hidden-sm\"\r\n              user={profile}\r\n              size={128}\r\n              size2x={256}\r\n            />\r\n          </div>\r\n          <h1>{profile.username}</h1>\r\n        </div>\r\n      </PageHeaderBanner>\r\n      <PageHeaderDetails className=\"profile-page-header-details\">\r\n        <FlexRow>\r\n          <FlexRowSection auto>\r\n            <FlexRowCol>\r\n              <ProfileDataList profile={profile} />\r\n            </FlexRowCol>\r\n          </FlexRowSection>\r\n          {message && (\r\n            <FlexRowSection>\r\n              <FlexRowCol>\r\n                <MessageButton\r\n                  className=\"btn btn-default btn-block btn-outline\"\r\n                  profile={profile}\r\n                  user={user}\r\n                />\r\n              </FlexRowCol>\r\n              {moderation.available && !follow && (\r\n                <FlexRowCol shrink>\r\n                  <div className=\"dropdown\">\r\n                    <ProfileModerationButton />\r\n                    <ModerationOptions\r\n                      profile={profile}\r\n                      moderation={moderation}\r\n                    />\r\n                  </div>\r\n                </FlexRowCol>\r\n              )}\r\n            </FlexRowSection>\r\n          )}\r\n          {follow && (\r\n            <FlexRowSection>\r\n              <FlexRowCol>\r\n                <FollowButton\r\n                  className=\"btn btn-block btn-outline\"\r\n                  profile={profile}\r\n                />\r\n              </FlexRowCol>\r\n              {moderation.available && (\r\n                <FlexRowCol shrink>\r\n                  <div className=\"dropdown\">\r\n                    <ProfileModerationButton />\r\n                    <ModerationOptions\r\n                      profile={profile}\r\n                      moderation={moderation}\r\n                    />\r\n                  </div>\r\n                </FlexRowCol>\r\n              )}\r\n            </FlexRowSection>\r\n          )}\r\n          {moderation.available && !follow && !message && (\r\n            <FlexRowSection>\r\n              <FlexRowCol className=\"hidden-xs\" shrink>\r\n                <div className=\"dropdown\">\r\n                  <ProfileModerationButton />\r\n                  <ModerationOptions\r\n                    profile={profile}\r\n                    moderation={moderation}\r\n                  />\r\n                </div>\r\n              </FlexRowCol>\r\n              <FlexRowCol className=\"hidden-sm hidden-md hidden-lg\">\r\n                <div className=\"dropdown\">\r\n                  <button\r\n                    className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\r\n                    type=\"button\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    <span className=\"material-icon\">settings</span>\r\n                    {gettext(\"Options\")}\r\n                  </button>\r\n                  <ModerationOptions\r\n                    profile={profile}\r\n                    moderation={moderation}\r\n                  />\r\n                </div>\r\n              </FlexRowCol>\r\n            </FlexRowSection>\r\n          )}\r\n        </FlexRow>\r\n      </PageHeaderDetails>\r\n    </PageHeader>\r\n  </PageHeaderContainer>\r\n)\r\n\r\nconst ProfileModerationButton = () => (\r\n  <button\r\n    className=\"btn btn-default btn-icon btn-outline dropdown-toggle\"\r\n    type=\"button\"\r\n    title={gettext(\"Options\")}\r\n    data-toggle=\"dropdown\"\r\n    aria-haspopup=\"true\"\r\n    aria-expanded=\"false\"\r\n  >\r\n    <span className=\"material-icon\">settings</span>\r\n  </button>\r\n)\r\n\r\nexport default ProfileHeader\r\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst ProfileNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">{page.icon}</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => (\n          <li key={page.component}>\n            <Link to={baseUrl + page.component + \"/\"}>\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => (\n        <Li path={baseUrl + page.component + \"/\"} key={page.component}>\n          <Link to={baseUrl + page.component + \"/\"}>\n            <span className=\"material-icon\">{page.icon}</span>\n            {page.name}\n          </Link>\n        </Li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ProfileNav\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban,\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error,\n    })\n  }\n\n  update = (ban) => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban,\n    })\n  }\n\n  error = (error) => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Ban details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{gettext(\"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{gettext(\"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{gettext(\"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={gettext(\"No ban is active at the moment.\")}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Ban details\")}</h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = gettext(\"You are not sharing any details with others.\")\n  } else {\n    message = interpolate(\n      gettext(\"%(username)s is not sharing any details with others.\"),\n      {\n        username: profile.username,\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function (props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function ({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function ({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile,\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nconst ProfileDetailsHeader = ({ onEdit, showEditButton }) => (\n  <Toolbar>\n    <ToolbarSection auto>\n      <ToolbarItem auto>\n        <h3>{gettext(\"Details\")}</h3>\n      </ToolbarItem>\n    </ToolbarSection>\n    {showEditButton && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            onClick={onEdit}\n            type=\"button\"\n          >\n            {gettext(\"Edit\")}\n          </button>\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ProfileDetailsHeader\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = (newDetails) => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = gettext(\"Your details have been updated.\")\n    } else {\n      message = interpolate(\n        gettext(\"%(username)s's details have been updated.\"),\n        {\n          username: profile.username,\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have no started threads.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s started no threads.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0,\n      })\n      .then(\n        (data) => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false,\n          })\n        },\n        (rejection) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username,\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.props.header}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (props.posts.isLoaded && !props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {gettext(\"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return gettext(\"Following\")\n    } else {\n      return gettext(\"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1,\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1,\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n        })\n\n        store.dispatch(patch(data))\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = gettext(\"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1,\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You have no followers.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show more (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search users...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = gettext(\"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You are not following any users.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile],\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {gettext(\"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\",\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      (options) => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\",\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(gettext(\"Avatar controls have been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Lock avatar\")}\n            helpText={gettext(\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={gettext(\"Disallow user from changing avatar\")}\n              labelOff={gettext(\"Allow user to change avatar\")}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"User message\")}\n            helpText={gettext(\n              \"Optional message for user explaining why he/she is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"Staff message\")}\n            helpText={gettext(\n              \"Optional message for forum team members explaining why user is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Avatar controls\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()],\n      },\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\",\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(gettext(\"Username has been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New username\")} for=\"id_username\">\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change username\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n\n        this.countdown()\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1,\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true,\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content,\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        gettext(\"Delete %(username)s\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown,\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"User content\")} for=\"id_with_content\">\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={gettext(\"Delete together with user's account\")}\n              labelOff={gettext(\"Hide after deleting user's account\")}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {gettext(\"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Delete user account\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function (store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile,\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n        {!!moderation.avatar && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showAvatarDialog}\n            >\n              <span className=\"material-icon\">portrait</span>\n              {gettext(\"Avatar controls\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.rename && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showRenameDialog}\n            >\n              <span className=\"material-icon\">credit_card</span>\n              {gettext(\"Change username\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showDeleteDialog}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete account\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport PageContainer from \"../PageContainer\"\nimport ProfileHeader from \"./ProfileHeader\"\nimport ProfileNav from \"./ProfileNav\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n    const page = pages.filter((page) => {\n      const url = baseUrl + page.component + \"/\"\n      return this.props.location.pathname === url\n    })[0]\n    const { profile, user } = this.props\n    const moderation = getModeration(profile, user)\n    const message = !!user.acl.can_start_private_threads && profile.id !== user.id\n    const follow = !!profile.acl.can_follow && profile.id !== user.id\n\n    return (\n      <div className=\"page page-user-profile\">\n        <ProfileHeader\n          profile={this.props.profile}\n          user={this.props.user}\n          moderation={moderation}\n          message={message}\n          follow={follow}\n        />\n        <PageContainer>\n          <ProfileNav baseUrl={baseUrl} page={page} pages={pages} />\n\n          {this.props.children}\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getModeration = (profile, user) => {\n  const moderation = {\n    available: false,\n    rename: false,\n    avatar: false,\n    delete: false,\n  }\n\n  if (user.is_anonymous) return moderation\n\n  moderation.rename = profile.acl.can_rename\n  moderation.avatar = profile.acl.can_moderate_avatar\n  moderation.delete = profile.acl.can_delete\n  moderation.available = !!(\n    moderation.rename || moderation.avatar || moderation.delete\n  )\n\n  return moderation\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails,\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function (item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component]),\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1,\n        },\n        \"search-username-history\"\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Username history\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"No name changes have been recorded for your account.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's username was never changed.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show older (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search history...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={this.props.placeholder || gettext(\"Search...\")}\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\nimport RegisterForm from \"misago/components/register.js\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null,\n    }\n  }\n\n  showRegisterForm = () => {\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(gettext(\"New registrations are currently disabled.\"))\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\")),\n      ]).then(\n        (result) => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1],\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            gettext(\"Registration is currently unavailable due to an error.\")\n          )\n        }\n      )\n    }\n  }\n\n  getClassName() {\n    return this.props.className + (this.state.isLoading ? \" btn-loading\" : \"\")\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn \" + this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {gettext(\"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach((item) => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length),\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator(),\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Register\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={gettext(\"Join with %(site)s\")}\n                formLabel={gettext(\"Or create forum account:\")}\n              />\n\n              <FormGroup\n                label={gettext(\"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this,\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Registration complete\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  completeRegistration = (apiResponse) => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Activation link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Reset password link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {gettext(\"Activate your account.\")}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{gettext(\"Your account is inactive.\")}</p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\",\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={gettext(\"Enter new password\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"%(username)s, your password has been changed successfully.\"),\n      {\n        username: this.props.user.username,\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {gettext(\n                  \"You will have to sign in using new password before continuing.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = (apiResponse) => {\n    auth.softSignOut()\n\n    // nuke \"redirect_to\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"redirect_to\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderContainer,\n  PageHeaderBanner,\n  PageHeaderDetails,\n} from \"../PageHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      query: props.search.query,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = (event) => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(gettext(\"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true,\n      })\n    )\n\n    const query = this.state.query.trim()\n\n    let url = window.location.href\n    const urlQuery = url.indexOf(\"?q=\")\n    if (urlQuery > 0) {\n      url = url.substring(0, urlQuery + 3)\n    }\n    window.history.pushState({}, \"\", url + encodeURIComponent(query))\n\n    return ajax.get(misago.get(\"SEARCH_API\"), { q: query })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers,\n      })\n    )\n\n    providers.forEach((provider) => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false,\n      })\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <PageHeaderContainer>\n          <PageHeader styleName=\"site-search\">\n            <PageHeaderBanner styleName=\"site-search\">\n              <h1>{gettext(\"Search\")}</h1>\n            </PageHeaderBanner>\n            <PageHeaderDetails className=\"page-header-search-form\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol>\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      type=\"text\"\n                      value={this.state.query}\n                      placeholder={gettext(\"Search\")}\n                      onChange={this.onQueryChange}\n                    />\n                  </FlexRowCol>\n                  <FlexRowCol shrink>\n                    <button\n                      className=\"btn btn-secondary btn-icon btn-outline\"\n                      disabled={this.state.isLoading}\n                    >\n                      <span className=\"material-icon\">search</span>\n                    </button>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderDetails>\n          </PageHeader>\n        </PageHeaderContainer>\n      </form>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers,\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport default function (providers) {\n  return providers.map((provider) => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider,\n    }\n  })\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function (props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach((p) => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = gettext(\"Search took %(time)s s to complete\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function (props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map((provider) => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        posts={props.posts}\n      >\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, posts, query }) {\n  if (posts && posts.count) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No threads matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search threads.\")}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts,\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true,\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next,\n      })\n      .then(\n        (providers) => {\n          providers.forEach((provider) => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        users={props.users}\n      >\n        <UsersList\n          cols={3}\n          isReady={!props.search.isLoading}\n          users={props.users}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, query, users }) {\n  if (users.length) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No users matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search users.\")}\n    </p>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map((item) => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = (value) => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value,\n        },\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: [],\n      },\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(gettext(\"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"redirect_to\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true,\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {gettext(\"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Sign in\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={gettext(\"Sign in with %(site)s\")}\n                formLabel={gettext(\"Or use your forum account:\")}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={gettext(\"Username or e-mail\")}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={gettext(\"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {gettext(\"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\",\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport Header from \"./header\"\nimport misago from \"misago\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = gettext(\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = gettext(\n      \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = gettext(\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-sauth-register\">\n      <Header backendName={backend_name} />\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {gettext(\"Registration completed!\")}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {gettext(\"Return to forum index\")}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = gettext(\"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <div className=\"page-header-bg\">\n      <div className=\"page-header\">\n        <div className=\"container\">\n          <h1>{pageTitle}</h1>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\",\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()],\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      snackbar.error(gettext(\"You need to accept the privacy policy.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = gettext(\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-sauth-register\">\n        <Header backendName={backend_name} />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {gettext(\"Complete your details\")}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={gettext(\"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={gettext(\"E-mail address\")}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {gettext(\"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\r\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../../FlexRow\"\r\nimport ThreadFlags from \"../../ThreadFlags\"\r\nimport ThreadReplies from \"../../ThreadReplies\"\r\nimport ThreadStarterCard from \"../../ThreadStarterCard\"\r\nimport {\r\n  PageHeader,\r\n  PageHeaderBanner,\r\n  PageHeaderContainer,\r\n  PageHeaderDetails,\r\n} from \"../../PageHeader\"\r\nimport ThreadModeration from \"../ThreadModeration\"\r\nimport ThreadSubscriptionButton from \"../ThreadSubscriptionButton\"\r\nimport ThreadHeaderBreadcrumbs from \"./ThreadHeaderBreadcrumbs\"\r\n\r\nconst ThreadHeader = ({ styleName, thread, posts, user, moderation }) => (\r\n  <PageHeaderContainer>\r\n    <PageHeader styleName={styleName}>\r\n      <PageHeaderBanner styleName={styleName}>\r\n        <ThreadHeaderBreadcrumbs breadcrumbs={thread.path} />\r\n        <h1>{thread.title}</h1>\r\n      </PageHeaderBanner>\r\n      <PageHeaderDetails className=\"page-header-thread-details\">\r\n        <FlexRow>\r\n          <FlexRowSection auto>\r\n            <FlexRowCol shrink>\r\n              <ThreadStarterCard thread={thread} />\r\n            </FlexRowCol>\r\n            <FlexRowCol auto />\r\n            {thread.replies > 0 && (\r\n              <FlexRowCol shrink>\r\n                <ThreadReplies thread={thread} />\r\n              </FlexRowCol>\r\n            )}\r\n            {hasFlags(thread) && (\r\n              <FlexRowCol shrink>\r\n                <ThreadFlags thread={thread} />\r\n              </FlexRowCol>\r\n            )}\r\n          </FlexRowSection>\r\n          {user.is_authenticated && (\r\n            <FlexRowSection>\r\n              <FlexRowCol>\r\n                <ThreadSubscriptionButton thread={thread} />\r\n              </FlexRowCol>\r\n              {moderation.enabled && (\r\n                <FlexRowCol shrink>\r\n                  <ThreadModeration\r\n                    thread={thread}\r\n                    posts={posts}\r\n                    moderation={moderation}\r\n                  />\r\n                </FlexRowCol>\r\n              )}\r\n            </FlexRowSection>\r\n          )}\r\n        </FlexRow>\r\n      </PageHeaderDetails>\r\n    </PageHeader>\r\n  </PageHeaderContainer>\r\n)\r\n\r\nconst hasFlags = (thread) => {\r\n  return (\r\n    thread.is_closed ||\r\n    thread.is_hidden ||\r\n    thread.is_unapproved ||\r\n    thread.weight > 0 ||\r\n    thread.best_answer ||\r\n    thread.has_poll ||\r\n    thread.has_unapproved_posts\r\n  )\r\n}\r\n\r\nexport default ThreadHeader\r\n","import React from \"react\"\r\nimport {\r\n  Breadcrumbs,\r\n  BreadcrumbsCategory,\r\n  BreadcrumbsRootCategory,\r\n} from \"../../Breadcrumbs\"\r\n\r\nconst ThreadHeaderBreadcrumbs = ({ breadcrumbs }) => (\r\n  <Breadcrumbs>\r\n    {breadcrumbs.map((category) =>\r\n      category.special_role ? (\r\n        <BreadcrumbsRootCategory key={category.id} category={category} />\r\n      ) : (\r\n        <BreadcrumbsCategory key={category.id} category={category} />\r\n      )\r\n    )}\r\n  </Breadcrumbs>\r\n)\r\n\r\nexport default ThreadHeaderBreadcrumbs\r\n","import ThreadHeader from \"./ThreadHeader\"\n\nexport default ThreadHeader\n","import React from \"react\"\r\nimport ThreadModerationOptions from \"./moderation/thread\"\r\n\r\nconst ThreadModeration = ({ thread, posts, moderation }) => (\r\n  <div className=\"dropdown\">\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\r\n      title={gettext(\"Thread options\")}\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n      disabled={thread.isBusy}\r\n    >\r\n      <span className=\"material-icon\">settings</span>\r\n    </button>\r\n    <ThreadModerationOptions\r\n      thread={thread}\r\n      posts={posts}\r\n      moderation={moderation}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default ThreadModeration\r\n","import React from \"react\"\r\nimport { Link } from \"react-router\"\r\n\r\nconst ThreadPagination = ({ baseUrl, posts }) => (\r\n  <div className=\"misago-pagination\">\r\n    {posts.isLoaded && posts.first ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl}\r\n        title={gettext(\"Go to first page\")}\r\n      >\r\n        <span className=\"material-icon\">first_page</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to first page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">first_page</span>\r\n      </button>\r\n    )}\r\n    {posts.isLoaded && posts.previous ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + (posts.previous > 1 ? posts.previous + \"/\" : \"\")}\r\n        title={gettext(\"Go to previous page\")}\r\n      >\r\n        <span className=\"material-icon\">chevron_left</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to previous page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">chevron_left</span>\r\n      </button>\r\n    )}\r\n    {posts.isLoaded && posts.next ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + posts.next + \"/\"}\r\n        title={gettext(\"Go to next page\")}\r\n      >\r\n        <span className=\"material-icon\">chevron_right</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to next page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">chevron_right</span>\r\n      </button>\r\n    )}\r\n    {posts.isLoaded && posts.last ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + posts.last + \"/\"}\r\n        title={gettext(\"Go to last page\")}\r\n      >\r\n        <span className=\"material-icon\">last_page</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to last page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">last_page</span>\r\n      </button>\r\n    )}\r\n  </div>\r\n)\r\n\r\nexport default ThreadPagination\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\n\r\nconst ThreadPollButton = ({ compact, onClick }) => (\r\n  <button\r\n    className={classnames(\"btn btn-default btn-outline\", {\r\n      \"btn-block\": !compact,\r\n      \"btn-icon\": compact,\r\n    })}\r\n    type=\"button\"\r\n    title={compact ? gettext(\"Add poll\") : null}\r\n    onClick={onClick}\r\n  >\r\n    <span className=\"material-icon\">poll</span>\r\n    {!compact && gettext(\"Add poll\")}\r\n  </button>\r\n)\r\n\r\nexport default ThreadPollButton\r\n","import React from \"react\"\r\n\r\nconst ThreadPostsLeft = ({ posts }) => {\r\n  if (posts.more) {\r\n    return (\r\n      <p>\r\n        {interpolate(\r\n          ngettext(\r\n            \"There is %(more)s more post in this thread.\",\r\n            \"There are %(more)s more posts in this thread.\",\r\n            posts.more\r\n          ),\r\n          { more: posts.more },\r\n          true\r\n        )}\r\n      </p>\r\n    )\r\n  }\r\n\r\n  return <p>{gettext(\"There are no more posts in this thread.\")}</p>\r\n}\r\n\r\nexport default ThreadPostsLeft\r\n","import React from \"react\"\r\nimport { ThreadPostsModerationOptions } from \"./moderation/posts\"\r\n\r\nconst ThreadPostsModeration = ({ thread, user, selection, dropup }) => (\r\n  <div className={dropup ? \"dropup\" : \"dropdown\"}>\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\r\n      title={gettext(\"Posts options\")}\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n      disabled={selection.length === 0}\r\n    >\r\n      <span className=\"material-icon\">settings</span>\r\n    </button>\r\n    <ThreadPostsModerationOptions\r\n      thread={thread}\r\n      user={user}\r\n      selection={selection}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default ThreadPostsModeration\r\n","import React from \"react\"\r\n\r\nconst ThreadReplyButton = ({ onClick }) => (\r\n  <button\r\n    className=\"btn btn-primary btn-outline btn-block\"\r\n    type=\"button\"\r\n    onClick={onClick}\r\n  >\r\n    <span className=\"material-icon\">chat</span>\r\n    {gettext(\"Reply\")}\r\n  </button>\r\n)\r\n\r\nexport default ThreadReplyButton\r\n","import React from \"react\"\r\n\r\nconst ThreadShortcutsButton = ({ user, thread }) => (\r\n  <div className=\"dropdown\">\r\n    <button\r\n      className=\"btn btn-default btn-outline btn-icon\"\r\n      title={gettext(\"Shortcuts\")}\r\n      aria-expanded=\"true\"\r\n      aria-haspopup=\"true\"\r\n      data-toggle=\"dropdown\"\r\n      type=\"button\"\r\n    >\r\n      <span className=\"material-icon\">bookmark</span>\r\n    </button>\r\n    <ul className=\"dropdown-menu\">\r\n      {user.is_authenticated && thread.is_new && (\r\n        <li>\r\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\r\n            <span className=\"material-icon\">comment</span>\r\n            {gettext(\"Go to new post\")}\r\n          </a>\r\n        </li>\r\n      )}\r\n      {thread.best_answer && (\r\n        <li>\r\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\r\n            <span className=\"material-icon\">check_circle</span>\r\n            {gettext(\"Go to best answer\")}\r\n          </a>\r\n        </li>\r\n      )}\r\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\r\n        <li>\r\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\r\n            <span className=\"material-icon\">visibility</span>\r\n            {gettext(\"Go to unapproved post\")}\r\n          </a>\r\n        </li>\r\n      )}\r\n      <li>\r\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\r\n          <span className=\"material-icon\">reply</span>\r\n          {gettext(\"Go to last post\")}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nexport default ThreadShortcutsButton\r\n","import classnames from \"classnames\"\r\nimport React from \"react\"\r\nimport * as actions from \"../../reducers/thread\"\r\nimport ajax from \"../../services/ajax\"\r\nimport snackbar from \"../../services/snackbar\"\r\nimport store from \"../../services/store\"\r\n\r\nconst ThreadSubscriptionButton = ({ stickToBottom, thread }) => (\r\n  <div className=\"dropdown\">\r\n    <button\r\n      className=\"btn btn-default btn-outline btn-block\"\r\n      aria-expanded=\"true\"\r\n      aria-haspopup=\"true\"\r\n      data-toggle=\"dropdown\"\r\n      type=\"button\"\r\n    >\r\n      <span className=\"material-icon\">{getIcon(thread.subscription)}</span>\r\n      {getLabel(thread.subscription)}\r\n    </button>\r\n    <ul\r\n      className={classnames(\"dropdown-menu dropdown-menu-right\", {\r\n        \"stick-to-bottom\": stickToBottom,\r\n      })}\r\n    >\r\n      <li>\r\n        <button className=\"btn btn-link\" onClick={() => unsubscribe(thread)}>\r\n          <span className=\"material-icon\">star_border</span>\r\n          {gettext(\"Unsubscribe\")}\r\n        </button>\r\n      </li>\r\n      <li>\r\n        <button className=\"btn btn-link\" onClick={() => alert(thread)}>\r\n          <span className=\"material-icon\">star_half</span>\r\n          {gettext(\"Subscribe\")}\r\n        </button>\r\n      </li>\r\n      <li>\r\n        <button className=\"btn btn-link\" onClick={() => email(thread)}>\r\n          <span className=\"material-icon\">star</span>\r\n          {gettext(\"Subscribe with e-mail\")}\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nfunction getIcon(subscription) {\r\n  if (subscription === true) return \"star\"\r\n  if (subscription === false) return \"star_half\"\r\n\r\n  return \"star_border\"\r\n}\r\n\r\nfunction getLabel(subscription) {\r\n  if (subscription === true) return gettext(\"E-mail\")\r\n  if (subscription === false) return gettext(\"Enabled\")\r\n\r\n  return gettext(\"Disabled\")\r\n}\r\n\r\nfunction alert(thread) {\r\n  if (thread.subscription !== false) {\r\n    update(thread, false, \"notify\")\r\n  }\r\n}\r\n\r\nfunction email(thread) {\r\n  if (thread.subscription !== true) {\r\n    update(thread, true, \"email\")\r\n  }\r\n}\r\n\r\nfunction unsubscribe(thread) {\r\n  if (thread.subscription !== null) {\r\n    update(thread, null, \"unsubscribe\")\r\n  }\r\n}\r\n\r\nfunction update(thread, newState, value) {\r\n  const oldState = {\r\n    subscription: thread.subscription,\r\n  }\r\n\r\n  store.dispatch(\r\n    actions.update({\r\n      subscription: newState,\r\n    })\r\n  )\r\n\r\n  ajax\r\n    .patch(thread.api.index, [\r\n      { op: \"replace\", path: \"subscription\", value: value },\r\n    ])\r\n    .then(\r\n      (finalState) => {\r\n        store.dispatch(actions.update(finalState))\r\n      },\r\n      (rejection) => {\r\n        if (rejection.status === 400) {\r\n          snackbar.error(rejection.detail[0])\r\n        } else {\r\n          snackbar.apiError(rejection)\r\n        }\r\n\r\n        store.dispatch(actions.update(oldState))\r\n      }\r\n    )\r\n}\r\n\r\nexport default ThreadSubscriptionButton\r\n","import React from \"react\"\r\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\r\nimport ThreadPagination from \"./ThreadPagination\"\r\nimport ThreadPostsLeft from \"./ThreadPostsLeft\"\r\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\r\nimport ThreadReplyButton from \"./ThreadReplyButton\"\r\nimport ThreadSubscriptionButton from \"./ThreadSubscriptionButton\"\r\n\r\nconst ThreadToolbarBottom = ({\r\n  thread,\r\n  posts,\r\n  user,\r\n  selection,\r\n  moderation,\r\n  onReply,\r\n}) => (\r\n  <Toolbar>\r\n    <ToolbarSection>\r\n      <ToolbarItem>\r\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\r\n      </ToolbarItem>\r\n      <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\r\n        <ThreadPostsModeration\r\n          thread={thread}\r\n          user={user}\r\n          selection={selection}\r\n          dropup\r\n        />\r\n      </ToolbarItem>\r\n    </ToolbarSection>\r\n    <ToolbarSection className=\"hidden-xs hidden-sm\" auto>\r\n      <ToolbarItem>\r\n        <ThreadPostsLeft posts={posts} />\r\n      </ToolbarItem>\r\n    </ToolbarSection>\r\n    <ToolbarSpacer className=\"hidden-md hidden-lg\" />\r\n    {user.is_authenticated && (\r\n      <ToolbarSection>\r\n        <ToolbarItem>\r\n          <ThreadSubscriptionButton thread={thread} />\r\n        </ToolbarItem>\r\n        {thread.acl.can_reply && (\r\n          <ToolbarItem>\r\n            <ThreadReplyButton onClick={onReply} />\r\n          </ToolbarItem>\r\n        )}\r\n        {moderation.enabled && (\r\n          <ToolbarItem className=\"hidden-xs\" shrink>\r\n            <ThreadPostsModeration\r\n              thread={thread}\r\n              user={user}\r\n              selection={selection}\r\n              dropup\r\n            />\r\n          </ToolbarItem>\r\n        )}\r\n      </ToolbarSection>\r\n    )}\r\n  </Toolbar>\r\n)\r\n\r\nexport default ThreadToolbarBottom\r\n","import React from \"react\"\r\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\r\nimport ThreadPagination from \"./ThreadPagination\"\r\nimport ThreadPollButton from \"./ThreadPollButton\"\r\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\r\nimport ThreadReplyButton from \"./ThreadReplyButton\"\r\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\r\n\r\nconst ThreadToolbarTop = ({\r\n  thread,\r\n  posts,\r\n  user,\r\n  selection,\r\n  moderation,\r\n  onPoll,\r\n  onReply,\r\n}) => (\r\n  <Toolbar>\r\n    <ToolbarSection className=\"hidden-xs\">\r\n      <ToolbarItem>\r\n        <ThreadShortcutsButton thread={thread} user={user} />\r\n      </ToolbarItem>\r\n      <ToolbarItem className=\"hidden-xs hidden-sm\">\r\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\r\n      </ToolbarItem>\r\n    </ToolbarSection>\r\n    <ToolbarSpacer />\r\n    {thread.acl.can_start_poll && !thread.poll && (\r\n      <ToolbarSection className=\"hidden-xs\">\r\n        <ToolbarItem>\r\n          <ThreadPollButton onClick={onPoll} />\r\n        </ToolbarItem>\r\n      </ToolbarSection>\r\n    )}\r\n    {thread.acl.can_reply ? (\r\n      <ToolbarSection>\r\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\r\n          <ThreadShortcutsButton thread={thread} user={user} />\r\n        </ToolbarItem>\r\n        <ToolbarItem>\r\n          <ThreadReplyButton onClick={onReply} />\r\n        </ToolbarItem>\r\n        {thread.acl.can_start_poll && !thread.poll && (\r\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\r\n            <ThreadPollButton onClick={onPoll} compact />\r\n          </ToolbarItem>\r\n        )}\r\n        {moderation.enabled && (\r\n          <ToolbarItem className=\"hidden-xs\" shrink>\r\n            <ThreadPostsModeration\r\n              thread={thread}\r\n              user={user}\r\n              selection={selection}\r\n            />\r\n          </ToolbarItem>\r\n        )}\r\n      </ToolbarSection>\r\n    ) : (\r\n      <ToolbarSection>\r\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\r\n          <ThreadShortcutsButton thread={thread} user={user} />\r\n        </ToolbarItem>\r\n        {thread.acl.can_start_poll && !thread.poll && (\r\n          <ToolbarItem>\r\n            <ThreadPollButton onClick={onPoll} />\r\n          </ToolbarItem>\r\n        )}\r\n        {moderation.enabled && (\r\n          <ToolbarItem shrink>\r\n            <ThreadPostsModeration\r\n              thread={thread}\r\n              user={user}\r\n              selection={selection}\r\n            />\r\n          </ToolbarItem>\r\n        )}\r\n      </ToolbarSection>\r\n    )}\r\n  </Toolbar>\r\n)\r\n\r\nexport default ThreadToolbarTop\r\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: true,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach((item) => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map((post) => {\n      return post.id\n    }),\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    (data) => {\n      data.forEach((item) => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    (rejection) => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach((item) => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach((item) => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach((item) => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach((item) => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map((post) => post.id),\n    })\n    .then(\n      (data) => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map((selection) => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false,\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  const ids = props.selection.map((post) => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map((selection) => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false,\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find((post) => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {gettext(\"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Moderation\")}</h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {gettext(\"One or more posts could not be changed:\")}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map((post) => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    gettext(\"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name,\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import ThreadPostsModerationOptions from \"./dropdown\"\n\nexport { ThreadPostsModerationOptions }\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move posts to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move posts\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {gettext(\"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move selected posts at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {gettext(\"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={gettext(\"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split posts into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\r\nimport Form from \"misago/components/form\"\r\nimport FormGroup from \"misago/components/form-group\"\r\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\r\nimport * as thread from \"misago/reducers/thread\"\r\nimport ajax from \"misago/services/ajax\"\r\nimport modal from \"misago/services/modal\"\r\nimport snackbar from \"misago/services/snackbar\"\r\nimport store from \"misago/services/store\"\r\n\r\nexport default class extends Form {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n\r\n      title: props.thread.title,\r\n\r\n      validators: {\r\n        title: getTitleValidators(),\r\n      },\r\n      errors: {},\r\n    }\r\n  }\r\n\r\n  clean() {\r\n    if (!this.state.title.trim().length) {\r\n      snackbar.error(gettext(\"You have to enter thread title.\"))\r\n      return false\r\n    }\r\n\r\n    const errors = this.validate()\r\n\r\n    if (errors.title) {\r\n      snackbar.error(errors.title[0])\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  send() {\r\n    // freeze thread\r\n    store.dispatch(thread.busy())\r\n\r\n    return ajax.patch(this.props.thread.api.index, [\r\n      { op: \"replace\", path: \"title\", value: this.state.title },\r\n    ])\r\n  }\r\n\r\n  handleSuccess = (data) => {\r\n    this.handleSuccessUnmounted(data)\r\n\r\n    // keep form loading\r\n    this.setState({\r\n      isLoading: true,\r\n    })\r\n\r\n    modal.hide()\r\n  }\r\n\r\n  handleSuccessUnmounted = (data) => {\r\n    store.dispatch(thread.release())\r\n    store.dispatch(thread.update(data))\r\n  }\r\n\r\n  handleError = (rejection) => {\r\n    store.dispatch(thread.release())\r\n\r\n    if (rejection.status === 400) {\r\n      snackbar.error(rejection.detail[0])\r\n    } else {\r\n      snackbar.apiError(rejection)\r\n    }\r\n  }\r\n\r\n  onChange = (event) => {\r\n    this.changeValue(\"title\", event.target.value)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"modal-content\">\r\n            <ModalHeader />\r\n            <div className=\"modal-body\">\r\n              <FormGroup for=\"id_modal_title\" label={gettext(\"Thread title\")}>\r\n                <input\r\n                  className=\"form-control\"\r\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\r\n                  id=\"id_modal_title\"\r\n                  onChange={this.onChange}\r\n                  value={this.state.title}\r\n                />\r\n              </FormGroup>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn btn-default\"\r\n                data-dismiss=\"modal\"\r\n                disabled={this.state.isLoading}\r\n                type=\"button\"\r\n              >\r\n                {gettext(\"Cancel\")}\r\n              </button>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                disabled={this.state.isLoading || this.props.thread.isBusy}\r\n              >\r\n                {gettext(\"Change title\")}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport function ModalHeader(props) {\r\n  return (\r\n    <div className=\"modal-header\">\r\n      <button\r\n        aria-label={gettext(\"Close\")}\r\n        className=\"close\"\r\n        data-dismiss=\"modal\"\r\n        type=\"button\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n      <h4 className=\"modal-title\">{gettext(\"Change title\")}</h4>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ThreadChangeTitleModal from \"./ThreadChangeTitleModal\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      (data) => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  changeTitle = () => {\n    modal.show(<ThreadChangeTitleModal thread={this.props.thread} />)\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Thread has been pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(gettext(\"Are you sure you want to delete this thread?\"))\n    ) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      (data) => {\n        snackbar.success(gettext(\"Thread has been deleted.\"))\n        window.location = this.props.thread.category.url.index\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {!!moderation.edit && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.changeTitle}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">edit</span>\n              {gettext(\"Change title\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinGlobally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinGlobally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinLocally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinLocally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unpin && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.move && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.merge && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.approve}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.open && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.close && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.unhide}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.hide && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.delete}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import ThreadModerationOptions from \"./controls\"\n\nexport default ThreadModerationOptions\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url,\n    })\n  }\n\n  handleSuccess = (success) => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleSuccessUnmounted = (success) => {\n    snackbar.success(gettext(\"Thread has been merged with other one.\"))\n    window.location = success.url\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to merge with\")}\n                help_text={gettext(\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Merge thread\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category },\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        (data) => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(gettext(\"Thread has been moved.\"))\n          modal.hide()\n        },\n        (rejection) => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (event) => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup for=\"id_category\" label={gettext(\"New category\")}>\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {gettext(\"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={gettext(\"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move thread\")}</h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\"You can't move this thread at the moment.\")}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user,\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route),\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route),\n    },\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadHeader from \"./ThreadHeader\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1,\n        },\n        \"posts\"\n      )\n      .then(\n        (data) => {\n          this.update(data)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1,\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true,\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    posting.open({\n      mode: \"POLL\",\n      submit: this.props.thread.api.poll,\n\n      thread: this.props.thread,\n      poll: null,\n    })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    const category = this.props.thread.category\n\n    let className = \"page page-thread\"\n    if (category.css_class) {\n      className += \" page-thread-\" + category.css_class\n    }\n\n    const styleName =\n      category.special_role === \"private_threads\"\n        ? \"private-threads\"\n        : category.css_class || \"category-threads\"\n\n    const threadModeration = getThreadModeration(\n      this.props.thread,\n      this.props.user\n    )\n\n    const postsModeration = getPostsModeration(\n      this.props.posts.results,\n      this.props.user\n    )\n    const selection = this.props.posts.results.filter((post) => post.isSelected)\n\n    return (\n      <div className={className}>\n        <ThreadHeader\n          styleName={styleName}\n          thread={this.props.thread}\n          posts={this.props.posts}\n          user={this.props.user}\n          moderation={threadModeration}\n        />\n        <PageContainer>\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          <Poll\n            poll={this.props.poll}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <PostsList {...this.props} />\n          <ThreadToolbarBottom\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getThreadModeration = (thread, user) => {\n  const moderation = {\n    enabled: false,\n    edit: false,\n    approve: false,\n    close: false,\n    open: false,\n    hide: false,\n    unhide: false,\n    move: false,\n    merge: false,\n    pinGlobally: false,\n    pinLocally: false,\n    unpin: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  moderation.edit = thread.acl.can_edit\n  moderation.approve = thread.acl.can_approve && thread.is_unapproved\n  moderation.close = thread.acl.can_close && !thread.is_closed\n  moderation.open = thread.acl.can_close && thread.is_closed\n  moderation.hide = thread.acl.can_hide && !thread.is_hidden\n  moderation.unhide = thread.acl.can_unhide && thread.is_hidden\n  moderation.move = thread.acl.can_move\n  moderation.merge = thread.acl.can_merge\n  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2\n  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1\n  moderation.unpin =\n    (thread.acl.can_pin && thread.weight === 1) ||\n    (thread.acl.can_pin_globally && thread.weight === 2)\n  moderation.delete = thread.acl.can_delete\n\n  moderation.enabled =\n    moderation.edit ||\n    moderation.approve ||\n    moderation.close ||\n    moderation.open ||\n    moderation.hide ||\n    moderation.unhide ||\n    moderation.move ||\n    moderation.merge ||\n    moderation.pinGlobally ||\n    moderation.pinLocally ||\n    moderation.unpin ||\n    moderation.delete\n\n  return moderation\n}\n\nconst getPostsModeration = (posts, user) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach((post) => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (\n        moderation.approve ||\n        moderation.move ||\n        moderation.merge ||\n        moderation.protect ||\n        moderation.hide ||\n        moderation.delete\n      ) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}\n","import React from \"react\"\r\nimport { Link } from \"react-router\"\r\n\r\nconst ThreadsCategoryPicker = ({\r\n  allItems,\r\n  parentUrl,\r\n  category,\r\n  categories,\r\n  list,\r\n}) => (\r\n  <div className=\"dropdown threads-category-picker\">\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block text-ellipsis\"\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n    >\r\n      {category && (\r\n        <span\r\n          className=\"material-icon\"\r\n          style={{ color: category.color || \"inherit\" }}\r\n        >\r\n          label\r\n        </span>\r\n      )}\r\n      {category && category.short_name && (\r\n        <span className={category.short_name && \"hidden-md hidden-lg\"}>\r\n          {category.short_name}\r\n        </span>\r\n      )}\r\n      {category ? (\r\n        <span className={category.short_name && \"hidden-xs hidden-sm\"}>\r\n          {category.name}\r\n        </span>\r\n      ) : (\r\n        allItems\r\n      )}\r\n    </button>\r\n    <ul className=\"dropdown-menu\">\r\n      <li>\r\n        <Link to={parentUrl + list.path}>{allItems}</Link>\r\n      </li>\r\n      <li role=\"separator\" className=\"divider\" />\r\n      {categories.map((choice) => (\r\n        <li key={choice.id}>\r\n          <Link to={choice.url.index + list.path}>\r\n            <span\r\n              className=\"material-icon\"\r\n              style={{ color: choice.color || \"inherit\" }}\r\n            >\r\n              label\r\n            </span>\r\n            {choice.name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nexport default ThreadsCategoryPicker\r\n","import React from \"react\"\r\nimport { Link } from \"react-router\"\r\n\r\nconst ThreadsListPicker = ({ baseUrl, list, lists }) => (\r\n  <div className=\"dropdown threads-list-picker\">\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block\"\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n    >\r\n      {list.longName}\r\n    </button>\r\n    <ul className=\"dropdown-menu stick-to-bottom\">\r\n      {lists.map((choice) => (\r\n        <li key={choice.type}>\r\n          <Link to={baseUrl + choice.path}>{choice.longName}</Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nexport default ThreadsListPicker\r\n","import React from \"react\"\r\nimport posting from \"../../services/posting\"\r\nimport Button from \"../button\"\r\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\r\nimport ThreadsCategoryPicker from \"./ThreadsCategoryPicker\"\r\nimport ThreadsListPicker from \"./ThreadsListPicker\"\r\nimport ThreadsToolbarModeration from \"./ThreadsToolbarModeration\"\r\n\r\nconst ThreadsToolbar = ({\r\n  api,\r\n  baseUrl,\r\n  category,\r\n  categories,\r\n  categoriesMap,\r\n  topCategory,\r\n  topCategories,\r\n  subCategory,\r\n  subCategories,\r\n  list,\r\n  lists,\r\n  threads,\r\n  addThreads,\r\n  startThread,\r\n  freezeThread,\r\n  updateThread,\r\n  deleteThread,\r\n  selection,\r\n  moderation,\r\n  route,\r\n  user,\r\n  disabled,\r\n}) => (\r\n  <Toolbar>\r\n    {topCategories.length > 0 && (\r\n      <ToolbarSection>\r\n        <ToolbarItem>\r\n          <ThreadsCategoryPicker\r\n            allItems={gettext(\"All categories\")}\r\n            parentUrl={list.path}\r\n            category={topCategory}\r\n            categories={topCategories}\r\n            list={list}\r\n          />\r\n        </ToolbarItem>\r\n        {topCategory && subCategories.length > 0 && (\r\n          <ToolbarItem>\r\n            <ThreadsCategoryPicker\r\n              allItems={gettext(\"All subcategories\")}\r\n              parentUrl={topCategory.url.index}\r\n              category={subCategory}\r\n              categories={subCategories}\r\n              list={list}\r\n            />\r\n          </ToolbarItem>\r\n        )}\r\n      </ToolbarSection>\r\n    )}\r\n    {lists.length > 1 && (\r\n      <ToolbarSection className=\"hidden-xs\">\r\n        <ToolbarItem>\r\n          <ThreadsListPicker baseUrl={baseUrl} list={list} lists={lists} />\r\n        </ToolbarItem>\r\n      </ToolbarSection>\r\n    )}\r\n    <ToolbarSpacer />\r\n    {!!user.id && (\r\n      <ToolbarSection>\r\n        <ToolbarItem>\r\n          <Button\r\n            className=\"btn-primary btn-outline btn-block\"\r\n            disabled={disabled}\r\n            onClick={() => {\r\n              posting.open(\r\n                startThread || {\r\n                  mode: \"START\",\r\n\r\n                  config: misago.get(\"THREAD_EDITOR_API\"),\r\n                  submit: misago.get(\"THREADS_API\"),\r\n\r\n                  category: category.id,\r\n                }\r\n              )\r\n            }}\r\n          >\r\n            <span className=\"material-icon\">chat</span>\r\n            {gettext(\"Start thread\")}\r\n          </Button>\r\n        </ToolbarItem>\r\n        {!!moderation.allow && (\r\n          <ToolbarItem shrink>\r\n            <ThreadsToolbarModeration\r\n              api={api}\r\n              categories={categories}\r\n              categoriesMap={categoriesMap}\r\n              threads={threads.filter(\r\n                (thread) => selection.indexOf(thread.id) !== -1\r\n              )}\r\n              addThreads={addThreads}\r\n              freezeThread={freezeThread}\r\n              updateThread={updateThread}\r\n              deleteThread={deleteThread}\r\n              selection={selection}\r\n              moderation={moderation}\r\n              route={route}\r\n              user={user}\r\n              disabled={disabled}\r\n            />\r\n          </ToolbarItem>\r\n        )}\r\n      </ToolbarSection>\r\n    )}\r\n  </Toolbar>\r\n)\r\n\r\nexport default ThreadsToolbar\r\n","import React from \"react\"\r\nimport ModerationControls from \"./moderation/controls\"\r\n\r\nconst ThreadsToolbarModeration = ({\r\n  api,\r\n  categoriesMap,\r\n  categories,\r\n  threads,\r\n  addThreads,\r\n  freezeThread,\r\n  updateThread,\r\n  deleteThread,\r\n  selection,\r\n  moderation,\r\n  route,\r\n  user,\r\n  disabled,\r\n}) => (\r\n  <div className=\"dropdown threads-moderation\">\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\r\n      title={gettext(\"Moderation\")}\r\n      data-toggle=\"dropdown\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded=\"false\"\r\n      disabled={disabled}\r\n    >\r\n      <span className=\"material-icon\">settings</span>\r\n    </button>\r\n    <ModerationControls\r\n      api={api}\r\n      categories={categories}\r\n      categoriesMap={categoriesMap}\r\n      threads={threads}\r\n      addThreads={addThreads}\r\n      freezeThread={freezeThread}\r\n      updateThread={updateThread}\r\n      deleteThread={deleteThread}\r\n      selection={selection}\r\n      moderation={moderation}\r\n      route={route}\r\n      user={user}\r\n      disabled={disabled}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default ThreadsToolbarModeration\r\n","export function compareLastPostAge(a, b) {\n  if (a.last_post > b.last_post) {\n    return -1\n  } else if (a.last_post < b.last_post) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nexport function compareGlobalWeight(a, b) {\n  if (a.weight === 2 && a.weight > b.weight) {\n    return -1\n  } else if (b.weight === 2 && a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n\nexport function compareWeight(a, b) {\n  if (a.weight > b.weight) {\n    return -1\n  } else if (a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadsToolbar from \"./ThreadsToolbar\"\n\nexport default class extends React.Component {\n  render() {\n    const { root } = this.props\n    const { category, categories, categoriesMap } = this.props.route\n    const topCategory = getTopCategory(root, category, categoriesMap)\n\n    return (\n      <PageContainer>\n        <ThreadsToolbar\n          api={this.props.api}\n          baseUrl={category.url.index}\n          category={category}\n          categories={categories}\n          categoriesMap={categoriesMap}\n          topCategory={topCategory}\n          topCategories={categories.filter((cat) => cat.parent === root.id)}\n          subCategories={\n            !!topCategory\n              ? categories.filter((cat) => cat.parent === topCategory.id)\n              : []\n          }\n          subCategory={category.level === 2 ? category : null}\n          subcategories={this.props.subcategories}\n          list={this.props.route.list}\n          lists={this.props.route.lists}\n          threads={this.props.threads}\n          addThreads={this.props.addThreads}\n          startThread={this.props.startThread}\n          freezeThread={this.props.freezeThread}\n          deleteThread={this.props.deleteThread}\n          updateThread={this.props.updateThread}\n          selection={this.props.selection}\n          moderation={this.props.moderation}\n          route={this.props.route}\n          user={this.props.user}\n          disabled={\n            !this.props.isLoaded ||\n            this.props.isBusy ||\n            this.props.busyThreads.length\n          }\n        />\n        {this.props.children}\n      </PageContainer>\n    )\n  }\n}\n\nconst getTopCategory = (root, category, categoriesMap) => {\n  if (!category.parent) return null\n  if (category.parent === root.id) return category\n  return categoriesMap[category.parent]\n}\n","import React from \"react\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeThreads from \"misago/components/threads/moderation/merge\"\nimport MoveThreads from \"misago/components/threads/moderation/move\"\nimport * as select from \"misago/reducers/selection\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage, onSuccess = null) => {\n    // freeze threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    // list ids\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    // always return current acl\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.api, { ids, ops }).then(\n      (data) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // update threads\n        data.forEach((thread) => {\n          this.props.updateThread(thread)\n        })\n\n        // show success message and call callback\n        snackbar.success(successMessage)\n        if (onSuccess) {\n          onSuccess()\n        }\n      },\n      (rejection) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // escape on non-400 error\n        if (rejection.status !== 400) {\n          return snackbar.apiError(rejection)\n        }\n\n        // build errors list\n        let errors = []\n        let threadsMap = {}\n\n        this.props.threads.forEach((thread) => {\n          threadsMap[thread.id] = thread\n        })\n\n        rejection.forEach(({ id, detail }) => {\n          if (typeof threadsMap[id] !== \"undefined\") {\n            errors.push({\n              errors: detail,\n              thread: threadsMap[id],\n            })\n          }\n        })\n\n        modal.show(<ErrorsModal errors={errors} />)\n      }\n    )\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Selected threads were pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Selected threads were pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Selected threads were unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were unhidden.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveThreads\n        callApi={this.callApi}\n        categories={this.props.categories}\n        categoriesMap={this.props.categoriesMap}\n        route={this.props.route}\n        user={this.props.user}\n      />\n    )\n  }\n\n  merge = () => {\n    const errors = []\n    this.props.threads.forEach((thread) => {\n      if (!thread.acl.can_merge) {\n        errors.append({\n          id: thread.id,\n          title: thread.title,\n          errors: [\n            gettext(\n              \"You don't have permission to merge this thread with others.\"\n            ),\n          ],\n        })\n      }\n    })\n\n    if (this.props.threads.length < 2) {\n      snackbar.info(\n        gettext(\"You have to select at least two threads to merge.\")\n      )\n    } else if (errors.length) {\n      modal.show(<ErrorsModal errors={errors} />)\n      return\n    } else {\n      modal.show(<MergeThreads {...this.props} />)\n    }\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(\n        gettext(\"Are you sure you want to delete selected threads?\")\n      )\n    ) {\n      return\n    }\n\n    this.props.threads.map((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    ajax.delete(this.props.api, ids).then(\n      () => {\n        this.props.threads.map((thread) => {\n          this.props.freezeThread(thread.id)\n          this.props.deleteThread(thread)\n        })\n\n        snackbar.success(gettext(\"Selected threads were deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          const failedThreads = rejection.map((thread) => {\n            return thread.id\n          })\n\n          this.props.threads.map((thread) => {\n            this.props.freezeThread(thread.id)\n            if (failedThreads.indexOf(thread.id) === -1) {\n              this.props.deleteThread(thread)\n            }\n          })\n\n          modal.show(<ErrorsModal errors={rejection} />)\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { moderation, threads } = this.props\n    const noSelection = this.props.selection.length == 0\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            onClick={() => store.dispatch(select.all(threads.map((t) => t.id)))}\n          >\n            <span className=\"material-icon\">check_box</span>\n            {gettext(\"Select all\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            disabled={noSelection}\n            onClick={() => store.dispatch(select.none())}\n          >\n            <span className=\"material-icon\">check_box_outline_blank</span>\n            {gettext(\"Select none\")}\n          </button>\n        </li>\n        <li role=\"separator\" className=\"divider\" />\n        {!!moderation.can_pin_globally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinGlobally}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin threads globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinLocally}\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin threads locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unpin}\n            >\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_move && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.move}\n            >\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_merge && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.merge}\n            >\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.approve}\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.open}\n            >\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.close}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unhide}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_hide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.hide}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.delete}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete threads\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={gettext(\"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Threads moderation\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <p className=\"lead\">\n              {gettext(\"One or more threads could not be deleted:\")}\n            </p>\n\n            <ul className=\"list-unstyled list-errored-items\">\n              {this.props.errors.map((item) => {\n                return (\n                  <ThreadErrors\n                    errors={item.errors}\n                    key={item.thread.id}\n                    thread={item.thread}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ThreadErrors({ errors, thread }) {\n  return (\n    <li>\n      <h5>{thread.title}</h5>\n      {errors.map((message, i) => {\n        return <p>{message}</p>\n      })}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Select from \"misago/components/select\"\nimport misago from \"misago/index\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport * as select from \"misago/reducers/selection\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.acl = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      this.acl[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = this.acl[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"MERGE_THREADS_API\"), this.getFormdata())\n  }\n\n  getFormdata = () => {\n    return {\n      threads: this.props.threads.map((thread) => thread.id),\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n    }\n  }\n\n  handleSuccess = (apiResponse) => {\n    // unfreeze and remove merged threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n      this.props.deleteThread(thread)\n    })\n\n    // deselect all threads\n    store.dispatch(select.none())\n\n    // append merged thread, filter threads\n    this.props.addThreads([apiResponse])\n    store.dispatch(\n      filterThreads(this.props.route.category, this.props.categoriesMap)\n    )\n\n    // hide modal\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={misago.get(\"MERGE_THREADS_API\")}\n            bestAnswers={rejection.best_answers}\n            data={this.getFormdata()}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccess}\n          />\n        )\n      } else {\n        this.setState({\n          errors: Object.assign({}, this.state.errors, rejection),\n        })\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else if (rejection.best_answer) {\n      snackbar.error(rejection.best_answer[0])\n    } else if (rejection.poll) {\n      snackbar.error(rejection.poll[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup label={gettext(\"Thread weight\")} for=\"id_weight\">\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup label={gettext(\"Hide thread\")} for=\"id_is_hidden\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup label={gettext(\"Close thread\")} for=\"id_is_closed\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Thread title\")}\n            for=\"id_title\"\n            validation={this.state.errors.title}\n          >\n            <input\n              id=\"id_title\"\n              className=\"form-control\"\n              type=\"text\"\n              onChange={this.bindInput(\"title\")}\n              value={this.state.title}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          <FormGroup\n            label={gettext(\"Category\")}\n            for=\"id_category\"\n            validation={this.state.errors.category}\n          >\n            <CategorySelect\n              id=\"id_category\"\n              onChange={this.onCategoryChange}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          {this.renderWeightField()}\n          {this.renderHiddenField()}\n          {this.renderClosedField()}\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Merge threads\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMergeMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to merge threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMergeMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport * as select from \"misago/reducers/selection\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      category: null,\n    }\n\n    const acls = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      acls[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = acls[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    event.preventDefault()\n\n    modal.hide()\n\n    const onSuccess = () => {\n      store.dispatch(\n        filterThreads(this.props.route.category, this.props.categoriesMap)\n      )\n\n      // deselect threads moved outside of visible scope\n      const storeState = store.getState()\n      const leftThreads = storeState.threads.map((thread) => thread.id)\n      store.dispatch(\n        select.all(\n          storeState.selection.filter((thread) => {\n            return leftThreads.indexOf(thread) !== -1\n          })\n        )\n      )\n    }\n\n    this.props.callApi(\n      [\n        { op: \"replace\", path: \"category\", value: this.state.category },\n        { op: \"replace\", path: \"flatten-categories\", value: null },\n        { op: \"add\", path: \"acl\", value: true },\n      ],\n      gettext(\"Selected threads were moved.\"),\n      onSuccess\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New category\")} for=\"id_new_category\">\n            <CategorySelect\n              id=\"id_new_category\"\n              onChange={this.bindInput(\"category\")}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <button className=\"btn btn-primary\">{gettext(\"Move threads\")}</button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMoveMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to move threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={gettext(\"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Move threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMoveMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/threads/route\"\nimport misago from \"misago/index\"\n\nexport function getSelect(options) {\n  return function (store) {\n    return {\n      options: options,\n      selection: store.selection,\n      threads: store.threads,\n      tick: store.tick.tick,\n      user: store.auth.user,\n    }\n  }\n}\n\nexport function getLists(user) {\n  let lists = [\n    {\n      type: \"all\",\n      path: \"\",\n      name: gettext(\"All\"),\n      longName: gettext(\"All threads\"),\n    },\n  ]\n\n  if (user.id) {\n    lists.push({\n      type: \"my\",\n      path: \"my/\",\n      name: gettext(\"My\"),\n      longName: gettext(\"My threads\"),\n    })\n    lists.push({\n      type: \"new\",\n      path: \"new/\",\n      name: gettext(\"New\"),\n      longName: gettext(\"New threads\"),\n    })\n    lists.push({\n      type: \"unread\",\n      path: \"unread/\",\n      name: gettext(\"Unread\"),\n      longName: gettext(\"Unread threads\"),\n    })\n    lists.push({\n      type: \"subscribed\",\n      path: \"subscribed/\",\n      name: gettext(\"Subscribed\"),\n      longName: gettext(\"Subscribed threads\"),\n    })\n\n    if (user.acl.can_see_unapproved_content_lists) {\n      lists.push({\n        type: \"unapproved\",\n        path: \"unapproved/\",\n        name: gettext(\"Unapproved\"),\n        longName: gettext(\"Unapproved content\"),\n      })\n    }\n  }\n\n  return lists\n}\n\nexport function paths(user, mode) {\n  let lists = getLists(user)\n  let routes = []\n  let categoriesMap = {}\n\n  misago.get(\"CATEGORIES\").forEach(function (category) {\n    lists.forEach(function (list) {\n      categoriesMap[category.id] = category\n\n      routes.push({\n        path: category.url.index + list.path,\n        component: connect(getSelect(mode))(Route),\n\n        categories: misago.get(\"CATEGORIES\"),\n        categoriesMap,\n        category,\n\n        lists,\n        list,\n      })\n    })\n  })\n\n  return routes\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport {\n  compareGlobalWeight,\n  compareWeight,\n} from \"misago/components/threads/compare\"\nimport Container from \"misago/components/threads/container\"\nimport {\n  diffThreads,\n  getModerationActions,\n  getPageTitle,\n  getTitle,\n} from \"misago/components/threads/utils\"\nimport ThreadsList from \"misago/components/ThreadsList\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport * as select from \"misago/reducers/selection\"\nimport { append, deleteThread, hydrate, patch } from \"misago/reducers/threads\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport * as sets from \"misago/utils/sets\"\nimport {\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isMounted: true,\n\n      isLoaded: false,\n      isBusy: false,\n\n      diff: {\n        results: [],\n      },\n\n      moderation: [],\n      busyThreads: [],\n\n      dropdown: false,\n      subcategories: [],\n\n      next: 0,\n    }\n\n    let category = this.getCategory()\n\n    if (misago.has(\"THREADS\")) {\n      this.initWithPreloadedData(category, misago.get(\"THREADS\"))\n    } else {\n      this.initWithoutPreloadedData(category)\n    }\n  }\n\n  getCategory() {\n    if (!this.props.route.category.special_role) {\n      return this.props.route.category.id\n    } else {\n      return null\n    }\n  }\n\n  initWithPreloadedData(category, data) {\n    this.state = Object.assign(this.state, {\n      moderation: getModerationActions(data.results),\n      subcategories: data.subcategories,\n      next: data.next,\n    })\n\n    this.startPolling(category)\n  }\n\n  initWithoutPreloadedData(category) {\n    this.loadThreads(category)\n  }\n\n  loadThreads(category, next = 0) {\n    ajax\n      .get(\n        this.props.options.api,\n        {\n          category: category,\n          list: this.props.route.list.type,\n          start: next || 0,\n        },\n        \"threads\"\n      )\n      .then(\n        (data) => {\n          if (!this.state.isMounted) {\n            // user changed route before loading completion\n            return\n          }\n\n          if (next === 0) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results, this.getSorting()))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            moderation: getModerationActions(store.getState().threads),\n\n            subcategories: data.subcategories,\n\n            next: data.next,\n          })\n\n          this.startPolling(category)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPolling(category) {\n    polls.start({\n      poll: \"threads\",\n      url: this.props.options.api,\n      data: {\n        category: category,\n        list: this.props.route.list.type,\n      },\n      frequency: 120 * 1000,\n      update: this.pollResponse,\n    })\n  }\n\n  componentDidMount() {\n    this.setPageTitle()\n\n    if (misago.has(\"THREADS\")) {\n      // unlike in other components, routes are root components for threads\n      // so we can't dispatch store action from constructor\n      store.dispatch(hydrate(misago.pop(\"THREADS\").results))\n\n      this.setState({\n        isLoaded: true,\n      })\n    }\n\n    store.dispatch(select.none())\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false\n    polls.stop(\"threads\")\n  }\n\n  getTitle() {\n    if (this.props.options.title) {\n      return this.props.options.title\n    }\n\n    return getTitle(this.props.route)\n  }\n\n  setPageTitle() {\n    if (this.props.route.category.level || !misago.get(\"THREADS_ON_INDEX\")) {\n      title.set(getPageTitle(this.props.route))\n    } else if (this.props.options.title) {\n      title.set(this.props.options.title)\n    } else {\n      if (misago.get(\"SETTINGS\").index_title) {\n        document.title = misago.get(\"SETTINGS\").index_title\n      } else {\n        document.title = misago.get(\"SETTINGS\").forum_name\n      }\n    }\n  }\n\n  getSorting() {\n    if (this.props.route.category.level) {\n      return compareWeight\n    } else {\n      return compareGlobalWeight\n    }\n  }\n\n  // AJAX\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadThreads(this.getCategory(), this.state.next)\n  }\n\n  pollResponse = (data) => {\n    this.setState({\n      diff: Object.assign({}, data, {\n        results: diffThreads(this.props.threads, data.results),\n      }),\n    })\n  }\n\n  addThreads = (threads) => {\n    store.dispatch(append(threads, this.getSorting()))\n  }\n\n  applyDiff = () => {\n    this.addThreads(this.state.diff.results)\n\n    this.setState(\n      Object.assign({}, this.state.diff, {\n        moderation: getModerationActions(store.getState().threads),\n\n        diff: {\n          results: [],\n        },\n      })\n    )\n  }\n\n  // Thread state utils\n\n  freezeThread = (thread) => {\n    this.setState(function (currentState) {\n      return {\n        busyThreads: sets.toggle(currentState.busyThreads, thread),\n      }\n    })\n  }\n\n  updateThread = (thread) => {\n    store.dispatch(patch(thread, thread, this.getSorting()))\n  }\n\n  deleteThread = (thread) => {\n    store.dispatch(deleteThread(thread))\n  }\n\n  getMoreButton() {\n    if (!this.state.next) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy || this.state.busyThreads.length}\n          onClick={this.loadMore}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n\n  getClassName() {\n    let className = \"page page-threads\"\n    className += \" page-threads-\" + this.props.route.list.type\n    if (isIndex(this.props)) {\n      className += \" page-threads-index\"\n    }\n    if (this.props.route.category.css_class) {\n      className += \" page-threads-\" + this.props.route.category.css_class\n    }\n    return className\n  }\n\n  render() {\n    const root = this.props.route.categories[0]\n    const { category, list } = this.props.route\n    const specialRole = category.special_role\n\n    return (\n      <div className={this.getClassName()}>\n        {specialRole == \"root_category\" &&\n          misago.get(\"THREADS_ON_INDEX\") &&\n          misago.get(\"SETTINGS\").index_header && (\n            <PageHeaderPlain\n              header={misago.get(\"SETTINGS\").index_header}\n              message={\n                category.description && (\n                  <PageHeaderHTMLMessage message={category.description.html} />\n                )\n              }\n              styleName=\"forum-index\"\n            />\n          )}\n        {specialRole == \"root_category\" && !misago.get(\"THREADS_ON_INDEX\") && (\n          <PageHeaderPlain header={gettext(\"Threads\")} styleName=\"threads\" />\n        )}\n        {specialRole == \"private_threads\" && (\n          <PageHeaderPlain\n            header={this.props.options.title}\n            message={\n              this.props.options.pageLead && (\n                <PageHeaderMessage>\n                  <p>{this.props.options.pageLead}</p>\n                </PageHeaderMessage>\n              )\n            }\n            styleName=\"private-threads\"\n          />\n        )}\n        {!specialRole && (\n          <PageHeaderPlain\n            header={category.name}\n            message={\n              category.description && (\n                <PageHeaderHTMLMessage message={category.description.html} />\n              )\n            }\n            styleName={category.css_class || \"category-threads\"}\n          />\n        )}\n        <Container\n          api={this.props.options.api}\n          root={root}\n          route={this.props.route}\n          user={this.props.user}\n          pageLead={this.props.options.pageLead}\n          threads={this.props.threads}\n          threadsCount={this.state.count}\n          moderation={this.state.moderation}\n          selection={this.props.selection}\n          busyThreads={this.state.busyThreads}\n          addThreads={this.addThreads}\n          startThread={this.props.options.startThread}\n          freezeThread={this.freezeThread}\n          deleteThread={this.deleteThread}\n          updateThread={this.updateThread}\n          isLoaded={this.state.isLoaded}\n          isBusy={this.state.isBusy}\n        >\n          <ThreadsList\n            category={category}\n            categories={this.props.route.categoriesMap}\n            list={list}\n            selection={this.props.selection}\n            threads={this.props.threads}\n            updatedThreads={this.state.diff.results.length}\n            applyUpdate={this.applyDiff}\n            showOptions={!!this.props.user.id}\n            isLoaded={this.state.isLoaded}\n            busyThreads={this.state.busyThreads}\n            emptyMessage={this.props.options.emptyMessage}\n          />\n          {this.getMoreButton()}\n        </Container>\n      </div>\n    )\n  }\n}\n\nfunction isIndex(props) {\n  if (props.route.category.level || !misago.get(\"THREADS_ON_INDEX\"))\n    return false\n  if (props.options.title) return false\n\n  return true\n}\n","import misago from \"misago/index\"\n\nexport function getPageTitle(route) {\n  if (route.category.level) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: route.category.name,\n      }\n    } else {\n      return {\n        title: route.category.name,\n      }\n    }\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n      }\n    } else {\n      return null\n    }\n  } else {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: gettext(\"Threads\"),\n      }\n    } else {\n      return {\n        title: gettext(\"Threads\"),\n      }\n    }\n  }\n}\n\nexport function getTitle(route) {\n  if (route.category.level) {\n    return route.category.name\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (misago.get(\"SETTINGS\").index_header) {\n      return misago.get(\"SETTINGS\").index_header\n    } else {\n      return misago.get(\"SETTINGS\").forum_name\n    }\n  } else {\n    return gettext(\"Threads\")\n  }\n}\n\nexport function isThreadChanged(current, fromDb) {\n  return (\n    [\n      current.title === fromDb.title,\n      current.weight === fromDb.weight,\n      current.category === fromDb.category,\n      current.last_post === fromDb.last_post,\n      current.last_poster_name === fromDb.last_poster_name,\n    ].indexOf(false) >= 0\n  )\n}\n\nexport function diffThreads(current, fromDb) {\n  let currentMap = {}\n  current.forEach(function (thread) {\n    currentMap[thread.id] = thread\n  })\n\n  return fromDb.filter(function (thread) {\n    if (currentMap[thread.id]) {\n      return isThreadChanged(currentMap[thread.id], thread)\n    } else {\n      return true\n    }\n  })\n}\n\nexport function getModerationActions(threads) {\n  let moderation = {\n    allow: false,\n\n    can_approve: 0,\n    can_close: 0,\n    can_delete: 0,\n    can_hide: 0,\n    can_merge: 0,\n    can_move: 0,\n    can_pin: 0,\n    can_pin_globally: 0,\n    can_unhide: 0,\n  }\n\n  threads.forEach(function (thread) {\n    if (\n      thread.is_unapproved &&\n      thread.acl.can_approve > moderation.can_approve\n    ) {\n      moderation.can_approve = thread.acl.can_approve\n    }\n\n    if (thread.acl.can_close > moderation.can_close) {\n      moderation.can_close = thread.acl.can_close\n    }\n\n    if (thread.acl.can_delete > moderation.can_delete) {\n      moderation.can_delete = thread.acl.can_delete\n    }\n\n    if (thread.acl.can_hide > moderation.can_hide) {\n      moderation.can_hide = thread.acl.can_hide\n    }\n\n    if (thread.acl.can_merge > moderation.can_merge) {\n      moderation.can_merge = thread.acl.can_merge\n    }\n\n    if (thread.acl.can_move > moderation.can_move) {\n      moderation.can_move = thread.acl.can_move\n    }\n\n    if (thread.acl.can_pin > moderation.can_pin) {\n      moderation.can_pin = thread.acl.can_pin\n    }\n\n    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {\n      moderation.can_pin_globally = thread.acl.can_pin_globally\n    }\n\n    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {\n      moderation.can_unhide = thread.acl.can_unhide\n    }\n\n    moderation.allow =\n      moderation.can_approve ||\n      moderation.can_close ||\n      moderation.can_delete ||\n      moderation.can_hide ||\n      moderation.can_merge ||\n      moderation.can_move ||\n      moderation.can_pin ||\n      moderation.can_pin_globally ||\n      moderation.can_unhide\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport RegisterButton from \"misago/components/register-button\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class GuestMenu extends React.Component {\n  showSignInModal() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n  \n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"guest-preview\">\n          <h4>{gettext(\"You are browsing as guest.\")}</h4>\n          <p>\n            {gettext(\n              \"Sign in or register to start and participate in discussions.\"\n            )}\n          </p>\n          {delegateAuth ? (\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <a\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  href={misago.get(\"SETTINGS\").LOGIN_URL}\n                >\n                  {gettext(\"Sign in\")}\n                </a>\n              </div>\n            </div>\n          ) : (\n            <div className=\"row\">\n              <div className=\"col-xs-6\">\n                <button\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  onClick={this.showSignInModal}\n                  type=\"button\"\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </div>\n              <div className=\"col-xs-6\">\n                <RegisterButton className=\"btn-primary btn-register btn-block\">\n                  {gettext(\"Register\")}\n                </RegisterButton>\n              </div>\n            </div>\n          )}\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport class GuestNav extends GuestMenu {\n  render() {\n    if (misago.get(\"SETTINGS\").DELEGATE_AUTH)  {\n      return (\n        <div className=\"nav nav-guest\">\n          <a\n            className=\"btn navbar-btn btn-default btn-sign-in\"\n            href={misago.get(\"SETTINGS\").LOGIN_URL}\n          >\n            {gettext(\"Sign in\")}\n          </a>\n          <div className=\"navbar-left\">\n            <NavbarSearch />\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"nav nav-guest\">\n        <button\n          className=\"btn navbar-btn btn-default btn-sign-in\"\n          onClick={this.showSignInModal}\n          type=\"button\"\n        >\n          {gettext(\"Sign in\")}\n        </button>\n        <RegisterButton className=\"navbar-btn btn-primary btn-register\">\n          {gettext(\"Register\")}\n        </RegisterButton>\n        <div className=\"navbar-left\">\n          <NavbarSearch />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class CompactGuestNav extends React.Component {\n  showGuestMenu() {\n    dropdown.show(GuestMenu)\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showGuestMenu}>\n        <Avatar size=\"64\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { GuestNav, CompactGuestNav } from \"./guest-nav\"\nimport { UserNav, CompactUserNav } from \"./user-nav\"\n\nexport class UserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <UserNav user={this.props.user} />\n    } else {\n      return <GuestNav />\n    }\n  }\n}\n\nexport class CompactUserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <CompactUserNav user={this.props.user} />\n    } else {\n      return <CompactGuestNav />\n    }\n  }\n}\n\nexport function select(state) {\n  return state.auth\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport Avatar from \"misago/components/avatar\"\nimport ChangeAvatarModal, { select } from \"misago/components/change-avatar/root\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class UserMenu extends React.Component {\n  changeAvatar() {\n    modal.show(connect(select)(ChangeAvatarModal))\n  }\n\n  render() {\n    const { user } = this.props\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"dropdown-header\">\n          <strong>{user.username}</strong>\n          <div className=\"row user-stats\">\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">message</span>\n              {user.posts}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">forum</span>\n              {user.threads}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite</span>\n              {user.followers}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite_outline</span>\n              {user.following}\n            </div>\n          </div>\n        </li>\n        <li className=\"divider\" />\n        <li>\n          <a href={user.url}>\n            <span className=\"material-icon\">account_circle</span>\n            {gettext(\"See your profile\")}\n          </a>\n        </li>\n        <li>\n          <a href={misago.get(\"USERCP_URL\")}>\n            <span className=\"material-icon\">done_all</span>\n            {gettext(\"Change options\")}\n          </a>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {gettext(\"Change avatar\")}\n          </button>\n        </li>\n        {!!user.acl.can_use_private_threads && (\n          <li>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">message</span>\n              {gettext(\"Private threads\")}\n              <PrivateThreadsBadge user={user} />\n            </a>\n          </li>\n        )}\n        <li className=\"divider\" />\n        <li className=\"dropdown-buttons\">\n          <button\n            className=\"btn btn-default btn-block\"\n            onClick={() =>\n              document.getElementById(\"hidden-logout-form\").submit()\n            }\n            type=\"button\"\n          >\n            {gettext(\"Log out\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport function PrivateThreadsBadge({ user }) {\n  if (!user.unread_private_threads) return null\n\n  return <span className=\"badge\">{user.unread_private_threads}</span>\n}\n\nexport function UserNav({ user }) {\n  return (\n    <ul className=\"ul nav navbar-nav nav-user\">\n      <li>\n        <NavbarSearch />\n      </li>\n      <UserPrivateThreadsLink user={user} />\n      <li className=\"dropdown\">\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"dropdown-toggle\"\n          data-toggle=\"dropdown\"\n          href={user.url}\n          role=\"button\"\n        >\n          <Avatar user={user} size=\"64\" />\n        </a>\n        <UserMenu user={user} />\n      </li>\n    </ul>\n  )\n}\n\nexport function UserPrivateThreadsLink({ user }) {\n  if (!user.acl.can_use_private_threads) return null\n\n  let title = null\n  if (user.unread_private_threads) {\n    title = gettext(\"You have unread private threads!\")\n  } else {\n    title = gettext(\"Private threads\")\n  }\n\n  return (\n    <li>\n      <a\n        className=\"navbar-icon\"\n        href={misago.get(\"PRIVATE_THREADS_URL\")}\n        title={title}\n      >\n        <span className=\"material-icon\">message</span>\n        {user.unread_private_threads > 0 && (\n          <span className=\"badge\">{user.unread_private_threads}</span>\n        )}\n      </a>\n    </li>\n  )\n}\n\nexport function selectUserMenu(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n\nexport class CompactUserNav extends React.Component {\n  showUserMenu() {\n    dropdown.showConnected(\"user-menu\", connect(selectUserMenu)(UserMenu))\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showUserMenu}>\n        <Avatar user={this.props.user} size=\"50\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return gettext(\"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return gettext(\"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return gettext(\"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return gettext(\"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return gettext(\"Online\")\n    } else if (this.props.status.is_offline) {\n      return gettext(\"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        gettext(\"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\"),\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is banned\"),\n        {\n          username: user.username,\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is hiding presence\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is online (hidden)\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s (hidden)\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      gettext(\"%(username)s is online\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return gettext(\"No name changes have been recorded for your account.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map((i) => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map((change) => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function ({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    gettext(\"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  let message = interpolate(\n    gettext(\"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow(),\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", user.posts)\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = ngettext(\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = ngettext(\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function ({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map((user) => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map((i) => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst UsersNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">menu</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => {\n          const url = getPageUrl(baseUrl, page)\n          return (\n            <li key={url}>\n              <Link to={url}>{page.name}</Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => {\n        const url = getPageUrl(baseUrl, page)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{page.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  </div>\n)\n\nconst getPageUrl = (baseUrl, page) => {\n  let url = baseUrl\n  if (page.component === \"rank\") {\n    url += page.slug\n  } else {\n    url += page.component\n  }\n  return url + \"/\"\n}\n\nexport default UsersNav\n","import React from \"react\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      gettext(\n        \"No users have posted any new messages during last %(days)s days.\"\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map((i) => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = ngettext(\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\",\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    const page = { name: this.props.route.extra.name }\n\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            page={page}\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return (\n          <ListEmpty page={page} trackedPeriod={this.state.trackedPeriod} />\n        )\n      }\n    } else {\n      return <ListPreview page={page} />\n    }\n  }\n}\n","import React from \"react\"\r\n\r\nconst RankUsersLeft = ({ users }) => {\r\n  if (users.more) {\r\n    return (\r\n      <p>\r\n        {interpolate(\r\n          ngettext(\r\n            \"There is %(more)s more member with this role.\",\r\n            \"There are %(more)s more members with this role.\",\r\n            users.more\r\n          ),\r\n          { more: users.more },\r\n          true\r\n        )}\r\n      </p>\r\n    )\r\n  }\r\n\r\n  return <p>{gettext(\"There are no more members with this role.\")}</p>\r\n}\r\n\r\nexport default RankUsersLeft\r\n","import React from \"react\"\nimport UsersList from \"../../users-list\"\n\nconst RankUsersList = ({ users }) => (\n  <UsersList cols={4} isReady={true} showStatus={true} users={users} />\n)\n\nexport default RankUsersList\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nclass RankUsersListLoader extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render = () => <UsersList cols={4} isReady={false} />\n}\n\nexport default RankUsersListLoader\n","import React from \"react\"\r\nimport { Link } from \"react-router\"\r\n\r\nconst RankUsersPagination = ({ baseUrl, users }) => (\r\n  <div className=\"misago-pagination\">\r\n    {users.isLoaded && users.first ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl}\r\n        title={gettext(\"Go to first page\")}\r\n      >\r\n        <span className=\"material-icon\">first_page</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to first page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">first_page</span>\r\n      </button>\r\n    )}\r\n    {users.isLoaded && users.previous ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + (users.previous > 1 ? users.previous + \"/\" : \"\")}\r\n        title={gettext(\"Go to previous page\")}\r\n      >\r\n        <span className=\"material-icon\">chevron_left</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to previous page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">chevron_left</span>\r\n      </button>\r\n    )}\r\n    {users.isLoaded && users.next ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + users.next + \"/\"}\r\n        title={gettext(\"Go to next page\")}\r\n      >\r\n        <span className=\"material-icon\">chevron_right</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to next page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">chevron_right</span>\r\n      </button>\r\n    )}\r\n    {users.isLoaded && users.last ? (\r\n      <Link\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        to={baseUrl + users.last + \"/\"}\r\n        title={gettext(\"Go to last page\")}\r\n      >\r\n        <span className=\"material-icon\">last_page</span>\r\n      </Link>\r\n    ) : (\r\n      <button\r\n        className=\"btn btn-default btn-outline btn-icon\"\r\n        title={gettext(\"Go to last page\")}\r\n        type=\"button\"\r\n        disabled\r\n      >\r\n        <span className=\"material-icon\">last_page</span>\r\n      </button>\r\n    )}\r\n  </div>\r\n)\r\n\r\nexport default RankUsersPagination\r\n","import React from \"react\"\r\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\r\nimport RankUsersLeft from \"./RankUsersLeft\"\r\nimport RankUsersPagination from \"./RankUsersPagination\"\r\n\r\nconst RankUsersToolbar = ({ baseUrl, users }) => (\r\n  <Toolbar>\r\n    <ToolbarSection>\r\n      <ToolbarItem>\r\n        <RankUsersPagination baseUrl={baseUrl} users={users} />\r\n      </ToolbarItem>\r\n    </ToolbarSection>\r\n    <ToolbarSection auto>\r\n      <ToolbarItem>\r\n        <RankUsersLeft users={users} />\r\n      </ToolbarItem>\r\n    </ToolbarSection>\r\n  </Toolbar>\r\n)\r\n\r\nexport default RankUsersToolbar\r\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../../PageContainer\"\nimport RankUsersList from \"./RankUsersList\"\nimport RankUsersListLoader from \"./RankUsersListLoader\"\nimport RankUsersToolbar from \"./RankUsersToolbar\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true,\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page,\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: gettext(\"Users\"),\n      })\n\n      this.setState({\n        isLoaded: false,\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return <RankUsersList users={this.props.users} />\n      } else {\n        return (\n          <p className=\"lead\">\n            {gettext(\"There are no users with this rank at the moment.\")}\n          </p>\n        )\n      }\n    } else {\n      return <RankUsersListLoader />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={{ name: this.props.route.rank.name }}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          {this.getRankDescription()}\n          {this.getComponent()}\n          <RankUsersToolbar\n            baseUrl={\n              misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n            }\n            users={this.state}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"users-lists\">\n            <PageHeaderBanner styleName=\"users-lists\">\n              <h1>{gettext(\"Users\")}</h1>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function (item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name,\n        },\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false,\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown,\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false,\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || gettext(\"yes\")\n    } else {\n      return this.props.labelOff || gettext(\"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value,\n      },\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      (data) => {\n        dispatch(load(data))\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import \"bootstrap/js/transition\"\nimport \"bootstrap/js/affix\"\nimport \"bootstrap/js/modal\"\nimport \"bootstrap/js/dropdown\"\nimport \"at-js\"\nimport \"cropit\"\nimport \"waypoints\"\nimport \"jquery-caret\"\nimport \"highlight\"\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before,\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach((initializer) => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n}\n\n// create  singleton\nvar misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function () {\n      ajax.get(context.get(\"AUTH_API\")).then(\n        function (data) {\n          store.dispatch(patch(data))\n        },\n        function (rejection) {\n          snackbar.apiError(rejection)\n        }\n      )\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\",\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer,\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Categories, { select } from \"misago/components/categories\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"categories-mount\")) {\n    mount(connect(select)(Categories), \"categories-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:categories\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Options, { paths } from \"misago/components/options/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USER_OPTIONS\")) {\n    mount({\n      root: misago.get(\"USERCP_URL\"),\n      component: Options,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:options\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\",\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import paths from \"misago/components/search\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\")),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\",\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/threads/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nconst PRIVATE_THREADS_LIST = \"misago:private-threads\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREADS\") && context.has(\"CATEGORIES\")) {\n    mount({\n      paths: paths(context.get(\"user\"), getListOptions(context)),\n    })\n  }\n}\n\nexport function getListOptions(context) {\n  const currentLink = context.get(\"CURRENT_LINK\")\n  if (\n    currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST\n  ) {\n    return {\n      api: context.get(\"PRIVATE_THREADS_API\"),\n      startThread: {\n        mode: \"START_PRIVATE\",\n        submit: misago.get(\"PRIVATE_THREADS_API\"),\n      },\n      title: gettext(\"Private threads\"),\n      pageLead: gettext(\n        \"Private threads are threads which only those that started them and those they have invited may see and participate in.\"\n      ),\n      emptyMessage: gettext(\"You aren't participating in any private threads.\"),\n    }\n  }\n\n  return {\n    api: context.get(\"THREADS_API\"),\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:threads\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport {\n  UserMenu,\n  CompactUserMenu,\n  select,\n} from \"misago/components/user-menu/root\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(UserMenu), \"user-menu-mount\")\n  mount(connect(select)(CompactUserMenu), \"user-menu-compact-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:user-menu\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-placeholder\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\"),\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\",\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\",\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function () {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer,\n})\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false,\n}\n\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch,\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user,\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft,\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user,\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft,\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars,\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug,\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState,\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data,\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL,\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false,\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false,\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on),\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch,\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost,\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post,\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post,\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS,\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false,\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS,\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState,\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts,\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts,\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map((post) => {\n        return Object.assign({}, post, {\n          isSelected: false,\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts,\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map((post) => {\n        return post.id\n      })\n\n      action.state.results.map((post) => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results,\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false,\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map((post) => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts,\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState,\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus,\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch,\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status),\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars,\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug,\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: [],\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState,\n    },\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState,\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider,\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map((provider) => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        }),\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds,\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE,\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId,\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false,\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type,\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR,\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true,\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data,\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data,\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\",\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting,\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread,\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items,\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting,\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting,\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    started_on: moment(thread.started_on),\n    last_post_on: moment(thread.last_post_on),\n    moderation: getThreadModerationOptions(thread.acl),\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0,\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK,\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy,\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on),\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username,\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars,\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug,\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items,\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null,\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status),\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars,\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug,\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function (data) {\n          resolve(data)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function () {\n            return\n          },\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function (resolve, reject) {\n          let wait = function (url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function () {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function () {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false,\n        }\n\n        return new Promise(function (resolve, reject) {\n          self.request(\"GET\", url).then(\n            function (data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function (rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function () {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function (response) {\n          resolve(response)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = gettext(\n              \"Upload was rejected by server as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username,\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false,\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", (newState) => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username,\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username,\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function (resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function (data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"))\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: (response) => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response,\n          },\n        })\n      },\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function (resolve) {\n      var wait = function () {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function () {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={gettext(\"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={gettext(\n          \"This test helps us prevent automated spam registrations on our site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\",\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", (e) => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function (watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback,\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = (domnode) => {\n    if (!domnode) return\n    this.highlightCode(domnode)\n    this.embedYoutubePlayers(domnode)\n  }\n\n  highlightCode(domnode) {\n    const codeblocks = domnode.querySelectorAll(\"pre>code\")\n    for (let i = 0; i < codeblocks.length; i++) {\n      const code = codeblocks[i]\n      hljs.highlightBlock(code)\n    }\n  }\n\n  embedYoutubePlayers(domnode) {\n    const anchors = domnode.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?rel=0\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" src=\"' +\n        url +\n        '\" allowfullscreen></iframe>'\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter((i) => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video,\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        gettext(\"page: %(page)s\"),\n        {\n          page: title.page,\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        (data) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        (rejection) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency),\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { PollForm } from \"misago/components/poll\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, placeholder) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._placeholder = $(placeholder)\n\n    this._mode = null\n\n    this._isOpen = false\n    this._isClosing = false\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      this._mode = props.mode\n      this._isOpen = props.submit\n      this._realOpen(props)\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n      if (this._mode == \"POLL\") {\n        message = gettext(\n          \"You are already working on a poll. Do you want to discard it?\"\n        )\n      }\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    if (props.mode == \"POLL\") {\n      mount(<PollForm {...props} />, \"posting-mount\")\n    } else {\n      mount(<PostingComponent {...props} />, \"posting-mount\")\n    }\n\n    this._placeholder.addClass(\"slide-in\")\n\n    $(\"html, body\").animate(\n      {\n        scrollTop: this._placeholder.offset().top,\n      },\n      1000\n    )\n  }\n\n  close = () => {\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._placeholder.removeClass(\"slide-in\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(\n          document.getElementById(\"posting-mount\")\n        )\n        this._isClosing = false\n        this._isOpen = false\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert(message, type) {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info(message) {\n    this.alert(message, \"info\")\n  }\n\n  success(message) {\n    this.alert(message, \"success\")\n  }\n\n  warning(message) {\n    this.alert(message, \"warning\")\n  }\n\n  error(message) {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError(rejection) {\n    let message = rejection.detail\n\n    if (!message) {\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\")\n      } else {\n        message = gettext(\"Unknown error has occured.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = gettext(\"You don't have permission to perform this action.\")\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function (resolve, reject) {\n      var wait = function (tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function () {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function (resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function (state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function (ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title = gettext(\"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function (list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function (element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function (a, b) {\n  let ids = []\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\",\n}\n\nexport default function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m]\n  })\n}\n","export default function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","const URL_PATTERN = new RegExp(\n  \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n  \"i\"\n)\n\nexport default function (str) {\n  return URL_PATTERN.test($.trim(str))\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function (Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null,\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function (item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function (item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function (item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function (options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: [],\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function (nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        },\n      },\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  }\n}\n","export default function (string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z]+$\", \"i\")\n\nexport function required(message) {\n  return function (value) {\n    if (value === false || value === null || $.trim(value).length === 0) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = gettext(\"You have to accept the terms of service.\")\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = gettext(\"You have to accept the privacy policy.\")\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\")\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function (lengthMin) {\n    return ngettext(\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function (lengthMax) {\n    return ngettext(\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\n        \"Username can only contain latin alphabet letters and digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function (value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = ngettext(\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/ajax.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth-sync.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/captcha.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/accept-agreement.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/auth-message.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/banned-page.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/categories.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/options.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-activation-link.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-password-reset.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/reset-password-form.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/social-auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/user-menu.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/include.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/local-storage.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/modal.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/moment-locale.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/page-title.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/polls.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/posting.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/participants.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/poll.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/posts.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-details.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/selection.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/tick.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/username-history.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/store.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/tick-start.js\"); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/zxcvbn.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["e","n","window","self","undefined","exports","hljs","define","amd","replace","I","t","nodeName","toLowerCase","r","exec","index","i","k","test","a","o","className","parentNode","B","R","split","length","u","firstChild","nextSibling","nodeType","nodeValue","push","event","offset","node","match","c","value","l","w","map","call","attributes","join","s","f","g","substring","reverse","forEach","splice","pop","substr","source","RegExp","cI","compiled","bK","Number","E","lR","b","bR","eW","eR","tE","iR","v","starts","concat","filter","Boolean","endsParent","parent","N","hasOwnProperty","h","y","classPrefix","C","p","lastIndex","M","d","sL","x","L","top","language","cN","Object","create","m","skip","eB","rB","rE","eE","Error","j","O","T","message","indexOf","languages","second_best","tabReplace","useBR","trim","document","createElementNS","innerHTML","textContent","result","re","called","querySelectorAll","addEventListener","aliases","keys","highlight","highlightAuto","fixMarkup","highlightBlock","configure","initHighlighting","initHighlightingOnLoad","registerLanguage","listLanguages","getLanguage","inherit","IR","UIR","NR","CNR","BNR","RSR","BE","ASM","QSM","PWM","CLCM","CBCM","HCM","NM","CNM","BNM","CSSNM","RM","TM","UTM","METHOD_GUARD","name","keyword","built_in","literal","_","classnames","React","Breadcrumbs","children","BreadcrumbsCategory","category","url","color","short_name","BreadcrumbsRootCategory","special_role","gettext","FlexRow","FlexRowCol","shrink","FlexRowSection","auto","PageContainer","PageHeader","styleName","PageHeaderBanner","PageHeaderContainer","PageHeaderDetails","PageHeaderHTMLMessage","__html","PageHeaderMessage","PageHeaderPlain","header","misago","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","props","errors","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","get","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","LegalAgreement","agreement","checked","onChange","agreementHtml","interpolate","label","error","StartSocialAuth","buttonClassName","buttonLabel","formLabel","labelClassName","socialAuth","id","button_text","button_color","style","finalButtonLabel","site","FormHeader","text","ThreadFlags","thread","weight","best_answer","has_poll","is_unapproved","has_unapproved_posts","is_closed","is_hidden","ThreadReplies","ngettext","replies","Math","round","Avatar","ThreadStarterCard","starter","username","starter_name","timestamp","started_on","format","fromNow","ThreadsListEmpty","ThreadsListItem","ThreadsListLoader","ThreadsListUpdatePrompt","ThreadsList","list","categories","threads","busyThreads","selection","isLoaded","showOptions","updatedThreads","applyUpdate","emptyMessage","type","ThreadsListItemActivity","ThreadsListItemCategory","ThreadsListItemCheckbox","ThreadsListItemIcon","ThreadsListItemLastPoster","ThreadsListItemSubscription","activeCategory","showSubscription","isBusy","isSelected","hasFlags","isNew","is_new","title","new_post","moderation","last_post","last_post_on","getClassName","select","store","disabled","dispatch","item","is_read","last_poster","poster","last_poster_name","ThreadsListItemSubscriptionOptions","getSubscriptionTitle","subscription","getSubscriptionIcon","patch","ajax","snackbar","SUBSCRIPTION","unsubscribe","notify","email","setState","loading","api","op","path","then","rejection","apiError","state","update","Component","UIPreviewText","onClick","Toolbar","ToolbarItem","ToolbarSection","ToolbarSpacer","width","AcceptAgreement","submiting","confirmation","confirm","post","accept","location","reload","handleDecline","handleAccept","Form","FormGroup","participants","updateAcl","modal","changeValue","target","isLoading","data","success","hide","handleSubmit","onUsernameChange","ModalHeader","signedIn","signedOut","user","getMessage","refresh","auth","size","size2x","getSrc","resolveAvatarForSize","avatars","avatar","av","moment","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","Loader","Button","defaultProps","Category","ListItem","css_class","subcategories","description","getTitle","getIcon","Main","LastThread","Stats","Subcategories","isFirst","acl","can_browse","can_see_all_threads","last_thread_title","last_thread_new","LastPosterAvatar","LastPosterName","Empty","Private","Protected","Message","Description","Icon","posts","Threads","Posts","Blankslate","CategoriesList","polls","hydrate","assign","startPolling","start","poll","frequency","tick","choices","repeat","level","avatarType","upload","cropit","$","deviceRatio","cropitOffset","crop","zoom","onComplete","detail","status","showError","options","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","height","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","Gallery","images","row","image","response","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","component","completeFlow","getBody","fileSize","getElementById","click","files","validationError","validateFile","preview","URL","createObjectURL","progress","FormData","append","uploaded","info","limit","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","allowed_extensions","extension","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","uploadFile","getUploadProgress","renderCrop","renderUpload","PanelMessage","display","Select","ev","field","fieldname","input","FieldInput","fields","help_text","Fieldset","groups","group","initial","onSuccess","onCancel","CancelButton","cancel","FormDisplay","replaceSelection","execAction","Action","insertCode","syntax","prompt","makeEmphasis","insertHr","isUrl","insertImage","insertLink","insertQuote","insertSpoiler","makeStrikethrough","makeStrong","formatFilesize","DATE_ABBR","USER_SPAN","USER_URL","insertAttachment","is_image","thumb","filename","updateItem","isRemoved","newState","updatedAttachments","attachments","onAttachmentsChange","onInsert","onRemove","onUndo","Preview","Image","thumbnailUrl","backgroundImage","Filename","Details","uploader","uploader_name","date","absolute","uploaded_on","relative","filetype","Actions","Insert","Remove","can_delete","Undo","STRONG","filteredAttachments","key","AttachmentComplete","AttachmentError","AttachmentUpload","List","Uploader","max_attachment_size","Attachment","file","getRandomKey","Date","getTime","Code","Emphasis","Hr","Link","Spoiler","Strikethrough","Strong","Quote","AttachmentsEditor","Upload","MarkupPreview","textUtils","isPreviewLoading","show","parsed","operation","getSelectionText","_replaceSelection","newValue","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","query","callback","getJSON","q","on","flag","onPreviewClick","submitLabel","canProtect","onProtect","onUnprotect","protect","placeholder","Protect","MisagoMarkup","markup","textareaId","getTextarea","getValue","getSelectionRange","end","getSelection","ctrl","focus","range","createRange","moveStart","selectionStart","selectionEnd","setSelection","selectionRange","setSelectionRange","createTextRange","collapse","moveEnd","_replace","myRange","replacement","startText","validation","isValidated","for","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","formErrors","validateField","preventDefault","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","onError","bestAnswer","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","choice","PollSelect","onebox","render","documentNode","find","revealSpoiler","prevProps","prevState","nextProps","nextState","btn","addClass","icon","MAX_RESULTS","filtered","section","results","count","slice","HEADER","RESULT","FOOTER","Input","flatlist","flattenProviders","arrayLength","provider","flattenProvider","DropdownMenu","Result","flattenResults","flatResults","encodeURI","Footer","Header","Thread","User","footer","content","posted_on","poster_name","rank","joined_on","cleanResults","Dropdown","isOpen","setTimeout","container","querySelector","closeResults","loadResults","intervalId","onDocumentMouseDown","onEscape","removeEventListener","delay","random","clearTimeout","onToggle","PanelLoader","next_on","next_change","usernameContent","usernameMinLength","length_min","usernameMaxLength","length_max","phrases","changes_left","name_changes_expire","complete","slug","bindInput","FormLoading","FormLocked","UsernameHistory","addNameChange","updateUsername","set","Promise","all","getChangeForm","password","delete","href","onPasswordChange","DownloadData","data_downloads","downloads","isSubmiting","request_data_download","handleLoadDownloads","rowStyle","requested_on","handleRequestDataDownload","verticalAlign","STATUS_PENDING","STATUS_PROCESSING","DownloadButton","exportFile","edit_details","YesNoSwitch","is_hiding_presence","limits_private_thread_invites_to","subscribe_to_started_threads","subscribe_to_replied_threads","privateThreadInvitesChoices","subscribeToChoices","Li","SideNav","option","baseUrl","CompactNav","hideNav","connect","DeleteAccount","EditDetails","ChangeForumOptions","ChangeUsername","ChangeSignInCredentials","WithDropdown","page","paths","delegateAuth","DELEGATE_AUTH","UnusablePasswordMessage","new_email","lengths","change_email","new_password","repeat_password","change_password","ChangeEmail","ChangePassword","has_usable_password","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","remove","changeOwner","MakeOwner","is_owner","UserStatus","isOwner","Card","userIsOwner","confirmed","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","users","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","load","inputs","cacheStale","scorePassword","score","getScore","hash","generateRandomHash","setChoices","onDelete","onAdd","PollChoice","deleteItem","canDelete","randomHash","toString","ChoicesControl","posting","close","question","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","PollPublicSwitch","Poll","PollForm","votes","PollCreation","getPoster","getPostedOn","PollLength","ends_on","getEndsOn","endsOn","PollVotes","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","ceil","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","control","ChangeVote","SeeVotes","seeVotes","Edit","open","submit","mode","Delete","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","diff","DiffItem","getItemClassName","cleanItem","revertEdit","edit","canRevert","Diff","hydrateEdit","edits","isReady","hydratedPost","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","edited_on","edited_by","json","Post","Default","Invalid","tooltip","Body","PostSide","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","int","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","Editor","Container","getPostValidators","is_protected","can_protect","isErrored","config","loadSuccess","loadError","onPostChange","Start","StartPrivate","Reply","newPost","context","newContext","reply","appendData","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","CategorySelect","categoryOptions","pin","columns","titleStyle","onCategoryChange","onClose","onHide","onOpen","onPinGlobally","onPinLocally","onUnhide","onUnpin","completedAttachments","attachment","columnClassName","textClassName","CloseOptions","HideOptions","PinOptions","usernames","normalisedNames","removedBlanks","removedDuplicates","pos","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","post_length_min","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","closed","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","EventIcon","event_type","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","Event","PostPreview","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","AttachmentDetails","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","unhide","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isHidden","isUnedited","Approve","can_approve","Move","can_move","Split","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","actions","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","UserPostcount","UserStatusLabel","hasVisibleTitle","StatusLabel","deselect","can_merge_posts","element","waypoint","handler","direction","boundingClientRect","getBoundingClientRect","offsetBottom","clientHeight","documentElement","read","thread_is_read","Status","ProfileDataList","profile","is_active","FollowButton","MessageButton","ModerationOptions","ProfileHeader","follow","available","ProfileModerationButton","ProfileNav","pages","ban","has","initWithPreloadedData","initWithoutPreloadedData","stop","user_message","staff_message","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","ProfileDetailsHeader","onEdit","showEditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","Route","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","action","getLabel","Search","UsersList","loadUsers","search","more","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","canMessage","can_start_private_threads","isProfileOwner","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","showAvatarDialog","rename","showRenameDialog","showDeleteDialog","BanDetails","Follows","getModeration","can_follow","is_anonymous","can_rename","can_moderate_avatar","COMPONENTS","follows","details","loadChanges","changes","RegisterForm","captcha","account_activation","criteria","showRegisterForm","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","form","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","completeRegistration","RequestLinkForm","code","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","SignInModal","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","urlQuery","history","pushState","encodeURIComponent","providers","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SearchTime","time","Badge","SearchPage","route","appendPosts","updateProvider","LoadMore","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadModeration","ThreadSubscriptionButton","ThreadHeaderBreadcrumbs","ThreadHeader","is_authenticated","enabled","breadcrumbs","ThreadModerationOptions","ThreadPagination","first","last","ThreadPollButton","compact","ThreadPostsLeft","ThreadPostsModerationOptions","ThreadPostsModeration","dropup","ThreadReplyButton","ThreadShortcutsButton","unapproved_post","stickToBottom","alert","oldState","finalState","ThreadToolbarBottom","onReply","ThreadToolbarTop","onPoll","can_start_poll","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","ErrorsModal","Array","isArray","handleSuccessUnmounted","ThreadChangeTitleModal","MergeModal","successMessage","changeTitle","pinGlobally","pinLocally","unpin","MergeConflict","best_answers","other_thread","post_set","ModalLoading","basePath","pk","Participants","PostsList","setPageTitle","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","threadModeration","getThreadModeration","postsModeration","getPostsModeration","openPollForm","openReplyForm","can_close","can_pin_globally","can_pin","can_unprotect","ThreadsCategoryPicker","allItems","parentUrl","ThreadsListPicker","lists","longName","ThreadsToolbarModeration","ThreadsToolbar","categoriesMap","topCategory","topCategories","subCategory","subCategories","addThreads","startThread","freezeThread","updateThread","deleteThread","allow","ModerationControls","compareLastPostAge","compareGlobalWeight","compareWeight","root","getTopCategory","cat","MergeThreads","MoveThreads","threadsMap","failedThreads","noSelection","none","ThreadErrors","filterThreads","getFormdata","categoryChoices","can_start_threads","renderForm","renderCantMergeMessage","storeState","getState","leftThreads","acls","renderCantMoveMessage","getSelect","getLists","can_see_unapproved_content_lists","routes","diffThreads","getModerationActions","getPageTitle","sets","loadThreads","getCategory","getSorting","currentState","toggle","isMounted","dropdown","pollResponse","index_title","forum_name","isIndex","specialRole","index_header","pageLead","applyDiff","isThreadChanged","current","fromDb","currentMap","NavbarSearch","RegisterButton","GuestMenu","LOGIN_URL","showSignInModal","GuestNav","CompactGuestNav","showGuestMenu","UserNav","CompactUserNav","UserMenu","CompactUserMenu","ChangeAvatarModal","following","changeAvatar","can_use_private_threads","PrivateThreadsBadge","unread_private_threads","UserPrivateThreadsLink","selectUserMenu","showConnected","showUserMenu","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","showStatus","JoinDate","getStatClassName","stat","cols","colClassName","apply","UsersNav","getPageUrl","days","trackedPeriod","rankUrl","getUserStatus","getRankName","getUserTitle","counter","meta","ItemPreview","posters","getLeadMessage","tracked_period","RankUsersLeft","RankUsersList","RankUsersListLoader","RankUsersPagination","RankUsersToolbar","PageLead","getRankDescription","getComponent","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","OrderedList","Misago","_initializers","_context","initializer","after","before","initOrder","orderedValues","fallback","init","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Categories","Profile","RequestActivationLink","RequestPasswordReset","PRIVATE_THREADS_LIST","getListOptions","currentLink","Users","locale","attr","forum_index_title","reducer","initialState","addReducer","isAnonymous","doTick","TICK_PERIOD","UPDATE_AVATAR","UPDATE_USERNAME","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","userId","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","add","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","items","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","sort","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","floor","now","APPEND_USERS","HYDRATE_USERS","Ajax","_cookieName","_csrfToken","_locks","cookieName","cookie","cookieRegex","method","resolve","reject","xhr","headers","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","request","processData","XMLHttpRequest","evt","lengthComputable","total","Auth","local","_store","_local","_modal","syncSession","watchState","watch","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","cache","localStorage","LocalStorage","prefix","_prefix","_watchers","newValueJson","parse","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","domnode","highlightCode","embedYoutubePlayers","_youtube","codeblocks","anchors","onlyChild","childNodes","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","youtube","video","player","replaceWith","wrap","cleanedUrl","cleanUrl","getVideoIdFromUrl","timebit","bits","parseInt","PageTitle","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","timeout","pollId","PostingComponent","Posting","_isOpen","_isClosing","_placeholder","_mode","_realOpen","changeForm","animate","scrollTop","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","Provider","BannedPage","RedrawedBannedPage","changeState","getStore","rowWidth","padding","rows","bytes","roundSize","toFixed","URL_PATTERN","str","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values","values_only","_order","unordered","ordered","ordering","insertItem","insertAt","iterations","min","max","array","Router","browserHistory","childRoutes","onEnter","replaceState","string","subString","EMAIL","USERNAME","returnMessage","lengthMin","lengthMax"],"sourceRoot":""}